(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[3136],{41046:(e,t,a)=>{"use strict";a.d(t,{A:()=>x});var n=a(89379),r=a(31206),i=a(4450),l=a(71778),o=a(35066),s=a(65043),c=a(71094),d=a(10216),u=a(76914),h=a(78152),m=a(85369),v=a(70579);function x(e){const{columnsData:t,tableData:a,title:x,type:f,selectedValues:p,setSelectedValues:g}=e,S=(0,s.useMemo)((()=>t),[t]),y=(0,s.useMemo)((()=>a),[a]),[j,b]=(JSON.parse(localStorage.getItem("user")),(0,s.useState)()),C=(0,c.useTable)({columns:S,data:y,initialState:{pageIndex:0}},c.useGlobalFilter,c.useSortBy,c.usePagination),{getTableProps:D,getTableBodyProps:w,headerGroups:$,prepareRow:B,page:T,canPreviousPage:N,canNextPage:z,pageOptions:L,pageCount:A,gotoPage:M,nextPage:O,previousPage:F,setPageSize:W,state:{pageIndex:k,pageSize:_}}=C;L.length<j&&b(L.length);const H=(0,r.dU)("gray.500","white"),I=(0,r.dU)("gray.200","whiteAlpha.100"),V=(e,t)=>{"multi"===f?e.target.checked?g((e=>[...e,t])):g((e=>e.filter((e=>e!==t)))):e.target.checked?g(t):g(null)};return(0,v.jsxs)(d.A,{direction:"column",w:"100%",px:"0px",style:{border:"1px solid gray.200"},overflowX:{sm:"scroll",lg:"hidden"},children:[(0,v.jsx)(i.Flex,{px:"25px",justify:"space-between",mb:"20px",align:"center",children:(0,v.jsxs)(i.Text,{color:H,fontSize:"22px",fontWeight:"700",lineHeight:"100%",children:[x,"  (",(0,v.jsx)(u.A,{targetNumber:null===y||void 0===y?void 0:y.length},null===y||void 0===y?void 0:y.length),")"]})}),(0,v.jsx)(i.Box,{overflowY:"auto",className:"table-container-property",children:(0,v.jsxs)(l.XI,(0,n.A)((0,n.A)({},D()),{},{variant:"simple",color:"gray.500",mb:"24px",children:[(0,v.jsx)(l.d8,{zIndex:1,children:null===$||void 0===$?void 0:$.map(((e,t)=>(0,s.createElement)(l.Tr,(0,n.A)((0,n.A)({},e.getHeaderGroupProps()),{},{key:t}),e.headers.map(((e,t)=>(0,s.createElement)(l.Th,(0,n.A)((0,n.A)({},e.getHeaderProps(!1!==e.isSortable&&e.getSortByToggleProps())),{},{pe:"10px",key:t,borderColor:I}),(0,v.jsxs)(i.Flex,{align:"center",justifyContent:e.center?"center":"start",fontSize:{sm:"14px",lg:"16px"},color:" secondaryGray.900",children:[(0,v.jsx)("span",{style:{textTransform:"capitalize",marginRight:"8px"},children:e.render("Header")}),!1!==e.isSortable&&(0,v.jsx)("span",{children:e.isSorted?e.isSortedDesc?(0,v.jsx)(m.GOR,{}):(0,v.jsx)(m.XhJ,{}):(0,v.jsx)(m.MjW,{})})]})))))))}),(0,v.jsxs)(l.NN,(0,n.A)((0,n.A)({},w()),{},{children:[0===(null===y||void 0===y?void 0:y.length)&&(0,v.jsx)(l.Tr,{children:(0,v.jsx)(l.Td,{colSpan:S.length,children:(0,v.jsx)(i.Text,{textAlign:"center",width:"100%",color:H,fontSize:"sm",fontWeight:"700",children:"-- No Data Found --"})})}),null===T||void 0===T?void 0:T.map(((e,t)=>{var a;return B(e),(0,s.createElement)(l.Tr,(0,n.A)((0,n.A)({},null===e||void 0===e?void 0:e.getRowProps()),{},{key:t}),null===e||void 0===e||null===(a=e.cells)||void 0===a?void 0:a.map(((e,t)=>{let a="";var r;"#"===(null===e||void 0===e?void 0:e.column.Header)?a=(0,v.jsxs)(i.Flex,{align:"center",children:["multi"===f?(0,v.jsx)(o.Sc,{colorScheme:"brandScheme",value:p,isChecked:p.includes(null===e||void 0===e?void 0:e.value),onChange:t=>V(t,null===e||void 0===e?void 0:e.value),me:"10px"}):(0,v.jsx)(o.Sc,{colorScheme:"brandScheme",value:p,isChecked:p===(null===e||void 0===e?void 0:e.value),onChange:t=>V(t,null===e||void 0===e?void 0:e.value),me:"10px"}),(0,v.jsx)(i.Text,{color:H,fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e||null===(r=e.row)||void 0===r?void 0:r.index)+1})]}):"title"===(null===e||void 0===e?void 0:e.column.Header)||"first Name"===(null===e||void 0===e?void 0:e.column.Header)||"last Name"===(null===e||void 0===e?void 0:e.column.Header)?a=(0,v.jsx)(i.Text,{me:"10px",color:H,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}):"phone Number"===(null===e||void 0===e?void 0:e.column.Header)||"Email Address"===(null===e||void 0===e?void 0:e.column.Header)?a=(0,v.jsx)(i.Text,{fontSize:"sm",fontWeight:"700",color:H,children:null===e||void 0===e?void 0:e.value}):("physical Address"===(null===e||void 0===e?void 0:e.column.Header)||"mailing Address"===(null===e||void 0===e?void 0:e.column.Header)||"Contact Method"===(null===e||void 0===e?void 0:e.column.Header))&&(a=(0,v.jsx)(i.Text,{color:H,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}));return(0,s.createElement)(l.Td,(0,n.A)((0,n.A)({},null===e||void 0===e?void 0:e.getCellProps()),{},{key:t,fontSize:{sm:"14px"},minW:{sm:"150px",md:"200px",lg:"auto"},borderColor:"transparent"}),a)})))}))]}))]}))}),(null===y||void 0===y?void 0:y.length)>5&&(0,v.jsx)(h.A,{gotoPage:M,gopageValue:j,setGopageValue:b,pageCount:A,canPreviousPage:N,previousPage:F,canNextPage:z,pageOptions:L,setPageSize:W,nextPage:O,pageSize:_,pageIndex:k})]})}},43136:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>P});var n=a(65043),r=a(73216),i=a(35475),l=a(14034),o=a(19754),s=a(4450),c=a(85376),d=a(22554),u=a(66305),h=a(95574),m=a(88031),v=a(17368),x=a(86178),f=a.n(x),p=a(40848),g=a(78510),S=a(95104),y=a(84626),j=a(67682),b=a(53186),C=a(49565),D=a(91125),w=a(19488),$=a(60446),B=a.n($),T=a(63516),N=a(3388),z=a(89849),L=a(70579);const A=e=>{const{onClose:t,isOpen:a,setAction:r}=e,[i,l]=(0,n.useState)(!1),[o,c]=(0,n.useState)([]),[h,m]=(0,n.useState)([]),[v,x]=(0,n.useState)(!1),[f,$]=(0,n.useState)(!1),A=JSON.parse(localStorage.getItem("user")),M=(new Date).toISOString().split(".")[0],O={sender:null===A||void 0===A?void 0:A._id,recipient:"",callDuration:"",callNotes:"",createByContact:"",createByLead:"",startDate:"",category:"contact",createBy:null===A||void 0===A?void 0:A._id},F=(0,T.Wx)({initialValues:O,validationSchema:z.Ar,onSubmit:(e,t)=>{let{resetForm:a}=t;G(),a()}}),{errors:W,touched:k,values:_,handleBlur:H,handleChange:I,handleSubmit:V,setFieldValue:P}=F,G=async()=>{try{l(!0),200===(await(0,u.d_)("api/phoneCall/add",_)).status&&(e.onClose(),r((e=>!e)))}catch(t){console.log(t)}finally{l(!1)}};(0,n.useEffect)((async()=>{_.start=null===e||void 0===e?void 0:e.date;try{let e;var t;if("Contact"===_.category&&h.length<=0)e=await(0,u.x4)("superAdmin"===A.role?"api/contact/":"api/contact/?createBy=".concat(A._id)),m(null===(t=e)||void 0===t?void 0:t.data);else if("Lead"===_.category&&o.length<=0){var a;e=await(0,u.x4)("superAdmin"===A.role?"api/lead/":"api/lead/?createBy=".concat(A._id)),c(null===(a=e)||void 0===a?void 0:a.data)}}catch(n){console.log(n)}}),[null===e||void 0===e?void 0:e.date,_.category]);return(0,n.useEffect)((()=>{(async()=>{if(_.createByContact){let e=h.find((e=>e._id===_.createByContact));e&&P("recipient",e.phoneNumber)}else if(_.createByLead){let e=o.find((e=>e._id===_.createByLead));e&&P("recipient",e.leadPhoneNumber)}else P("recipient","")})()}),[_.createByContact,_.createByLead]),(0,L.jsxs)(p.aF,{onClose:t,isOpen:a,isCentered:!0,children:[(0,L.jsx)(p.mH,{}),(0,L.jsxs)(p.$m,{children:[(0,L.jsx)(p.rQ,{children:"Add Call "}),(0,L.jsx)(p.s_,{}),(0,L.jsxs)(p.cw,{children:[(0,L.jsx)(C.A,{isOpen:v,data:h,onClose:x,fieldName:"createByContact",setFieldValue:P}),(0,L.jsx)(D.A,{isOpen:f,data:o,onClose:$,fieldName:"createByLead",setFieldValue:P}),(0,L.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(g.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Related"}),(0,L.jsx)(S.z6,{onChange:e=>{P("category",e),P("createByContact",""),P("createByLead","")},value:_.category,children:(0,L.jsxs)(s.Stack,{direction:"row",children:[(0,L.jsx)(S.sx,{value:"Contact",children:"Contact"}),(0,L.jsx)(S.sx,{value:"Lead",children:"Lead"})]})}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",W.category&&k.category&&W.category]})]}),(0,L.jsx)(s.GridItem,{colSpan:{base:12},children:"Contact"===_.category?(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(g.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Recipient  (Contact)"}),(0,L.jsxs)(s.Flex,{justifyContent:"space-between",children:[(0,L.jsx)(y.l6,{value:_.createByContact,name:"createByContact",onChange:I,mb:W.createByContact&&k.createByContact?void 0:"10px",fontWeight:"500",placeholder:"Assign To",borderColor:W.createByContact&&k.createByContact?"red.300":null,children:null===h||void 0===h?void 0:h.map((e=>(0,L.jsx)("option",{value:e._id,children:"Contact"===_.category?"".concat(e.firstName," ").concat(e.lastName):e.leadName},e._id)))}),(0,L.jsx)(d.IconButton,{onClick:()=>x(!0),ml:2,fontSize:"25px",icon:(0,L.jsx)(N.G2h,{})})]}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",W.createByContact&&k.createByContact&&W.createByContact]})]})}):"Lead"===_.category?(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(g.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Recipient (Lead)"}),(0,L.jsxs)(s.Flex,{justifyContent:"space-between",children:[(0,L.jsx)(y.l6,{value:_.createByLead,name:"createByLead",onChange:I,mb:W.createByLead&&k.createByLead?void 0:"10px",fontWeight:"500",placeholder:"Assign To",borderColor:W.createByLead&&k.createByLead?"red.300":null,children:null===o||void 0===o?void 0:o.map((e=>(0,L.jsx)("option",{value:e._id,children:"Contact"===_.category?"".concat(e.firstName," ").concat(e.lastName):e.leadName},e._id)))}),(0,L.jsx)(d.IconButton,{onClick:()=>$(!0),ml:2,fontSize:"25px",icon:(0,L.jsx)(N.G2h,{})})]}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",W.createByLead&&k.createByLead&&W.createByLead]})]})}):""}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,L.jsxs)(g.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Recipient",(0,L.jsx)(s.Text,{color:"red",children:"*"})]}),(0,L.jsx)(j.Input,{fontSize:"sm",disabled:!0,value:_.recipient?_.recipient:"",name:"recipient",placeholder:"Recipient",fontWeight:"500",borderColor:W.recipient&&k.recipient?"red.300":null})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsxs)(g.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Start Date",(0,L.jsx)(s.Text,{color:"red",children:"*"})]}),(0,L.jsx)(j.Input,{type:"datetime-local",fontSize:"sm",onChange:I,onBlur:H,min:B()(M).format("YYYY-MM-DD HH:mm"),value:_.startDate,name:"startDate",fontWeight:"500",borderColor:null!==W&&void 0!==W&&W.startDate&&null!==k&&void 0!==k&&k.startDate?"red.300":null}),(0,L.jsxs)(s.Text,{fontSize:"sm",mb:"10px",color:"red",children:[" ",W.startDate&&k.startDate&&W.startDate]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsxs)(g.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Call Duration",(0,L.jsx)(s.Text,{color:"red",children:"*"})]}),(0,L.jsx)(j.Input,{fontSize:"sm",onChange:I,onBlur:H,value:_.callDuration,name:"callDuration",placeholder:"call Duration",fontWeight:"500",borderColor:W.callDuration&&k.callDuration?"red.300":null}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",W.callDuration&&k.callDuration&&W.callDuration]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,L.jsx)(g.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Call Notes"}),(0,L.jsx)(b.T,{resize:"none",fontSize:"sm",placeholder:"Enter Call Notes",onChange:I,onBlur:H,value:_.callNotes,name:"callNotes",fontWeight:"500",borderColor:W.callNotes&&k.callNotes?"red.300":null}),(0,L.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",W.callNotes&&k.callNotes&&W.callNotes]})]})]})]}),(0,L.jsxs)(p.jl,{children:[(0,L.jsx)(d.Button,{variant:"brand",size:"sm",disabled:!!i,onClick:V,children:i?(0,L.jsx)(w.A,{}):"Save"}),(0,L.jsx)(d.Button,{size:"sm",sx:{marginLeft:2,textTransform:"capitalize"},variant:"outline",colorScheme:"red",onClick:()=>{F.resetForm(),t()},children:"Close"})]})]})]})};var M=a(27149),O=a(34960),F=a(80899),W=a(43017),k=a(97508);const _=e=>{const{state:t,allData:a,advanceSearch:n,setAdvanceSearch:r,isLoding:i,setSearchedData:l,setDisplaySearchData:o,setSearchClear:c,setSearchbox:u}=e,h=(0,k.wA)(),m=F.Ik({senderName:F.Yj(),realetedTo:F.Yj(),createByName:F.Yj()}),v=(0,T.Wx)({initialValues:{senderName:"",realetedTo:"",createByName:""},validationSchema:m,onSubmit:(e,t)=>{let{resetForm:n}=t;h((0,W.gB)(e)),h((0,W.DW)({values:e,allData:a,type:"Calls"}));const i=[{name:["senderName"],value:e.senderName},{name:["realetedTo"],value:e.realetedTo},{name:["createByName"],value:e.createByName}];h((0,W.Tr)(i.filter((e=>e.value)))),o(!0),r(!1),n(),u("")}}),{errors:x,touched:f,values:S,handleBlur:b,handleChange:C,handleSubmit:D,setFieldValue:$,resetForm:B,dirty:N}=v;return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(p.aF,{onClose:()=>{r(!1),B()},isOpen:n,isCentered:!0,children:[(0,L.jsx)(p.mH,{}),(0,L.jsxs)(p.$m,{children:[(0,L.jsx)(p.rQ,{children:"Advance Search"}),(0,L.jsx)(p.s_,{onClick:()=>{r(!1),B()}}),(0,L.jsx)(p.cw,{children:(0,L.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",mb:3,gap:2,children:[(0,L.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,L.jsx)(g.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Sender Name"}),(0,L.jsx)(j.Input,{fontSize:"sm",onChange:C,onBlur:b,value:null===S||void 0===S?void 0:S.senderName,name:"senderName",placeholder:"Enter senderName",fontWeight:"500"}),(0,L.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",x.senderName&&f.senderName&&x.senderName]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,L.jsx)(g.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Realeted To"}),(0,L.jsxs)(y.l6,{value:null===S||void 0===S?void 0:S.realetedTo,fontSize:"sm",name:"realetedTo",onChange:C,fontWeight:"500",placeholder:"Select Realeted To",children:[(0,L.jsx)("option",{value:"contact",children:"Contact"}),(0,L.jsx)("option",{value:"lead",children:"Lead"})]}),(0,L.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",x.realetedTo&&f.realetedTo&&x.realetedTo]})]}),(0,L.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,L.jsx)(g.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Recipient"}),(0,L.jsx)(j.Input,{fontSize:"sm",onChange:C,onBlur:b,value:null===S||void 0===S?void 0:S.createByName,name:"createByName",placeholder:"Enter Recipient",fontWeight:"500"}),(0,L.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",x.createByName&&f.createByName&&x.createByName]})]})]})}),(0,L.jsxs)(p.jl,{children:[(0,L.jsx)(d.Button,{size:"sm",variant:"brand",mr:2,onClick:D,disabled:!(!i&&N),children:i?(0,L.jsx)(w.A,{}):"Search"}),(0,L.jsx)(d.Button,{size:"sm",variant:"outline",colorScheme:"red",onClick:()=>B(),children:"Clear"})]})]})]})})};var H=a(94809);const I=(0,H.zD)("fetchPhoneCallData",(async()=>{const e=JSON.parse(localStorage.getItem("user"));try{return await(0,u.x4)("superAdmin"===e.role?"api/phoneCall":"api/phoneCall?sender=".concat(e._id))}catch(t){throw t}}));(0,H.Z0)({name:"phoneCallData",initialState:{data:[],isLoading:!1,error:""},extraReducers:e=>{e.addCase(I.pending,(e=>{e.isLoading=!0})).addCase(I.fulfilled,((e,t)=>{e.isLoading=!1,e.data=t.payload,e.error=""})).addCase(I.rejected,((e,t)=>{e.isLoading=!1,e.data=[],e.error=t.error.message}))}}).reducer;var V=a(42145);const P=e=>{const[t,a]=(0,n.useState)(!1),{isOpen:u,onOpen:x,onClose:p}=(0,o.j1)(),[g,S]=(0,n.useState)(!1),[y,j]=(0,n.useState)([]),[b,C]=(0,n.useState)(!1),[D,w]=(0,n.useState)([]),[$,B]=(0,n.useState)(""),T=(JSON.parse(localStorage.getItem("user")),(0,r.Zp)()),[N,z]=(0,n.useState)(!1),[F,W]=(0,n.useState)([]),[H,P]=(0,n.useState)(!1),[G,Y]=(0,n.useState)([]),R=(0,k.wA)(),[E,J,U]=(0,h.h)(["Calls","Leads","Contacts"]),Z={Header:"Action",accessor:"action",isSortable:!1,center:!0,cell:e=>{var t;let{row:a}=e;return(0,L.jsx)(s.Text,{fontSize:"md",fontWeight:"900",textAlign:"center",children:(0,L.jsxs)(c.W1,{isLazy:!0,children:[(0,L.jsx)(c.IU,{children:(0,L.jsx)(v.txp,{})}),(0,L.jsxs)(c.cO,{minW:"fit-content",transform:"translate(1520px, 173px);",children:[(null===E||void 0===E?void 0:E.view)&&(0,L.jsx)(c.Dr,{py:2.5,color:"green",onClick:()=>T("/phone-call/".concat(null===a||void 0===a?void 0:a.values._id)),icon:(0,L.jsx)(l.ViewIcon,{mb:"2px",fontSize:15}),children:"View"}),null!==a&&void 0!==a&&null!==(t=a.original)&&void 0!==t&&t.createByContact&&null!==U&&void 0!==U&&U.view?(0,L.jsxs)(c.Dr,{width:"165px",py:2.5,color:"black",onClick:()=>{var e;return T((null===a||void 0===a||null===(e=a.original)||void 0===e?void 0:e.createByContact)&&"/contactView/".concat(null===a||void 0===a?void 0:a.original.createByContact))},icon:(null===a||void 0===a?void 0:a.original.createByContact)&&(0,L.jsx)(O.oau,{fontSize:15}),children:["  ",(null===a||void 0===a?void 0:a.original.createByContact)&&(null===U||void 0===U?void 0:U.view)&&"contact"]}):"",null!==a&&void 0!==a&&a.original.createByLead&&null!==J&&void 0!==J&&J.view?(0,L.jsx)(c.Dr,{width:"165px",py:2.5,color:"black",onClick:()=>T("/leadView/".concat(null===a||void 0===a?void 0:a.original.createByLead)),icon:(null===a||void 0===a?void 0:a.original.createByLead)&&(null===J||void 0===J?void 0:J.view)&&(0,L.jsx)(M.ju$,{style:{marginBottom:"4px"},fontSize:15}),children:(null===a||void 0===a?void 0:a.original.createByLead)&&(null===J||void 0===J?void 0:J.view)&&"lead"}):""]})]})})}},Q=[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"Recipient",accessor:"createByName",cell:e=>{var t;return(0,L.jsx)(i.N_,{to:"/phone-call/".concat(null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.values._id),children:(0,L.jsx)(s.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e?void 0:e.value)||" - "})})}},{Header:"Sender Name",accessor:"senderName"},{Header:"Realeted To",accessor:"realeted",cell:e=>{let{row:t}=e;return(0,L.jsxs)(s.Text,{children:[null!==t&&void 0!==t&&t.original.createByContact&&null!==U&&void 0!==U&&U.view?(0,L.jsx)(i.N_,{to:"/contactView/".concat(null===t||void 0===t?void 0:t.original.createByContact),children:(0,L.jsx)(s.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:(null===t||void 0===t?void 0:t.original.createByContact)&&"Contact"})}):(0,L.jsx)(s.Text,{me:"10px",fontSize:"sm",fontWeight:"700",children:(null===t||void 0===t?void 0:t.original.createByContact)&&"Contact"}),null!==J&&void 0!==J&&J.view&&null!==t&&void 0!==t&&t.original.createByLead?(0,L.jsx)(i.N_,{to:"/leadView/".concat(null===t||void 0===t?void 0:t.original.createByLead),children:(0,L.jsx)(s.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:(null===t||void 0===t?void 0:t.original.createByLead)&&"Lead"})}):(0,L.jsx)(s.Text,{me:"10px",fontSize:"sm",fontWeight:"700",children:(null===t||void 0===t?void 0:t.original.createByLead)&&"Lead"})]})}},{Header:"Timestamp",accessor:"timestamp"},{Header:"Created",accessor:"created",cell:e=>{let{row:t}=e;return(0,L.jsx)(s.Text,{fontSize:"sm",fontWeight:"700",children:f()(null===t||void 0===t?void 0:t.values.timestamp).format("(DD/MM) h:mma")})}},...null!==E&&void 0!==E&&E.update||null!==E&&void 0!==E&&E.view||null!==E&&void 0!==E&&E.delete?[Z]:[]];return(0,n.useEffect)((()=>{(async()=>{z(!0);const e=await R(I());var t;200===e.payload.status?W(null===e||void 0===e||null===(t=e.payload)||void 0===t?void 0:t.data):V.oR.error("Failed to fetch data","error"),z(!1)})()}),[t]),(0,L.jsxs)("div",{children:[(0,L.jsx)(m.A,{title:"Calls",isLoding:N,columnData:null!==Q&&void 0!==Q?Q:[],allData:null!==F&&void 0!==F?F:[],tableData:F,searchDisplay:H,setSearchDisplay:P,searchedDataOut:G,setSearchedDataOut:Y,tableCustomFields:[],access:E,onOpen:x,selectedValues:y,setSelectedValues:j,setDelete:S,deleteMany:!0,AdvanceSearch:(0,L.jsx)(d.Button,{variant:"outline",colorScheme:"brand",leftIcon:(0,L.jsx)(l.SearchIcon,{}),mt:{sm:"5px",md:"0"},size:"sm",onClick:()=>C(!0),children:"Advance Search"}),getTagValuesOutSide:D,searchboxOutside:$,setGetTagValuesOutside:w,setSearchboxOutside:B,handleSearchType:"CallsSearch"}),(0,L.jsx)(_,{advanceSearch:b,setAdvanceSearch:C,setSearchedData:Y,setDisplaySearchData:P,allData:null!==F&&void 0!==F?F:[],setAction:a,setGetTagValues:w,setSearchbox:B}),(0,L.jsx)(A,{isOpen:u,size:"sm",onClose:p,setAction:a})]})}},49565:(e,t,a)=>{"use strict";a.d(t,{A:()=>v});var n=a(40848),r=a(4450),i=a(22554),l=a(65043),o=(a(41046),a(19488)),s=a(8860),c=a(88031),d=a(20850),u=a(26547),h=a(97508),m=a(70579);const v=e=>{var t,a;const{onClose:v,isOpen:x,fieldName:f,setFieldValue:p,data:g}=e,[S,y]=(0,l.useState)(),[j,b]=(0,l.useState)([]),[C,D]=(0,l.useState)(!1),[w,$]=(0,l.useState)([]),B=(0,h.wA)();return(0,l.useEffect)((async()=>{await B((0,u.h)()),(async()=>{var e,t,a,n;D(!0);const r=await B((0,d.I)());b(null===r||void 0===r||null===(e=r.payload)||void 0===e?void 0:e.data);const i=[{Header:"#",accessor:"_id",isSortable:!1,width:10},...((null===r||void 0===r||null===(t=r.payload)||void 0===t||null===(a=t.data)||void 0===a||null===(n=a[0])||void 0===n?void 0:n.fields)||[]).filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))).map((e=>({Header:null===e||void 0===e?void 0:e.label,accessor:null===e||void 0===e?void 0:e.name})))];$(i),D(!1)})()}),[]),(0,m.jsxs)(n.aF,{onClose:v,size:"full",isOpen:x,children:[(0,m.jsx)(n.mH,{}),(0,m.jsxs)(n.$m,{children:[(0,m.jsx)(n.rQ,{children:"Select Contact"}),(0,m.jsx)(n.s_,{}),(0,m.jsx)(n.cw,{children:C?(0,m.jsx)(r.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,m.jsx)(o.A,{})}):(0,m.jsx)(c.A,{title:"Contacts",isLoding:C,columnData:null!==w&&void 0!==w?w:[],allData:null!==g&&void 0!==g?g:[],tableData:g,tableCustomFields:(null===j||void 0===j||null===(t=j[0])||void 0===t||null===(a=t.fields)||void 0===a?void 0:a.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||[],AdvanceSearch:()=>"",ManageGrid:!1,deleteMany:!1,selectedValues:S,setSelectedValues:y,selectType:"single",customSearch:!1})}),(0,m.jsxs)(n.jl,{children:[(0,m.jsxs)(i.Button,{variant:"brand",size:"sm",me:2,onClick:async()=>{try{D(!0),p(f,S),v()}catch(e){console.log(e)}finally{D(!1)}},disabled:!!C,leftIcon:(0,m.jsx)(s.NLY,{}),children:[" ",C?(0,m.jsx)(o.A,{}):"Select"]}),(0,m.jsx)(i.Button,{variant:"outline",size:"sm",colorScheme:"red",onClick:()=>v(),children:"Close"})]})]})]})}},53186:(e,t,a)=>{"use strict";a.d(t,{T:()=>c});var n=a(78510),r=a(59522),i=a(23216),l=a(65043);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o.apply(this,arguments)}var s=["className","rows"],c=(0,r.Rf)((function(e,t){var a=(0,r.Vl)("Textarea",e),c=(0,r.MN)(e),d=c.className,u=c.rows,h=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(c,s),m=(0,n.useFormControl)(h),v=u?(0,i.cJ)(a,["h","minH","height","minHeight"]):a;return l.createElement(r.Bv.textarea,o({ref:t,rows:u},m,{className:(0,i.cx)("chakra-textarea",d),__css:v}))}));i.gt&&(c.displayName="Textarea")},60446:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,a=36e5,n="millisecond",r="second",i="minute",l="hour",o="day",s="week",c="month",d="quarter",u="year",h="date",m="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],a=e%100;return"["+e+(t[(a-20)%10]||t[a]||t[0])+"]"}},p=function(e,t,a){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(a)+e},g={s:p,z:function(e){var t=-e.utcOffset(),a=Math.abs(t),n=Math.floor(a/60),r=a%60;return(t<=0?"+":"-")+p(n,2,"0")+":"+p(r,2,"0")},m:function e(t,a){if(t.date()<a.date())return-e(a,t);var n=12*(a.year()-t.year())+(a.month()-t.month()),r=t.clone().add(n,c),i=a-r<0,l=t.clone().add(n+(i?-1:1),c);return+(-(n+(a-r)/(i?r-l:l-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:u,w:s,d:o,D:h,h:l,m:i,s:r,ms:n,Q:d}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},S="en",y={};y[S]=f;var j="$isDayjsObject",b=function(e){return e instanceof $||!(!e||!e[j])},C=function e(t,a,n){var r;if(!t)return S;if("string"==typeof t){var i=t.toLowerCase();y[i]&&(r=i),a&&(y[i]=a,r=i);var l=t.split("-");if(!r&&l.length>1)return e(l[0])}else{var o=t.name;y[o]=t,r=o}return!n&&r&&(S=r),r||!n&&S},D=function(e,t){if(b(e))return e.clone();var a="object"==typeof t?t:{};return a.date=e,a.args=arguments,new $(a)},w=g;w.l=C,w.i=b,w.w=function(e,t){return D(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var $=function(){function f(e){this.$L=C(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[j]=!0}var p=f.prototype;return p.parse=function(e){this.$d=function(e){var t=e.date,a=e.utc;if(null===t)return new Date(NaN);if(w.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(v);if(n){var r=n[2]-1||0,i=(n[7]||"0").substring(0,3);return a?new Date(Date.UTC(n[1],r,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],r,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(t)}(e),this.init()},p.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},p.$utils=function(){return w},p.isValid=function(){return!(this.$d.toString()===m)},p.isSame=function(e,t){var a=D(e);return this.startOf(t)<=a&&a<=this.endOf(t)},p.isAfter=function(e,t){return D(e)<this.startOf(t)},p.isBefore=function(e,t){return this.endOf(t)<D(e)},p.$g=function(e,t,a){return w.u(e)?this[t]:this.set(a,e)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(e,t){var a=this,n=!!w.u(t)||t,d=w.p(e),m=function(e,t){var r=w.w(a.$u?Date.UTC(a.$y,t,e):new Date(a.$y,t,e),a);return n?r:r.endOf(o)},v=function(e,t){return w.w(a.toDate()[e].apply(a.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(t)),a)},x=this.$W,f=this.$M,p=this.$D,g="set"+(this.$u?"UTC":"");switch(d){case u:return n?m(1,0):m(31,11);case c:return n?m(1,f):m(0,f+1);case s:var S=this.$locale().weekStart||0,y=(x<S?x+7:x)-S;return m(n?p-y:p+(6-y),f);case o:case h:return v(g+"Hours",0);case l:return v(g+"Minutes",1);case i:return v(g+"Seconds",2);case r:return v(g+"Milliseconds",3);default:return this.clone()}},p.endOf=function(e){return this.startOf(e,!1)},p.$set=function(e,t){var a,s=w.p(e),d="set"+(this.$u?"UTC":""),m=(a={},a[o]=d+"Date",a[h]=d+"Date",a[c]=d+"Month",a[u]=d+"FullYear",a[l]=d+"Hours",a[i]=d+"Minutes",a[r]=d+"Seconds",a[n]=d+"Milliseconds",a)[s],v=s===o?this.$D+(t-this.$W):t;if(s===c||s===u){var x=this.clone().set(h,1);x.$d[m](v),x.init(),this.$d=x.set(h,Math.min(this.$D,x.daysInMonth())).$d}else m&&this.$d[m](v);return this.init(),this},p.set=function(e,t){return this.clone().$set(e,t)},p.get=function(e){return this[w.p(e)]()},p.add=function(n,d){var h,m=this;n=Number(n);var v=w.p(d),x=function(e){var t=D(m);return w.w(t.date(t.date()+Math.round(e*n)),m)};if(v===c)return this.set(c,this.$M+n);if(v===u)return this.set(u,this.$y+n);if(v===o)return x(1);if(v===s)return x(7);var f=(h={},h[i]=t,h[l]=a,h[r]=e,h)[v]||1,p=this.$d.getTime()+n*f;return w.w(p,this)},p.subtract=function(e,t){return this.add(-1*e,t)},p.format=function(e){var t=this,a=this.$locale();if(!this.isValid())return a.invalidDate||m;var n=e||"YYYY-MM-DDTHH:mm:ssZ",r=w.z(this),i=this.$H,l=this.$m,o=this.$M,s=a.weekdays,c=a.months,d=a.meridiem,u=function(e,a,r,i){return e&&(e[a]||e(t,n))||r[a].slice(0,i)},h=function(e){return w.s(i%12||12,e,"0")},v=d||function(e,t,a){var n=e<12?"AM":"PM";return a?n.toLowerCase():n};return n.replace(x,(function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return w.s(t.$y,4,"0");case"M":return o+1;case"MM":return w.s(o+1,2,"0");case"MMM":return u(a.monthsShort,o,c,3);case"MMMM":return u(c,o);case"D":return t.$D;case"DD":return w.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return u(a.weekdaysMin,t.$W,s,2);case"ddd":return u(a.weekdaysShort,t.$W,s,3);case"dddd":return s[t.$W];case"H":return String(i);case"HH":return w.s(i,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return v(i,l,!0);case"A":return v(i,l,!1);case"m":return String(l);case"mm":return w.s(l,2,"0");case"s":return String(t.$s);case"ss":return w.s(t.$s,2,"0");case"SSS":return w.s(t.$ms,3,"0");case"Z":return r}return null}(e)||r.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(n,h,m){var v,x=this,f=w.p(h),p=D(n),g=(p.utcOffset()-this.utcOffset())*t,S=this-p,y=function(){return w.m(x,p)};switch(f){case u:v=y()/12;break;case c:v=y();break;case d:v=y()/3;break;case s:v=(S-g)/6048e5;break;case o:v=(S-g)/864e5;break;case l:v=S/a;break;case i:v=S/t;break;case r:v=S/e;break;default:v=S}return m?v:w.a(v)},p.daysInMonth=function(){return this.endOf(c).$D},p.$locale=function(){return y[this.$L]},p.locale=function(e,t){if(!e)return this.$L;var a=this.clone(),n=C(e,t,!0);return n&&(a.$L=n),a},p.clone=function(){return w.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},f}(),B=$.prototype;return D.prototype=B,[["$ms",n],["$s",r],["$m",i],["$H",l],["$W",o],["$M",c],["$y",u],["$D",h]].forEach((function(e){B[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),D.extend=function(e,t){return e.$i||(e(t,$,D),e.$i=!0),D},D.locale=C,D.isDayjs=b,D.unix=function(e){return D(1e3*e)},D.en=y[S],D.Ls=y,D.p={},D}()},91125:(e,t,a)=>{"use strict";a.d(t,{A:()=>v});var n=a(40848),r=a(4450),i=a(22554),l=a(65043),o=a(19488),s=a(8860),c=a(88031),d=a(87892),u=a(97508),h=a(37801),m=a(70579);const v=e=>{var t,a;const{onClose:v,isOpen:x,fieldName:f,setFieldValue:p,data:g}=e,S=(0,u.wA)(),[y,j]=(0,l.useState)(!1),[b,C]=(0,l.useState)([]),[D,w]=(0,l.useState)([]),[$,B]=(0,l.useState)([]);return(0,l.useEffect)((()=>{S((0,h.T)()),(async()=>{var e,t,a,n,r,i;j(!0);const l=await S((0,d.y)());w(null===l||void 0===l||null===(e=l.payload)||void 0===e?void 0:e.data);const o=[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"Status",accessor:"leadStatus",isSortable:!0,center:!0,cell:e=>{let{row:t}=e;return t.original.leadStatus}},...(null===l||void 0===l||null===(t=l.payload)||void 0===t||null===(a=t.data)||void 0===a||null===(n=a[0])||void 0===n||null===(r=n.fields)||void 0===r||null===(i=r.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||void 0===i?void 0:i.map((e=>"leadStatus"!==(null===e||void 0===e?void 0:e.name)&&{Header:null===e||void 0===e?void 0:e.label,accessor:null===e||void 0===e?void 0:e.name})))||[]];C(o),j(!1)})()}),[]),(0,m.jsxs)(n.aF,{onClose:v,size:"full",isOpen:x,children:[(0,m.jsx)(n.mH,{}),(0,m.jsxs)(n.$m,{children:[(0,m.jsx)(n.rQ,{children:"Select Lead"}),(0,m.jsx)(n.s_,{}),(0,m.jsx)(n.cw,{children:y?(0,m.jsx)(r.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,m.jsx)(o.A,{})}):(0,m.jsx)(c.A,{title:"Leads",isLoding:y,columnData:null!==b&&void 0!==b?b:[],allData:null!==g&&void 0!==g?g:[],tableData:g,tableCustomFields:(null===D||void 0===D||null===(t=D[0])||void 0===t||null===(a=t.fields)||void 0===a?void 0:a.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||[],AdvanceSearch:()=>"",ManageGrid:!1,deleteMany:!1,selectedValues:$,setSelectedValues:B,selectType:"single",customSearch:!1})}),(0,m.jsxs)(n.jl,{children:[(0,m.jsxs)(i.Button,{variant:"brand",size:"sm",me:2,disabled:!!y,leftIcon:(0,m.jsx)(s.NLY,{}),onClick:async()=>{try{j(!0),p(f,$),v()}catch(e){console.log(e)}finally{j(!1)}},children:[" ",y?(0,m.jsx)(o.A,{}):"Select"]}),(0,m.jsx)(i.Button,{variant:"outline",size:"sm",colorScheme:"red",onClick:()=>v(),children:"Close"})]})]})]})}}}]);
//# sourceMappingURL=3136.ea62193c.chunk.js.map