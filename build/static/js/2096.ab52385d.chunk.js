"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[2096],{2096:(e,i,t)=>{t.d(i,{A:()=>N});var n=t(89379),l=t(14034),o=t(40848),s=t(22554),d=t(4450),r=t(78510),a=t(67682),p=t(84626),c=t(53186),u=t(35066),m=t(71778),x=t(19488),h=t(60446),g=t.n(h),v=t(63516),b=t(65043),S=t(3388),j=t(66305),f=(t(22030),t(48908),t(80899),t(39109)),C=t(14614),y=t(40619),T=t(42145),z=t(97508),I=t(46524),W=t(12312),F=t(30390),G=t(49565),A=t(95574),L=t(70579);const N=e=>{var i,t;const{isOpen:h,size:N,onClose:P,type:k,setAction:q,selectedId:B,contactId:D}=e,[w,O]=(0,b.useState)(!1),[U,_]=(0,b.useState)(!1),[V,Y]=(0,b.useState)(!1),[Q,R]=(0,b.useState)([]),[E,H]=(0,b.useState)(!1),[$,J]=(0,b.useState)(!1),[M,X]=(0,b.useState)({}),K=(0,z.wA)(),Z=JSON.parse(localStorage.getItem("user")),[ee,ie,te]=(0,A.h)(["Account","Contacts","Opportunities"]),ne=(0,z.d4)((e=>{var i,t;return null===e||void 0===e||null===(i=e.opportunityData)||void 0===i||null===(t=i.data)||void 0===t?void 0:t.data})),le=(0,z.d4)((e=>{var i,t;return null===e||void 0===e||null===(i=e.accountData)||void 0===i||null===(t=i.data)||void 0===t?void 0:t.data})),oe=(0,z.d4)((e=>{var i;return null===e||void 0===e||null===(i=e.contactData)||void 0===i?void 0:i.data})),se={title:"edit"===k?null===M||void 0===M?void 0:M.title:"",oppotunity:"edit"===k?null===M||void 0===M?void 0:M.oppotunity:null,quoteStage:"edit"===k?null===M||void 0===M?void 0:M.quoteStage:"Draft",invoiceStatus:"edit"===k?null===M||void 0===M?void 0:M.invoiceStatus:"Not Invoiced",validUntil:"edit"===k?null===M||void 0===M?void 0:M.validUntil:"",assignedTo:"edit"===k?null===M||void 0===M?void 0:M.assignedTo:null,paymentTerms:"edit"===k?null===M||void 0===M?void 0:M.paymentTerms:"",approvalStatus:"edit"===k?null===M||void 0===M?void 0:M.approvalStatus:"",nonPrimaryEmail:"edit"===k?null===M||void 0===M?void 0:M.nonPrimaryEmail:"",approvalIssues:"edit"===k?null===M||void 0===M?void 0:M.approvalIssues:"",terms:"edit"===k?null===M||void 0===M?void 0:M.terms:"",description:"edit"===k?null===M||void 0===M?void 0:M.description:"",account:"edit"===k?null===M||void 0===M?void 0:M.account:null,contact:"edit"===k?null===M||void 0===M?void 0:M.contact:D||null,billingStreet:"edit"===k?null===M||void 0===M?void 0:M.billingStreet:"",shippingStreet:"edit"===k?null===M||void 0===M?void 0:M.shippingStreet:"",billingCity:"edit"===k?null===M||void 0===M?void 0:M.billingCity:"",shippingCity:"edit"===k?null===M||void 0===M?void 0:M.shippingCity:"",billingState:"edit"===k?null===M||void 0===M?void 0:M.billingState:"",shippingState:"edit"===k?null===M||void 0===M?void 0:M.shippingState:"",billingPostalCode:"edit"===k?null===M||void 0===M?void 0:M.billingPostalCode:"",shippingPostalCode:"edit"===k?null===M||void 0===M?void 0:M.shippingPostalCode:"",billingCountry:"edit"===k?null===M||void 0===M?void 0:M.billingCountry:"",shippingCountry:"edit"===k?null===M||void 0===M?void 0:M.shippingCountry:"",isCheck:"edit"===k&&(null===M||void 0===M?void 0:M.isCheck),currency:"edit"===k?null===M||void 0===M?void 0:M.currency:"$",total:"edit"===k?null===M||void 0===M?void 0:M.total:"",discount:"edit"===k?null===M||void 0===M?void 0:M.discount:"",subtotal:"edit"===k?null===M||void 0===M?void 0:M.subtotal:"",shipping:"edit"===k?null===M||void 0===M?void 0:M.shipping:"",shippingTax:"edit"===k?null===M||void 0===M?void 0:M.shippingTax:"",ptax:"edit"===k?null===M||void 0===M?void 0:M.ptax:"",tax:"edit"===k?null===M||void 0===M?void 0:M.tax:"",grandTotal:"edit"===k?null===M||void 0===M?void 0:M.grandTotal:"",discountType:"edit"===k?null===M||void 0===M?void 0:M.discountType:"none",items:"edit"===k?null===M||void 0===M?void 0:M.items:[],createBy:JSON.parse(localStorage.getItem("user"))._id,modifiedBy:JSON.parse(localStorage.getItem("user"))._id},de=()=>{re.resetForm(),P()},re=(0,v.Wx)({initialValues:se,validationSchema:f.m,enableReinitialize:!0,onSubmit:(e,i)=>{let{resetForm:t}=i;if("add"===k)(async e=>{try{O(!0),200===(await(0,j.d_)("api/quotes/add",e)).status&&(P(),T.oR.success("Quotes Save successfully"),re.resetForm(),q((e=>!e)))}catch(i){console.log(i),T.oR.error("server error")}finally{O(!1)}})(e);else{(async e=>{try{O(!0),200===(await(0,j.yP)("api/quotes/edit/".concat(B),e)).status&&(P(),T.oR.success("Quotes Update successfully"),re.resetForm(),q((e=>!e)))}catch(i){console.log(i),T.oR.error("server error")}finally{O(!1)}})((0,n.A)((0,n.A)({},e),{},{modifiedDate:new Date}))}}}),{errors:ae,touched:pe,values:ce,handleBlur:ue,handleChange:me,handleSubmit:xe,setFieldValue:he}=re,ge=e=>{he("isCheck",e.target.checked),e.target.checked?(he("shippingStreet",null===ce||void 0===ce?void 0:ce.billingStreet),he("shippingCity",null===ce||void 0===ce?void 0:ce.billingCity),he("shippingState",null===ce||void 0===ce?void 0:ce.billingState),he("shippingPostalCode",null===ce||void 0===ce?void 0:ce.billingPostalCode),he("shippingCountry",null===ce||void 0===ce?void 0:ce.billingCountry)):(he("shippingStreet",""),he("shippingCity",""),he("shippingState",""),he("shippingPostalCode",""),he("shippingCountry",""))},ve=e=>{const i=e.reduce(((e,i)=>e+i.amount),0),t=e.reduce(((e,i)=>e+i.totalDiscount),0);return{totalAmount:i,netAmount:Number(i)-Number(t),discount:t}},be=(e,i,t)=>{const l=ce.items.map(((l,o)=>{if(o===e){const e=(0,n.A)((0,n.A)({},l),{},{[i]:t});if(["qty","rate","discount","discountType"].includes(i)){const i="percent"===e.discountType?e.rate*e.qty*e.discount/100:"none"===e.discountType?0:e.discount;e.amount=e.rate*e.qty-i,e.totalDiscount=i}return e}return l}));he("items",l);const{totalAmount:o,netAmount:s,discount:d}=ve(l);he("discount",d),he("total",o),he("subtotal",o),he("grandTotal",s)},Se=(0,b.useCallback)((()=>{const e=ce.subtotal,i=Number(ce.shipping),t=Number(ce.ptax),n=Number(e)+Number(i),l=n*t/100,o=Number(n)+Number(l);he("shippingTax",null===n||void 0===n?void 0:n.toFixed(2)),he("tax",null===l||void 0===l?void 0:l.toFixed(2)),he("grandTotal",null===o||void 0===o?void 0:o.toFixed(2))}),[ce.subtotal,ce.shipping,ce.ptax]);return(0,b.useEffect)((()=>{Se()}),[Se]),(0,b.useEffect)((()=>{"edit"===k&&(async()=>{if("edit"===k)try{O(!0);let i=await(0,j.x4)("api/quotes/view/",B);var e;200===(null===i||void 0===i?void 0:i.status)&&X(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.result)}catch(i){console.log(i)}finally{O(!1)}})(),"superAdmin"===Z.role&&(async()=>{var e;O(!0);let i=await(0,j.x4)("api/user/");R(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.user),O(!1)})()}),[k,B]),(0,b.useEffect)((()=>{0!==(null===ne||void 0===ne?void 0:ne.length)&&void 0!==ne||K((0,I.o)()),0!==(null===le||void 0===le?void 0:le.length)&&void 0!==le||K((0,F.G)())}),[]),(0,L.jsxs)("div",{children:[U&&(0,L.jsx)(C.A,{onClose:()=>_(!1),isOpen:U,fieldName:"assignedTo",setFieldValue:he,data:Q,isLoding:w,setIsLoding:O}),V&&(0,L.jsx)(y.A,{onClose:()=>Y(!1),isOpen:V,fieldName:"oppotunity",setFieldValue:he,data:ne,isLoding:w,setIsLoding:O,type:"quotes",billingState:"billingState",billingCity:"billingCity",billingPostalCode:"billingPostalCode",billingCountry:"billingCountry",billingStreet:"billingStreet"}),E&&(0,L.jsx)(W.A,{onClose:()=>H(!1),isOpen:E,fieldName:"account",setFieldValue:he,data:le}),$&&(0,L.jsx)(G.A,{isOpen:$,data:oe,onClose:J,values:ce,fieldName:"contact",setFieldValue:he}),(0,L.jsxs)(o._s,{isOpen:h,size:N,children:[(0,L.jsx)(o.QP,{}),(0,L.jsxs)(o.zj,{children:[(0,L.jsxs)(o.BE,{alignItems:"center",justifyContent:"space-between",display:"flex",children:["add"===k?"Add":"Edit"," Quotes",(0,L.jsx)(s.IconButton,{onClick:()=>de(),icon:(0,L.jsx)(l.CloseIcon,{})})]}),(0,L.jsx)(o.ys,{children:(0,L.jsxs)(d.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,L.jsx)(d.GridItem,{colSpan:{base:12},children:(0,L.jsx)(d.Heading,{as:"h1",size:"md",mt:"10px",children:"Overview"})}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsxs)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Title",(0,L.jsx)(d.Text,{color:"red",children:"*"})]}),(0,L.jsx)(a.Input,{fontSize:"sm",value:ce.title,name:"title",onChange:me,placeholder:"Title",fontWeight:"500",borderColor:ae.title&&pe.title?"red.300":null}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.title&&pe.title&&ae.title]})]}),("superAdmin"===Z.role||(null===te||void 0===te?void 0:te.view))&&(0,L.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Opportunity"}),(0,L.jsxs)(d.Flex,{justifyContent:"space-between",children:[(0,L.jsx)(p.l6,{value:ce.oppotunity,name:"oppotunity",onChange:me,mb:ae.oppotunity&&pe.oppotunity?void 0:"10px",fontWeight:"500",placeholder:"Opportunity",borderColor:ae.oppotunity&&pe.oppotunity?"red.300":null,children:(null===ne||void 0===ne?void 0:ne.length)>0&&(null===ne||void 0===ne?void 0:ne.map((e=>(0,L.jsx)("option",{value:e._id,children:"".concat(null===e||void 0===e?void 0:e.opportunityName)},e._id))))}),(0,L.jsx)(s.IconButton,{onClick:()=>Y(!0),ml:2,fontSize:"25px",icon:(0,L.jsx)(S.G2h,{})})]}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.oppotunity&&pe.oppotunity&&ae.oppotunity]})]}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsxs)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Quote Stage",(0,L.jsx)(d.Text,{color:"red",children:"*"})]}),(0,L.jsxs)(p.l6,{value:ce.quoteStage,name:"quoteStage",onChange:me,mb:ae.quoteStage&&pe.quoteStage?void 0:"10px",fontWeight:"500",placeholder:"Quote Stage",borderColor:ae.quoteStage&&pe.quoteStage?"red.300":null,children:[(0,L.jsx)("option",{value:"Draft",children:"Draft"}),(0,L.jsx)("option",{value:"Negotiation",children:"Negotiation"}),(0,L.jsx)("option",{value:"Delivered",children:"Delivered"}),(0,L.jsx)("option",{value:"On Hold",children:"On Hold"}),(0,L.jsx)("option",{value:"Confirmed",children:"Confirmed"}),(0,L.jsx)("option",{value:"Closed Accepted",children:"Closed Accepted"}),(0,L.jsx)("option",{value:"Closed Lost",children:"Closed Lost"}),(0,L.jsx)("option",{value:"Closed Dead",children:"Closed Dead"})]}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.quoteStage&&pe.quoteStage&&ae.quoteStage]})]}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Invoice Status"}),(0,L.jsxs)(p.l6,{value:ce.invoiceStatus,name:"invoiceStatus",onChange:me,mb:ae.invoiceStatus&&pe.invoiceStatus?void 0:"10px",fontWeight:"500",placeholder:"Invoice Status",borderColor:ae.invoiceStatus&&pe.invoiceStatus?"red.300":null,children:[(0,L.jsx)("option",{value:"Not Invoiced",children:"Not Invoiced"}),(0,L.jsx)("option",{value:"Invoiced",children:"Invoiced"})]}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.invoiceStatus&&pe.invoiceStatus&&ae.invoiceStatus]})]}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsxs)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Valid Until",(0,L.jsx)(d.Text,{color:"red",children:"*"})]}),(0,L.jsx)(a.Input,{fontSize:"sm",value:g()(ce.validUntil).format("YYYY-MM-DD"),name:"validUntil",type:"date",onChange:me,placeholder:"Valid Until",fontWeight:"500",borderColor:ae.validUntil&&pe.validUntil?"red.300":null}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.validUntil&&pe.validUntil&&ae.validUntil]})]}),"superAdmin"===Z.role&&(0,L.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Assigned To"}),(0,L.jsxs)(d.Flex,{justifyContent:"space-between",children:[(0,L.jsx)(p.l6,{value:ce.assignedTo,name:"assignedTo",onChange:me,mb:ae.assignedTo&&pe.assignedTo?void 0:"10px",fontWeight:"500",placeholder:"Assigned To",borderColor:ae.assignedTo&&pe.assignedTo?"red.300":null,children:null===Q||void 0===Q?void 0:Q.map((e=>(0,L.jsx)("option",{value:e._id,children:"".concat(null===e||void 0===e?void 0:e.firstName," ").concat(null===e||void 0===e?void 0:e.lastName)},e._id)))}),(0,L.jsx)(s.IconButton,{onClick:()=>_(!0),ml:2,fontSize:"25px",icon:(0,L.jsx)(S.G2h,{})})]})]}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Payment Terms"}),(0,L.jsxs)(p.l6,{value:ce.paymentTerms,name:"paymentTerms",onChange:me,mb:ae.paymentTerms&&pe.paymentTerms?void 0:"10px",fontWeight:"500",placeholder:"Payment Terms",borderColor:ae.paymentTerms&&pe.paymentTerms?"red.300":null,children:[(0,L.jsx)("option",{value:"Nett 15",children:"Nett 15"}),(0,L.jsx)("option",{value:"Nett 30",children:"Nett 30"})]}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.paymentTerms&&pe.paymentTerms&&ae.paymentTerms]})]}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Approval Status"}),(0,L.jsx)(p.l6,{value:ce.approvalStatus,name:"approvalStatus",onChange:me,mb:ae.approvalStatus&&pe.approvalStatus?void 0:"10px",fontWeight:"500",placeholder:"Approval Status",borderColor:ae.approvalStatus&&pe.approvalStatus?"red.300":null,children:(0,L.jsx)("option",{value:"Approved",children:"Approved"})}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.approvalStatus&&pe.approvalStatus&&ae.approvalStatus]})]}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Approval Issues"}),(0,L.jsx)(c.T,{fontSize:"sm",value:ce.approvalIssues,name:"approvalIssues",resize:"none",onChange:me,placeholder:"Approval Issues",fontWeight:"500",borderColor:ae.approvalIssues&&pe.approvalIssues?"red.300":null}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.approvalIssues&&pe.approvalIssues&&ae.approvalIssues]})]}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Terms"}),(0,L.jsx)(c.T,{fontSize:"sm",value:ce.terms,name:"terms",resize:"none",onChange:me,placeholder:"Terms",fontWeight:"500",borderColor:ae.terms&&pe.terms?"red.300":null}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.terms&&pe.terms&&ae.terms]})]}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Description"}),(0,L.jsx)(c.T,{fontSize:"sm",value:ce.description,name:"description",resize:"none",onChange:me,placeholder:"Description",fontWeight:"500",borderColor:ae.description&&pe.description?"red.300":null}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.description&&pe.description&&ae.description]})]}),(0,L.jsx)(d.GridItem,{colSpan:{base:12},children:(0,L.jsx)(d.Heading,{as:"h1",size:"md",mt:"10px",children:"Address Information"})}),("superAdmin"===Z.role||(null===ee||void 0===ee?void 0:ee.view))&&(0,L.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Account"}),(0,L.jsxs)(d.Flex,{justifyContent:"space-between",children:[(0,L.jsx)(p.l6,{value:ce.account,name:"account",onChange:me,mb:ae.account&&pe.account?void 0:"10px",fontWeight:"500",placeholder:"Account",borderColor:ae.account&&pe.account?"red.300":null,children:(null===le||void 0===le?void 0:le.length)>0&&(null===le||void 0===le?void 0:le.map((e=>(0,L.jsx)("option",{value:e._id,children:"".concat(null===e||void 0===e?void 0:e.name)},e._id))))}),(0,L.jsx)(s.IconButton,{onClick:()=>H(!0),ml:2,fontSize:"25px",icon:(0,L.jsx)(S.G2h,{})})]}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.account&&pe.account&&ae.account]})]}),("superAdmin"===Z.role||(null===ie||void 0===ie?void 0:ie.view))&&(0,L.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Contact"}),(0,L.jsxs)(d.Flex,{justifyContent:"space-between",children:[(0,L.jsx)(p.l6,{value:ce.contact,name:"contact",onChange:me,mb:ae.contact&&pe.contact?void 0:"10px",fontWeight:"500",placeholder:"Contact",borderColor:ae.contact&&pe.contact?"red.300":null,children:(null===oe||void 0===oe?void 0:oe.length)>0&&(null===oe||void 0===oe?void 0:oe.map((e=>(0,L.jsx)("option",{value:e._id,children:"".concat(e.firstName," ").concat(e.lastName)},e._id))))}),(0,L.jsx)(s.IconButton,{onClick:()=>J(!0),ml:2,fontSize:"25px",icon:(0,L.jsx)(S.G2h,{})})]}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.contact&&pe.contact&&ae.contact]})]}),(0,L.jsx)(d.GridItem,{colSpan:{base:12,md:6},children:(0,L.jsx)(d.Heading,{as:"h1",size:"md",mt:"10px",children:"Billing Address"})}),(0,L.jsx)(d.GridItem,{colSpan:{base:12,md:6},children:(0,L.jsx)(d.Heading,{as:"h1",size:"md",mt:"10px",children:"Shipping Address"})}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(u.Sc,{isChecked:null===ce||void 0===ce?void 0:ce.isCheck,onChange:e=>ge(e),visibility:"hidden",children:"Copy address from left"}),(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",mt:3,children:"Billing Street"}),(0,L.jsx)(a.Input,{fontSize:"sm",value:ce.billingStreet,name:"billingStreet",onChange:me,placeholder:"Billing Street",fontWeight:"500",borderColor:ae.billingStreet&&pe.billingStreet?"red.300":null}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.billingStreet&&pe.billingStreet&&ae.billingStreet]})]}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(u.Sc,{isChecked:null===ce||void 0===ce?void 0:ce.isCheck,onChange:e=>ge(e),children:"Copy address from left"}),(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",mt:3,children:"Shipping Street"}),(0,L.jsx)(a.Input,{fontSize:"sm",value:ce.shippingStreet,name:"shippingStreet",disabled:null===ce||void 0===ce?void 0:ce.isCheck,onChange:me,placeholder:"Shipping Street",fontWeight:"500",borderColor:ae.shippingStreet&&pe.shippingStreet?"red.300":null}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.shippingStreet&&pe.shippingStreet&&ae.shippingStreet]})]}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Billing City"}),(0,L.jsx)(a.Input,{fontSize:"sm",value:ce.billingCity,name:"billingCity",onChange:me,placeholder:"Billing City",fontWeight:"500",borderColor:ae.billingCity&&pe.billingCity?"red.300":null}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.billingCity&&pe.billingCity&&ae.billingCity]})]}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Shipping City"}),(0,L.jsx)(a.Input,{fontSize:"sm",value:ce.shippingCity,name:"shippingCity",disabled:null===ce||void 0===ce?void 0:ce.isCheck,onChange:me,placeholder:"Shipping City",fontWeight:"500",borderColor:ae.shippingCity&&pe.shippingCity?"red.300":null}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.shippingCity&&pe.shippingCity&&ae.shippingCity]})]}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Billing State"}),(0,L.jsx)(a.Input,{fontSize:"sm",value:ce.billingState,name:"billingState",onChange:me,placeholder:"Billing State",fontWeight:"500",borderColor:ae.billingState&&pe.billingState?"red.300":null}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.billingState&&pe.billingState&&ae.billingState]})]}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Shipping State"}),(0,L.jsx)(a.Input,{fontSize:"sm",value:ce.shippingState,disabled:null===ce||void 0===ce?void 0:ce.isCheck,name:"shippingState",onChange:me,placeholder:"Shipping State",fontWeight:"500",borderColor:ae.shippingState&&pe.shippingState?"red.300":null}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.shippingState&&pe.shippingState&&ae.shippingState]})]}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Billing Postal Code"}),(0,L.jsx)(a.Input,{fontSize:"sm",value:ce.billingPostalCode,name:"billingPostalCode",onChange:me,type:"number",placeholder:"Billing Postal Code",fontWeight:"500",borderColor:ae.billingPostalCode&&pe.billingPostalCode?"red.300":null}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.billingPostalCode&&pe.billingPostalCode&&ae.billingPostalCode]})]}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Shipping Postal Code"}),(0,L.jsx)(a.Input,{fontSize:"sm",value:ce.shippingPostalCode,disabled:null===ce||void 0===ce?void 0:ce.isCheck,name:"shippingPostalCode",type:"number",onChange:me,placeholder:"Shipping Postal Code",fontWeight:"500",borderColor:ae.shippingPostalCode&&pe.shippingPostalCode?"red.300":null}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.shippingPostalCode&&pe.shippingPostalCode&&ae.shippingPostalCode]})]}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Billing Country"}),(0,L.jsx)(a.Input,{fontSize:"sm",value:ce.billingCountry,name:"billingCountry",onChange:me,placeholder:"Billing Country",fontWeight:"500",borderColor:ae.billingCountry&&pe.billingCountry?"red.300":null}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.billingCountry&&pe.billingCountry&&ae.billingCountry]})]}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Shipping Country"}),(0,L.jsx)(a.Input,{fontSize:"sm",value:ce.shippingCountry,name:"shippingCountry",onChange:me,disabled:null===ce||void 0===ce?void 0:ce.isCheck,placeholder:"Shipping Country",fontWeight:"500",borderColor:ae.shippingCountry&&pe.shippingCountry?"red.300":null}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.shippingCountry&&pe.shippingCountry&&ae.shippingCountry]})]}),(0,L.jsx)(d.GridItem,{colSpan:{base:12},children:(0,L.jsx)(d.Heading,{as:"h1",size:"md",mt:"10px",children:"Line Items"})}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Currency"}),(0,L.jsx)(p.l6,{value:ce.currency,name:"currency",onBlur:ue,onChange:me,mb:ae.currency&&pe.currency?void 0:"10px",fontWeight:"500",placeholder:"Select Currency",borderColor:ae.currency&&pe.currency?"red.300":null,children:(0,L.jsx)("option",{value:"$",selected:!0,children:"USD"})}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.currency&&pe.currency&&ae.currency]})]}),(0,L.jsx)(d.GridItem,{colSpan:{base:12},children:(0,L.jsx)(d.Box,{children:(0,L.jsxs)(m.XI,{variant:"simple",size:"sm",mt:5,backgroundColor:"#f9f9f9",children:[(0,L.jsx)(m.d8,{children:(0,L.jsxs)(m.Tr,{children:[(0,L.jsx)(m.Th,{}),(0,L.jsx)(m.Th,{children:"#"}),(0,L.jsx)(m.Th,{children:"Item"}),(0,L.jsx)(m.Th,{children:"Qty"}),(0,L.jsx)(m.Th,{children:"Rate"}),(0,L.jsx)(m.Th,{children:"Discount"}),(0,L.jsx)(m.Th,{children:"Amount"})]})}),(0,L.jsxs)(m.NN,{children:[(null===ce||void 0===ce||null===(i=ce.items)||void 0===i?void 0:i.length)>0&&(null===ce||void 0===ce||null===(t=ce.items)||void 0===t?void 0:t.map(((e,i)=>(0,L.jsxs)(m.Tr,{children:[(0,L.jsx)(m.Td,{className:"text-center",children:(0,L.jsx)(s.IconButton,{icon:(0,L.jsx)(l.CloseIcon,{}),onClick:()=>(e=>{const i=ce.items.filter(((i,t)=>t!==e));he("items",i);const{totalAmount:t,netAmount:n,discount:l}=ve(i);he("total",t),he("grandTotal",n),he("discount",l)})(i),colorScheme:"red",variant:"outline",size:"sm",style:{fontSize:"10px"}})}),(0,L.jsx)(m.Td,{children:i+1}),(0,L.jsx)(m.Td,{children:(0,L.jsx)(r.FormControl,{children:(0,L.jsx)(a.Input,{type:"text",value:null===e||void 0===e?void 0:e.productName,onChange:e=>be(i,"productName",e.target.value),size:"sm"})})}),(0,L.jsx)(m.Td,{children:(0,L.jsx)(r.FormControl,{children:(0,L.jsx)(a.Input,{type:"number",value:null===e||void 0===e?void 0:e.qty,onChange:e=>be(i,"qty",Number(e.target.value)),size:"sm"})})}),(0,L.jsx)(m.Td,{children:(0,L.jsx)(r.FormControl,{children:(0,L.jsx)(a.Input,{type:"number",value:null===e||void 0===e?void 0:e.rate,onChange:e=>be(i,"rate",Number(e.target.value)),size:"sm"})})}),(0,L.jsx)(m.Td,{style:{display:"flex"},children:(0,L.jsxs)(r.FormControl,{children:[(0,L.jsx)(a.Input,{type:"number",value:null===e||void 0===e?void 0:e.discount,onChange:e=>be(i,"discount",Number(e.target.value)),size:"sm",disabled:"none"===(null===e||void 0===e?void 0:e.discountType)}),(0,L.jsxs)(p.l6,{value:null===e||void 0===e?void 0:e.discountType,onChange:e=>{be(i,"discountType",e.target.value)},size:"sm",children:[(0,L.jsx)("option",{value:"none",children:"none"}),(0,L.jsx)("option",{value:"percent",children:"%"}),(0,L.jsx)("option",{value:"flatAmount",children:null===ce||void 0===ce?void 0:ce.currency})]})]})}),(0,L.jsx)(m.Td,{children:(0,L.jsx)(r.FormControl,{children:(0,L.jsx)(a.Input,{type:"number",value:null===e||void 0===e?void 0:e.amount,readOnly:!0,size:"sm"})})})]},e.id)))),(0,L.jsxs)(m.Tr,{children:[(0,L.jsx)(m.Td,{colSpan:4,display:"flex",justifyContent:"end",children:(0,L.jsx)(s.IconButton,{icon:(0,L.jsx)(l.AddIcon,{}),onClick:()=>{he("items",[...ce.items,{id:ce.items.length+1,productName:"",qty:0,rate:0,discount:0,discountType:"none",totalDiscount:0,amount:0}])},colorScheme:"green",variant:"outline",size:"sm",style:{fontSize:"10px"}})}),(0,L.jsx)(m.Td,{}),(0,L.jsx)(m.Td,{}),(0,L.jsx)(m.Td,{})]})]})]})})}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Total"}),(0,L.jsx)(a.Input,{fontSize:"sm",value:ce.total,name:"total",onChange:me,placeholder:"Total",fontWeight:"500",type:"number",borderColor:ae.total&&pe.total?"red.300":null}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.total&&pe.total&&ae.total]})]}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Total Discount"}),(0,L.jsx)(a.Input,{fontSize:"sm",value:ce.discount,name:"discount",onBlur:ue,type:"number",onChange:me,fontWeight:"500",borderColor:ae.discount&&pe.discount?"red.300":null}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.discount&&pe.discount&&ae.discount]})]}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Subtotal"}),(0,L.jsx)(a.Input,{fontSize:"sm",value:ce.subtotal,name:"subtotal",type:"number",onChange:me,placeholder:"Subtotal",fontWeight:"500",borderColor:ae.subtotal&&pe.subtotal?"red.300":null}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.subtotal&&pe.subtotal&&ae.subtotal]})]}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Shipping"}),(0,L.jsx)(a.Input,{fontSize:"sm",value:ce.shipping,name:"shipping",type:"number",onChange:me,placeholder:"Shipping",fontWeight:"500",borderColor:ae.shipping&&pe.shipping?"red.300":null}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.shipping&&pe.shipping&&ae.shipping]})]}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12,md:10},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Shipping Tax"}),(0,L.jsx)(a.Input,{fontSize:"sm",value:ce.shippingTax,name:"shippingTax",onChange:me,placeholder:"Shipping Tax",type:"number",fontWeight:"500",borderColor:ae.shippingTax&&pe.shippingTax?"red.300":null}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.shippingTax&&pe.shippingTax&&ae.shippingTax]})]}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12,md:2},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",visibility:"hidden",children:"-"}),(0,L.jsxs)(p.l6,{value:ce.ptax,name:"ptax",onChange:me,mb:ae.ptax&&pe.ptax?void 0:"10px",fontWeight:"500",borderColor:ae.ptax&&pe.ptax?"red.300":null,children:[(0,L.jsx)("option",{value:"0",children:"0%"}),(0,L.jsx)("option",{value:"10",children:"10%"}),(0,L.jsx)("option",{value:"18",children:"18%"})]}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.ptax&&pe.ptax&&ae.ptax]})]}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Tax"}),(0,L.jsx)(a.Input,{fontSize:"sm",value:ce.tax,name:"tax",onChange:me,fontWeight:"500",type:"number",placeholder:"Tax",borderColor:ae.tax&&pe.tax?"red.300":null}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.tax&&pe.tax&&ae.tax]})]}),(0,L.jsxs)(d.GridItem,{colSpan:{base:12},children:[(0,L.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Grand Total"}),(0,L.jsx)(a.Input,{fontSize:"sm",value:ce.grandTotal,name:"grandTotal",onChange:me,fontWeight:"500",type:"number",placeholder:"Grand Total",borderColor:ae.grandTotal&&pe.grandTotal?"red.300":null}),(0,L.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ae.grandTotal&&pe.grandTotal&&ae.grandTotal]})]})]})}),(0,L.jsxs)(o.tb,{children:[(0,L.jsx)(s.Button,{sx:{textTransform:"capitalize"},size:"sm",disabled:!!w,variant:"brand",type:"submit",onClick:xe,children:w?(0,L.jsx)(x.A,{}):"Save"}),(0,L.jsx)(s.Button,{variant:"outline",colorScheme:"red",size:"sm",sx:{marginLeft:2,textTransform:"capitalize"},onClick:de,children:"Close"})]})]})]})]})}},39109:(e,i,t)=>{t.d(i,{m:()=>l});var n=t(80899);const l=n.Ik({title:n.Yj().required("Title Is required"),quoteStage:n.Yj().required("Quote Stage Is required"),validUntil:n.Yj().required("Valid Until Is required"),shippingPostalcode:n.Yj().matches(/^\d{6}$/,"Shipping Postal Code must be exactly 6 digits").notRequired(),billingPostalcode:n.Yj().matches(/^\d{6}$/,"Billing Postal Code must be exactly 6 digits").notRequired()})}}]);
//# sourceMappingURL=2096.ab52385d.chunk.js.map