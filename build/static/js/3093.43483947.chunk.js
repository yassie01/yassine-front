"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[3093],{63093:(e,l,t)=>{t.r(l),t.d(l,{default:()=>S});var i=t(4450),n=t(22554),o=t(10216),a=t(63994),d=t(19488),s=t(86178),r=t.n(s),c=t(65043),h=t(34960),x=t(73216),m=t(35475),v=t(95574),u=t(66305),p=t(85369),j=t(90074),b=t.n(j),f=t(70579);const S=()=>{const e=(0,x.g)(),l=(0,x.Zp)(),[t,s]=(0,c.useState)(),[j,S]=(JSON.parse(localStorage.getItem("user")),(0,c.useState)(!1)),[g,y]=(0,c.useState)(!1);(0,c.useEffect)((()=>{(async()=>{S(!0);let l=await(0,u.x4)("api/phoneCall/view/",e.id);s(null===l||void 0===l?void 0:l.data),S(!1)})()}),[]);const[k,w]=(0,v.h)(["Contacts","Leads"]);return(0,f.jsx)(f.Fragment,{children:j?(0,f.jsx)(i.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,f.jsx)(d.A,{})}):(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(i.Grid,{templateColumns:"repeat(4, 1fr)",gap:3,id:"reports",children:[(0,f.jsx)(i.GridItem,{colSpan:{base:4},children:(0,f.jsx)(i.Heading,{size:"lg",m:3,children:(null===t||void 0===t?void 0:t.senderName)||""})}),(0,f.jsx)(i.GridItem,{colSpan:{base:4},children:(0,f.jsx)(o.A,{children:(0,f.jsxs)(i.Grid,{gap:4,children:[(0,f.jsx)(i.GridItem,{colSpan:2,children:(0,f.jsxs)(i.Box,{children:[(0,f.jsxs)(i.Box,{display:"flex",justifyContent:"space-between",children:[(0,f.jsx)(i.Heading,{size:"md",mb:3,children:"Call Details"}),(0,f.jsxs)(i.Box,{id:"hide-btn",children:[(0,f.jsx)(n.Button,{leftIcon:(0,f.jsx)(p.kl1,{}),size:"sm",variant:"brand",onClick:()=>{y(!0);const e=document.getElementById("reports"),l=document.getElementById("hide-btn");e?(l.style.display="none",b()().from(e).set({margin:[0,0,0,0],filename:"PhoneCall_Details_".concat(r()().format("DD-MM-YYYY"),".pdf"),image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,allowTaint:!0},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}}).save().then((()=>{y(!1),l.style.display=""}))):(console.error("Element with ID 'reports' not found."),y(!1))},disabled:g,children:g?"Please Wait...":"Print as PDF"}),(0,f.jsx)(n.Button,{leftIcon:(0,f.jsx)(h.m6W,{}),size:"sm",variant:"brand",onClick:()=>l(-1),style:{marginLeft:10},children:"Back"})]})]}),(0,f.jsx)(a.E,{})]})}),(0,f.jsxs)(i.GridItem,{colSpan:{base:2,md:1},children:[(0,f.jsx)(i.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Sender "}),(0,f.jsx)(i.Text,{children:null!==t&&void 0!==t&&t.senderName?null===t||void 0===t?void 0:t.senderName:" - "})]}),(0,f.jsxs)(i.GridItem,{colSpan:{base:2,md:1},children:[(0,f.jsx)(i.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Recipient "}),(0,f.jsx)(i.Text,{children:null!==t&&void 0!==t&&t.recipient?null===t||void 0===t?void 0:t.recipient:" - "})]}),(0,f.jsxs)(i.GridItem,{colSpan:{base:2,md:1},children:[(0,f.jsx)(i.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Create to "}),null!==t&&void 0!==t&&t.createBy?(0,f.jsx)(m.N_,{to:(null===k||void 0===k?void 0:k.view)&&"/contactView/".concat(null===t||void 0===t?void 0:t.createBy),children:(0,f.jsx)(i.Text,{color:null!==k&&void 0!==k&&k.view?"blue.500":"blackAlpha.900",sx:{"&:hover":{color:null!==k&&void 0!==k&&k.view?"blue.500":"blackAlpha.900",textDecoration:null!==k&&void 0!==k&&k.view?"underline":"none"}},children:null!==t&&void 0!==t&&t.createByName?null===t||void 0===t?void 0:t.createByName:" - "})}):(0,f.jsx)(m.N_,{to:(null===w||void 0===w?void 0:w.view)&&"/leadView/".concat(null===t||void 0===t?void 0:t.createByLead),children:(0,f.jsx)(i.Text,{color:null!==w&&void 0!==w&&w.view?"blue.500":"blackAlpha.900",sx:{"&:hover":{color:null!==w&&void 0!==w&&w.view?"blue.500":"blackAlpha.900",textDecoration:null!==w&&void 0!==w&&w.view?"underline":"none"}},children:null!==t&&void 0!==t&&t.createByName?null===t||void 0===t?void 0:t.createByName:" - "})})]}),(0,f.jsxs)(i.GridItem,{colSpan:{base:2,md:1},children:[(0,f.jsx)(i.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Realeted To "}),(0,f.jsx)(i.Text,{children:null!==t&&void 0!==t&&t.createBy?"contact":(null===t||void 0===t?void 0:t.createByLead)&&"lead"})]}),(0,f.jsxs)(i.GridItem,{colSpan:{base:2,md:1},children:[(0,f.jsx)(i.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Start Date "}),(0,f.jsxs)(i.Text,{children:[" ",null!==t&&void 0!==t&&t.startDate?r()(null===t||void 0===t?void 0:t.startDate).format("lll "):" - "," "]})]}),(0,f.jsxs)(i.GridItem,{colSpan:{base:2,md:1},children:[(0,f.jsx)(i.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:"End Date "}),(0,f.jsxs)(i.Text,{children:[" ",null!==t&&void 0!==t&&t.endDate?r()(null===t||void 0===t?void 0:t.endDate).format("lll "):" - "," "]})]}),(0,f.jsxs)(i.GridItem,{colSpan:{base:2,md:1},children:[(0,f.jsx)(i.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Timestamp "}),(0,f.jsxs)(i.Text,{children:[" ",null!==t&&void 0!==t&&t.timestamp?r()(null===t||void 0===t?void 0:t.timestamp).format("DD-MM-YYYY  h:mma "):" - "," [",null!==t&&void 0!==t&&t.timestamp?r()(null===t||void 0===t?void 0:t.timestamp).toNow():" - ","]"]})]}),(0,f.jsxs)(i.GridItem,{colSpan:{base:2,md:1},children:[(0,f.jsx)(i.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Call Duration "}),(0,f.jsx)(i.Text,{children:null!==t&&void 0!==t&&t.callDuration?null===t||void 0===t?void 0:t.callDuration:" - "})]}),(0,f.jsxs)(i.GridItem,{colSpan:{base:2},children:[(0,f.jsx)(i.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Call Notes "}),(0,f.jsx)("pre",{style:{whiteSpace:"pre-wrap"},children:null!==t&&void 0!==t&&t.callNotes?null===t||void 0===t?void 0:t.callNotes:" - "})]})]})})})]})})})}}}]);
//# sourceMappingURL=3093.43483947.chunk.js.map