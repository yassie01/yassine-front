{"version":3,"file":"static/js/7243.559383db.chunk.js","mappings":"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","sources":["../node_modules/react-email-editor/dist/index.js","../node_modules/react-email-editor/src/loadScript.ts","../node_modules/react-email-editor/src/EmailEditor.tsx","views/admin/emailTemplate/view.js"],"sourcesContent":["\n'use strict'\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./react-email-editor.cjs.production.min.js')\n} else {\n  module.exports = require('./react-email-editor.cjs.development.js')\n}\n","const defaultScriptUrl = 'https://editor.unlayer.com/embed.js?2';\nconst callbacks: Function[] = [];\nlet loaded = false;\n\nconst isScriptInjected = (scriptUrl: string) => {\n  const scripts = document.querySelectorAll('script');\n  let injected = false;\n\n  scripts.forEach((script) => {\n    if (script.src.includes(scriptUrl)) {\n      injected = true;\n    }\n  });\n\n  return injected;\n};\n\nconst addCallback = (callback: Function) => {\n  callbacks.push(callback);\n};\n\nconst runCallbacks = () => {\n  if (loaded) {\n    let callback;\n\n    while ((callback = callbacks.shift())) {\n      callback();\n    }\n  }\n};\n\nexport const loadScript = (\n  callback: Function,\n  scriptUrl = defaultScriptUrl\n) => {\n  addCallback(callback);\n\n  if (!isScriptInjected(scriptUrl)) {\n    const embedScript = document.createElement('script');\n    embedScript.setAttribute('src', scriptUrl);\n    embedScript.onload = () => {\n      loaded = true;\n      runCallbacks();\n    };\n    document.head.appendChild(embedScript);\n  } else {\n    runCallbacks();\n  }\n};\n","import React, {\n  useEffect,\n  useState,\n  useImperativeHandle,\n  useMemo,\n} from 'react';\n\nimport pkg from '../package.json';\nimport { Editor, EditorRef, EmailEditorProps } from './types';\nimport { loadScript } from './loadScript';\n\nconst win = typeof window === 'undefined' ? { __unlayer_lastEditorId: 0 } : window\nwin.__unlayer_lastEditorId = win.__unlayer_lastEditorId || 0;\n\nexport const EmailEditor = React.forwardRef<EditorRef, EmailEditorProps>(\n  (props, ref) => {\n    const { onLoad, onReady, scriptUrl, minHeight = 500, style = {} } = props;\n\n    const [editor, setEditor] = useState<Editor | null>(null);\n\n    const [hasLoadedEmbedScript, setHasLoadedEmbedScript] = useState(false);\n\n    const editorId = useMemo(\n      () => props.editorId || `editor-${++win.__unlayer_lastEditorId}`,\n      [props.editorId]\n    );\n\n    const options: EmailEditorProps['options'] = {\n      ...(props.options || {}),\n      appearance: props.appearance ?? props.options?.appearance,\n      displayMode: props?.displayMode || props.options?.displayMode || 'email',\n      locale: props.locale ?? props.options?.locale,\n      projectId: props.projectId ?? props.options?.projectId,\n      tools: props.tools ?? props.options?.tools,\n\n      id: editorId,\n      source: {\n        name: pkg.name,\n        version: pkg.version,\n      },\n    };\n\n    useImperativeHandle(\n      ref,\n      () => ({\n        editor,\n      }),\n      [editor]\n    );\n\n    useEffect(() => {\n      return () => {\n        editor?.destroy();\n      };\n    }, []);\n\n    useEffect(() => {\n      setHasLoadedEmbedScript(false);\n      loadScript(() => setHasLoadedEmbedScript(true), scriptUrl);\n    }, [scriptUrl]);\n\n    useEffect(() => {\n      if (!hasLoadedEmbedScript) return;\n      editor?.destroy();\n      setEditor(unlayer.createEditor(options));\n    }, [JSON.stringify(options), hasLoadedEmbedScript]);\n\n    const methodProps = Object.keys(props).filter((propName) =>\n      /^on/.test(propName)\n    );\n    useEffect(() => {\n      if (!editor) return;\n\n      onLoad?.(editor);\n\n      // All properties starting with on[Name] are registered as event listeners.\n      methodProps.forEach((methodProp) => {\n        if (\n          /^on/.test(methodProp) &&\n          methodProp !== 'onLoad' &&\n          methodProp !== 'onReady' &&\n          typeof props[methodProp] === 'function'\n        ) {\n          editor.addEventListener(methodProp, props[methodProp]);\n        }\n      });\n\n      if (onReady) {\n        editor.addEventListener('editor:ready', () => {\n          onReady(editor);\n        });\n      }\n    }, [editor, Object.keys(methodProps).join(',')]);\n\n    return (\n      <div\n        style={{\n          flex: 1,\n          display: 'flex',\n          minHeight: minHeight,\n        }}\n      >\n        <div id={editorId} style={{ ...style, flex: 1 }} />\n      </div>\n    );\n  }\n);\n","import { Button, Grid, GridItem, Heading, Flex, IconButton, Text, Menu, MenuButton, MenuDivider, MenuItem, MenuList, useDisclosure, Input, FormLabel } from '@chakra-ui/react'\nimport { AddIcon, ChevronDownIcon, DeleteIcon, EditIcon } from \"@chakra-ui/icons\";\nimport React from 'react'\nimport moment from 'moment'\nimport { Link, useLocation, useNavigate, useParams } from 'react-router-dom'\nimport { BiLink } from 'react-icons/bi'\nimport { useEffect, useRef } from 'react'\nimport { useState } from 'react'\nimport { getApi } from 'services/api'\nimport Card from 'components/card/Card'\nimport { IoIosArrowBack } from \"react-icons/io\";\nimport { HasAccess } from '../../../redux/accessUtils';\nimport { HSeparator } from 'components/separator/Separator';\nimport CommonDeleteModel from 'components/commonDeleteModel';\nimport { deleteManyApi, } from 'services/api';\nimport { EmailEditor } from 'react-email-editor';\nimport { toast } from 'react-toastify';\nimport { postApi } from 'services/api';\nimport { putApi } from 'services/api';\n\nconst View = () => {\n    const user = JSON.parse(localStorage.getItem(\"user\"))\n    const navigate = useNavigate()\n    const { id } = useParams()\n    const [permission, contactAccess, leadAccess] = HasAccess(['Email Template', 'Contacts', 'Leads'])\n    const emailEditorRef = useRef(null);\n    const [preview, setPreview] = useState(true);\n    const [name, setName] = useState('');\n    const [description, setDescription] = useState('');\n\n\n    const fetchData = async () => {\n        const result = await getApi(`api/email-temp/view/${id}`)\n        if (result && result.status === 200) {\n            setName(result?.data?.templateName)\n            setDescription(result?.data?.description)\n            emailEditorRef?.current?.editor?.loadDesign(result?.data?.design);\n            emailEditorRef.current?.editor?.showPreview('desktop');\n        }\n    }\n\n\n    useEffect(() => {\n        fetchData()\n    }, [])\n\n    return (\n        <div>\n            <GridItem colSpan={{ base: 4 }}>\n                <Heading size=\"lg\" m={3}>\n                    {name || \"\"}\n                </Heading>\n            </GridItem>\n            <Card>\n                <Grid templateColumns=\"repeat(12, 1fr)\" mb={3} gap={1} justifyContent={\"space-between\"} alignItem={\"center\"}>\n                    <GridItem colSpan={{ base: 12, md: 6 }}>\n                        <Text fontSize=\"xl\" fontWeight=\"bold\" color={'blackAlpha.900'}>View Template </Text>\n                    </GridItem>\n\n                    <GridItem colSpan={{ base: 12, md: 6 }}>\n                        <Flex justifyContent={\"right\"}>\n                            <Link to=\"/email-template\" style={{ marginLeft: \"10px\" }}>\n                                <Button size=\"sm\" leftIcon={<IoIosArrowBack />} variant=\"brand\">\n                                    Back\n                                </Button>\n                            </Link>\n                        </Flex>\n                    </GridItem>\n                </Grid>\n                <HSeparator />\n                <div>\n                    <Grid templateColumns=\"repeat(12, 1fr)\" gap={3} mt={2}>\n                        <GridItem colSpan={{ base: 12, md: 6 }} >\n                            <Text fontSize=\"sm\" fontWeight=\"bold\" color={'blackAlpha.900'}> Template Name </Text>\n                            <Text >{name ? name : ' - '}</Text>\n                        </GridItem>\n                        <GridItem colSpan={{ base: 12, md: 6 }} >\n                            <Text fontSize=\"sm\" fontWeight=\"bold\" color={'blackAlpha.900'}> Description </Text>\n                            <Text >{description ? description : ' - '}</Text>\n                        </GridItem>\n                        <GridItem colSpan={{ base: 12, md: 12 }} mt={2}>\n                            <EmailEditor ref={emailEditorRef} />\n                        </GridItem>\n                    </Grid>\n                </div>\n            </Card>\n        </div>\n    )\n}\n\nexport default View\n"],"names":["module","exports","r","i","l","e","shift","d","window","__unlayer_lastEditorId","a","n","forwardRef","u","s","c","f","p","y","v","E","m","_","onLoad","h","onReady","j","scriptUrl","b","minHeight","I","O","style","g","w","t","useState","x","M","L","S","H","R","useMemo","editorId","k","o","options","appearance","displayMode","locale","projectId","tools","id","source","name","version","useImperativeHandle","editor","useEffect","destroy","push","document","querySelectorAll","forEach","src","includes","createElement","setAttribute","onload","head","appendChild","unlayer","createEditor","JSON","stringify","q","Object","keys","filter","test","addEventListener","join","flex","display","View","parse","localStorage","getItem","useNavigate","useParams","permission","contactAccess","leadAccess","HasAccess","emailEditorRef","useRef","preview","setPreview","setName","description","setDescription","async","result","getApi","concat","_result$data","_result$data2","_emailEditorRef$curre","_emailEditorRef$curre2","_result$data3","_emailEditorRef$curre3","_emailEditorRef$curre4","status","data","templateName","current","loadDesign","design","showPreview","fetchData","_jsxs","children","_jsx","GridItem","colSpan","base","Heading","size","Card","Grid","templateColumns","mb","gap","justifyContent","alignItem","md","Text","fontSize","fontWeight","color","Flex","Link","to","marginLeft","Button","leftIcon","IoIosArrowBack","variant","HSeparator","mt","EmailEditor","ref"],"sourceRoot":""}