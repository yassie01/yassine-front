"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[1888],{52942:(e,l,i)=>{i.d(l,{A:()=>p});var n=i(14034),o=i(40848),t=i(22554),d=i(4450),s=i(19488),a=i(86178),c=i.n(a),r=i(65043),v=i(67805),u=i(35475),x=i(66305),h=i(73216),m=i(1887),j=i(70579);const p=e=>{const{onClose:l,isOpen:i,id:a,fetchData:p,setAction:b,action:f,access:S,contactAccess:g,leadAccess:T}=e,[I,k]=(0,r.useState)(),[A,C]=(0,r.useState)(!1),[w,z]=(0,r.useState)(!1),y=JSON.parse(localStorage.getItem("user")),[D,G]=(0,r.useState)(!1),W=(0,h.Zp)();(0,r.useEffect)((()=>{(async()=>{if(a){var e;G(!0);let l=await(0,x.x4)("api/task/view/",null!==a&&void 0!==a&&a.event?null===a||void 0===a||null===(e=a.event)||void 0===e?void 0:e.id:a);k(null===l||void 0===l?void 0:l.data),G(!1)}})()}),[f,a]);return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(o.aF,{isOpen:i,size:"md",isCentered:!0,children:[(0,j.jsx)(o.mH,{}),(0,j.jsxs)(o.$m,{children:[(0,j.jsxs)(o.rQ,{justifyContent:"space-between",display:"flex",children:["Task",(0,j.jsx)(t.IconButton,{onClick:()=>l(!1),icon:(0,j.jsx)(n.CloseIcon,{})})]}),D?(0,j.jsx)(d.Flex,{justifyContent:"center",alignItems:"center",mb:30,width:"100%",children:(0,j.jsx)(s.A,{})}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.cw,{children:(0,j.jsxs)(d.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,j.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,j.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Title "}),(0,j.jsx)(d.Text,{children:null!==I&&void 0!==I&&I.title?null===I||void 0===I?void 0:I.title:" - "})]}),(0,j.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,j.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Related To "}),(0,j.jsx)(d.Text,{children:null!==I&&void 0!==I&&I.category?null===I||void 0===I?void 0:I.category:" - "})]}),(0,j.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,j.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task start "}),(0,j.jsx)(d.Text,{children:null!==I&&void 0!==I&&I.start?c()(null===I||void 0===I?void 0:I.start).format("L LT"):" - "})]}),(0,j.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,j.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task end  "}),(0,j.jsx)(d.Text,{children:null!==I&&void 0!==I&&I.end?c()(null===I||void 0===I?void 0:I.end).format("L LT"):c()(null===I||void 0===I?void 0:I.start).format("L")})]}),(0,j.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,j.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Link "}),null!==I&&void 0!==I&&I.url?(0,j.jsx)("a",{target:"_blank",href:null===I||void 0===I?void 0:I.url,children:(0,j.jsx)(t.IconButton,{borderRadius:"10px",size:"md",icon:(0,j.jsx)(v.o9J,{})})}):"-"]}),(0,j.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,j.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task reminder "}),(0,j.jsx)(d.Text,{children:null!==I&&void 0!==I&&I.reminder?null===I||void 0===I?void 0:I.reminder:" - "})]}),(0,j.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,j.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" assignment To  "}),null!==I&&void 0!==I&&I.assignTo?(0,j.jsx)(u.N_,{to:(null===g||void 0===g?void 0:g.view)&&"/contactView/".concat(null===I||void 0===I?void 0:I.assignTo),children:(0,j.jsx)(d.Text,{color:null!==g&&void 0!==g&&g.view?"blue.500":"blackAlpha.900",sx:{"&:hover":{color:null!==g&&void 0!==g&&g.view?"blue.500":"blackAlpha.900",textDecoration:null!==g&&void 0!==g&&g.view?"underline":"none"}},children:null!==I&&void 0!==I&&I.assignToName?null===I||void 0===I?void 0:I.assignToName:" - "})}):(0,j.jsx)(u.N_,{to:(null===T||void 0===T?void 0:T.view)&&"/leadView/".concat(null===I||void 0===I?void 0:I.assignToLead),children:(0,j.jsx)(d.Text,{color:null!==T&&void 0!==T&&T.view?"blue.500":"blackAlpha.900",sx:{"&:hover":{color:null!==T&&void 0!==T&&T.view?"blue.500":"blackAlpha.900",textDecoration:null!==T&&void 0!==T&&T.view?"underline":"none"}},children:null!==I&&void 0!==I&&I.assignToName?null===I||void 0===I?void 0:I.assignToName:" - "})})]}),(0,j.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,j.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task createBy "}),(0,j.jsx)(d.Text,{children:null!==I&&void 0!==I&&I.createByName?null===I||void 0===I?void 0:I.createByName:" - "})]}),(0,j.jsxs)(d.GridItem,{colSpan:{base:12},children:[(0,j.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Description"}),(0,j.jsx)(d.Text,{children:null!==I&&void 0!==I&&I.description?null===I||void 0===I?void 0:I.description:" - "})]}),(0,j.jsxs)(d.GridItem,{colSpan:{base:12},children:[(0,j.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task notes "}),(0,j.jsx)(d.Text,{children:null!==I&&void 0!==I&&I.notes?null===I||void 0===I?void 0:I.notes:" - "})]})]})}),(0,j.jsxs)(o.tb,{children:[((null===S||void 0===S?void 0:S.view)||"superAdmin"===(null===y||void 0===y?void 0:y.role))&&(0,j.jsx)(t.IconButton,{variant:"outline",colorScheme:"green",onClick:()=>(()=>{var e;null!==a&&void 0!==a&&a.event?W("/view/".concat(null===a||void 0===a||null===(e=a.event)||void 0===e?void 0:e.id)):W("/view/".concat(a))})(),borderRadius:"10px",size:"md",icon:(0,j.jsx)(n.ViewIcon,{})}),((null===S||void 0===S?void 0:S.update)||"superAdmin"===(null===y||void 0===y?void 0:y.role))&&(0,j.jsx)(t.IconButton,{variant:"outline",onClick:()=>C(!0),ml:3,borderRadius:"10px",size:"md",icon:(0,j.jsx)(n.EditIcon,{})}),((null===S||void 0===S?void 0:S.delete)||"superAdmin"===(null===y||void 0===y?void 0:y.role))&&(0,j.jsx)(t.IconButton,{colorScheme:"red",onClick:()=>z(!0),ml:3,borderRadius:"10px",size:"md",icon:(0,j.jsx)(n.DeleteIcon,{})}),(0,j.jsx)(m.A,{isOpen:A,fetchData:p,onClose:()=>C(!1),userAction:"edit",id:a,setAction:b})]})]})]})]})})}},61888:(e,l,i)=>{i.r(l),i.d(l,{default:()=>G});var n=i(65043),o=i(66305),t=i(27285),d=i(10216),s=i(34625),a=i(7807),c=i(83806),r=i(93924),v=i(3805),u=i(4450),x=i(80572),h=i(52942),m=i(14034),j=i(40848),p=i(22554),b=i(19488),f=i(86178),S=i.n(f),g=i(35475),T=i(73216),I=i(95574),k=i(70579);const A=e=>{const{onClose:l,isOpen:i,info:t,fetchData:d,setAction:s,action:a,access:c}=e,[r,v]=(0,n.useState)(),[x,h]=(0,n.useState)(!1),[f,A]=(0,n.useState)(!1),[C,w]=(JSON.parse(localStorage.getItem("user")),(0,n.useState)(!1)),z=(0,T.Zp)();(0,n.useEffect)((()=>{(async()=>{if(t){var e;w(!0);let l=await(0,o.x4)("api/meeting/view/",null!==t&&void 0!==t&&t.event?null===t||void 0===t||null===(e=t.event)||void 0===e?void 0:e.id:t);v(null===l||void 0===l?void 0:l.data),w(!1)}})()}),[a,t]);const[y,D]=(0,I.h)(["Contacts","Leads"]);return(0,k.jsxs)(j.aF,{isOpen:i,size:"md",isCentered:!0,children:[(0,k.jsx)(j.mH,{}),(0,k.jsxs)(j.$m,{height:"70%",children:[(0,k.jsxs)(j.rQ,{justifyContent:"space-between",display:"flex",children:["Meeting",(0,k.jsx)(p.IconButton,{onClick:()=>l(!1),icon:(0,k.jsx)(m.CloseIcon,{})})]}),C?(0,k.jsx)(u.Flex,{justifyContent:"center",alignItems:"center",mb:30,width:"100%",children:(0,k.jsx)(b.A,{})}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(j.cw,{overflowY:"auto",children:(0,k.jsxs)(u.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,k.jsxs)(u.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(u.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Agenda "}),(0,k.jsx)(u.Text,{children:null!==r&&void 0!==r&&r.agenda?null===r||void 0===r?void 0:r.agenda:" - "})]}),(0,k.jsxs)(u.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(u.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Date&Time  "}),(0,k.jsx)(u.Text,{children:null!==r&&void 0!==r&&r.dateTime?S()(null===r||void 0===r?void 0:r.dateTime).format("lll "):" - "})]}),(0,k.jsxs)(u.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(u.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Created By Created By"}),(0,k.jsx)(u.Text,{children:null!==r&&void 0!==r&&r.createdByName?null===r||void 0===r?void 0:r.createdByName:"-"})]}),(0,k.jsxs)(u.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(u.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Related "}),(0,k.jsx)(u.Text,{children:null!==r&&void 0!==r&&r.related?null===r||void 0===r?void 0:r.related:"-"})]}),(0,k.jsxs)(u.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(u.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Location "}),(0,k.jsx)(u.Text,{children:null!==r&&void 0!==r&&r.location?null===r||void 0===r?void 0:r.location:"-"})]}),(0,k.jsxs)(u.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(u.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Notes "}),(0,k.jsx)(u.Text,{children:null!==r&&void 0!==r&&r.notes?null===r||void 0===r?void 0:r.notes:"-"})]}),(0,k.jsxs)(u.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(u.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" attendes "}),"Contact"===(null===r||void 0===r?void 0:r.related)&&null!==y&&void 0!==y&&y.view?(null===r||void 0===r?void 0:r.attendes)&&(null===r||void 0===r?void 0:r.attendes.map((e=>(0,k.jsx)(g.N_,{to:"/contactView/".concat(e._id),children:(0,k.jsx)(u.Text,{color:"brand.600",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},children:e.firstName+" "+e.lastName})})))):"Lead"===(null===r||void 0===r?void 0:r.related)&&null!==D&&void 0!==D&&D.view?(null===r||void 0===r?void 0:r.attendesLead)&&(null===r||void 0===r?void 0:r.attendesLead.map((e=>(0,k.jsx)(g.N_,{to:"/leadView/".concat(e._id),children:(0,k.jsx)(u.Text,{color:"brand.600",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},children:e.leadName})})))):"Contact"===(null===r||void 0===r?void 0:r.related)?(null===r||void 0===r?void 0:r.attendes)&&(null===r||void 0===r?void 0:r.attendes.map((e=>(0,k.jsx)(u.Text,{color:"blackAlpha.900",children:e.firstName+" "+e.lastName})))):"Lead"===(null===r||void 0===r?void 0:r.related)?(null===r||void 0===r?void 0:r.attendesLead)&&(null===r||void 0===r?void 0:r.attendesLead.map((e=>(0,k.jsx)(u.Text,{color:"blackAlpha.900",children:e.leadName})))):"-"]})]})}),(0,k.jsxs)(j.tb,{children:[(null===c||void 0===c?void 0:c.view)&&(0,k.jsx)(p.IconButton,{variant:"outline",colorScheme:"green",onClick:()=>(()=>{var e;null!==t&&void 0!==t&&t.event?z("/view/".concat(null===t||void 0===t||null===(e=t.event)||void 0===e?void 0:e.id)):z("/view/".concat(t))})(),borderRadius:"10px",size:"md",icon:(0,k.jsx)(m.ViewIcon,{})}),(null===c||void 0===c?void 0:c.update)&&(0,k.jsx)(p.IconButton,{variant:"outline",onClick:()=>h(!0),ml:3,borderRadius:"10px",size:"md",icon:(0,k.jsx)(m.EditIcon,{})}),(null===c||void 0===c?void 0:c.delete)&&(0,k.jsx)(p.IconButton,{colorScheme:"red",onClick:()=>A(!0),ml:3,borderRadius:"10px",size:"md",icon:(0,k.jsx)(m.DeleteIcon,{})})]})]})]})]})},C=e=>{const{onClose:l,isOpen:i,info:t,action:d,access:s}=e,[a,c]=(0,n.useState)(),[r,v]=(0,n.useState)(!1),[x,h]=(0,n.useState)(!1),[f,g]=(JSON.parse(localStorage.getItem("user")),(0,n.useState)(!1)),I=(0,T.Zp)();(0,n.useEffect)((()=>{(async()=>{if(t){var e;g(!0);let l=await(0,o.x4)("api/phoneCall/view/",null!==t&&void 0!==t&&t.event?null===t||void 0===t||null===(e=t.event)||void 0===e?void 0:e.id:t);c(null===l||void 0===l?void 0:l.data),g(!1)}})()}),[d,t]);return(0,k.jsxs)(j.aF,{isOpen:i,size:"md",isCentered:!0,children:[(0,k.jsx)(j.mH,{}),(0,k.jsxs)(j.$m,{children:[(0,k.jsxs)(j.rQ,{justifyContent:"space-between",display:"flex",children:["Call",(0,k.jsx)(p.IconButton,{onClick:()=>l(!1),icon:(0,k.jsx)(m.CloseIcon,{})})]}),f?(0,k.jsx)(u.Flex,{justifyContent:"center",alignItems:"center",mb:30,width:"100%",children:(0,k.jsx)(b.A,{})}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(j.cw,{children:(0,k.jsxs)(u.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,k.jsxs)(u.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsxs)(u.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Recipient"," "]}),(0,k.jsx)(u.Text,{children:null!==a&&void 0!==a&&a.recipient?null===a||void 0===a?void 0:a.recipient:" - "})]}),(0,k.jsxs)(u.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsxs)(u.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Sender Name"," "]}),(0,k.jsx)(u.Text,{children:null!==a&&void 0!==a&&a.senderName?null===a||void 0===a?void 0:a.senderName:"-"})]}),(0,k.jsxs)(u.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsxs)(u.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Start Date"," "]}),(0,k.jsx)(u.Text,{children:null!==a&&void 0!==a&&a.startDate?S()(null===a||void 0===a?void 0:a.startDate).format("lll "):" - "})]}),(0,k.jsxs)(u.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsxs)(u.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","End Date"," "]}),(0,k.jsx)(u.Text,{children:null!==a&&void 0!==a&&a.endDate?S()(null===a||void 0===a?void 0:a.endDate).format("lll "):" - "})]}),(0,k.jsxs)(u.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsxs)(u.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Call Duration"]}),(0,k.jsx)(u.Text,{children:null!==a&&void 0!==a&&a.callDuration?null===a||void 0===a?void 0:a.callDuration:"-"})]}),(0,k.jsxs)(u.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsxs)(u.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Created By Created By"," "]}),(0,k.jsx)(u.Text,{children:null!==a&&void 0!==a&&a.createByName?null===a||void 0===a?void 0:a.createByName:"-"})]}),(0,k.jsxs)(u.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsxs)(u.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Call Notes"]}),(0,k.jsx)(u.Text,{children:null!==a&&void 0!==a&&a.callNotes?null===a||void 0===a?void 0:a.callNotes:"-"})]})]})}),(0,k.jsxs)(j.tb,{children:[(null===s||void 0===s?void 0:s.view)&&(0,k.jsx)(p.IconButton,{variant:"outline",colorScheme:"green",onClick:()=>(()=>{var e;null!==t&&void 0!==t&&t.event?I("/view/".concat(null===t||void 0===t||null===(e=t.event)||void 0===e?void 0:e.id)):I("/view/".concat(t))})(),borderRadius:"10px",size:"md",icon:(0,k.jsx)(m.ViewIcon,{})}),(null===s||void 0===s?void 0:s.update)&&(0,k.jsx)(p.IconButton,{variant:"outline",onClick:()=>v(!0),ml:3,borderRadius:"10px",size:"md",icon:(0,k.jsx)(m.EditIcon,{})}),(null===s||void 0===s?void 0:s.delete)&&(0,k.jsx)(p.IconButton,{colorScheme:"red",onClick:()=>h(!0),ml:3,borderRadius:"10px",size:"md",icon:(0,k.jsx)(m.DeleteIcon,{})})]})]})]})]})};var w=i(72886);const z=e=>{const{onClose:l,isOpen:i,info:t,fetchData:d,setAction:s,action:a,access:c,contactAccess:r,leadAccess:v}=e,[x,h]=(0,n.useState)(),[f,g]=(0,n.useState)(!1),[I,A]=(0,n.useState)(!1),[C,w]=(JSON.parse(localStorage.getItem("user")),(0,n.useState)(!1)),z=(0,T.Zp)();(0,n.useEffect)((()=>{(async()=>{if(t){var e;w(!0);let l=await(0,o.x4)("api/email/view/",null!==t&&void 0!==t&&t.event?null===t||void 0===t||null===(e=t.event)||void 0===e?void 0:e.id:t);h(null===l||void 0===l?void 0:l.data),w(!1)}})()}),[a,t]);return(0,k.jsxs)(j.aF,{isOpen:i,size:"md",isCentered:!0,children:[(0,k.jsx)(j.mH,{}),(0,k.jsxs)(j.$m,{children:[(0,k.jsxs)(j.rQ,{justifyContent:"space-between",display:"flex",children:["Email",(0,k.jsx)(p.IconButton,{onClick:()=>l(!1),icon:(0,k.jsx)(m.CloseIcon,{})})]}),C?(0,k.jsx)(u.Flex,{justifyContent:"center",alignItems:"center",mb:30,width:"100%",children:(0,k.jsx)(b.A,{})}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(j.cw,{children:(0,k.jsxs)(u.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,k.jsxs)(u.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(u.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Recipient "}),(0,k.jsx)(u.Text,{children:null!==x&&void 0!==x&&x.recipient?null===x||void 0===x?void 0:x.recipient:" - "})]}),(0,k.jsxs)(u.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(u.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Sender Email  "}),(0,k.jsx)(u.Text,{children:null!==x&&void 0!==x&&x.senderEmail?null===x||void 0===x?void 0:x.senderEmail:"-"})]}),(0,k.jsxs)(u.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(u.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Start Date "}),(0,k.jsx)(u.Text,{children:null!==x&&void 0!==x&&x.startDate?S()(null===x||void 0===x?void 0:x.startDate).format("lll "):" - "})]}),(0,k.jsxs)(u.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(u.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" End Date "}),(0,k.jsx)(u.Text,{children:null!==x&&void 0!==x&&x.endDate?S()(null===x||void 0===x?void 0:x.endDate).format("lll "):" - "})]}),(0,k.jsxs)(u.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(u.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Subject "}),(0,k.jsx)(u.Text,{children:null!==x&&void 0!==x&&x.subject?null===x||void 0===x?void 0:x.subject:"-"})]}),(0,k.jsxs)(u.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(u.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Message "}),(0,k.jsx)(u.Text,{children:null!==x&&void 0!==x&&x.message?null===x||void 0===x?void 0:x.message:"-"})]})]})}),(0,k.jsxs)(j.tb,{children:[(null===c||void 0===c?void 0:c.view)&&(0,k.jsx)(p.IconButton,{variant:"outline",colorScheme:"green",onClick:()=>(()=>{var e;null!==t&&void 0!==t&&t.event?z("/view/".concat(null===t||void 0===t||null===(e=t.event)||void 0===e?void 0:e.id)):z("/view/".concat(t))})(),borderRadius:"10px",size:"md",icon:(0,k.jsx)(m.ViewIcon,{})}),(null===c||void 0===c?void 0:c.update)&&(0,k.jsx)(p.IconButton,{variant:"outline",onClick:()=>g(!0),ml:3,borderRadius:"10px",size:"md",icon:(0,k.jsx)(m.EditIcon,{})}),(null===c||void 0===c?void 0:c.delete)&&(0,k.jsx)(p.IconButton,{colorScheme:"red",onClick:()=>A(!0),ml:3,borderRadius:"10px",size:"md",icon:(0,k.jsx)(m.DeleteIcon,{})})]})]})]})]})};var y=i(1887);const D=e=>{const{data:l,fetchData:i}=e,[o,m]=(0,n.useState)(!1),[j,p]=(0,n.useState)(!1),[b,f]=(0,n.useState)(!1),[S,g]=(0,n.useState)(!1),[T,D]=(0,n.useState)(),[G,W]=(0,n.useState)(),[N,B]=(0,n.useState)(),[O,E]=(0,n.useState)(),[F,R]=(0,n.useState)(),[L,M,_,V]=(0,I.h)(["Tasks","Meetings","Calls","Emails"]),[J,H]=(0,n.useState)(!1),Q=JSON.parse(localStorage.getItem("user"));const[Z,$]=(0,n.useState)("");return(0,n.useEffect)((()=>{$("dayGridMonth")}),[]),(0,k.jsx)("div",{children:(0,k.jsxs)(d.A,{children:[((null===L||void 0===L?void 0:L.view)||"superAdmin"===(null===Q||void 0===Q?void 0:Q.role))&&(0,k.jsx)(y.A,{isOpen:J,onClose:H,fetchData:i,userAction:"add"}),(0,k.jsx)(h.A,{fetchData:i,isOpen:o,onClose:m,info:T}),(0,k.jsx)(A,{fetchData:i,isOpen:j,onClose:p,info:G}),(0,k.jsx)(C,{fetchData:i,isOpen:b,onClose:f,info:N}),(0,k.jsx)(z,{fetchData:i,isOpen:S,onClose:g,info:O}),(0,k.jsxs)("div",{style:{display:"flex",justifyContent:"end"},children:[((null===_||void 0===_?void 0:_.create)||"superAdmin"===(null===Q||void 0===Q?void 0:Q.role))&&(0,k.jsxs)(u.Flex,{alignItems:"center",fontSize:"14px",marginRight:"10px",children:[(0,k.jsx)(w.dnm,{color:"green",fontSize:"18px"})," Calls"]}),((null===M||void 0===M?void 0:M.create)||"superAdmin"===(null===Q||void 0===Q?void 0:Q.role))&&(0,k.jsxs)(u.Flex,{alignItems:"center",fontSize:"14px",marginRight:"10px",children:[(0,k.jsx)(w.dnm,{color:"red",fontSize:"18px"})," Meetings"]}),((null===V||void 0===V?void 0:V.create)||"superAdmin"===(null===Q||void 0===Q?void 0:Q.role))&&(0,k.jsxs)(u.Flex,{alignItems:"center",fontSize:"14px",children:[(0,k.jsx)(w.dnm,{color:"blue",fontSize:"18px"})," Emails"]})]}),(0,k.jsx)(t.A,{plugins:[s.A,v.A,c.A,a.Ay,r.A],initialView:Z,height:"600px",dateClick:e=>{H(!0),R(e.dateStr)},events:l,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek,multiMonthFourMonth"},eventClick:function(e){var l,i,n,o;e.event.url&&(e.jsEvent.preventDefault(),window.open(e.event.url)),"task"===(null===e||void 0===e||null===(l=e.event)||void 0===l?void 0:l.groupId)?(D(e),m(!0)):"call"===(null===e||void 0===e||null===(i=e.event)||void 0===i?void 0:i.groupId)?(B(e),f(!0)):"meeting"===(null===e||void 0===e||null===(n=e.event)||void 0===n?void 0:n.groupId)?(W(e),p(!0)):"email"===(null===e||void 0===e||null===(o=e.event)||void 0===o?void 0:o.groupId)&&(E(e),g(!0))},buttonText:{today:"Today",dayGridMonth:"Month",timeGridWeek:"Week",timeGridDay:"Day",listWeek:"List"},views:{multiMonthFourMonth:{type:"multiMonth",buttonText:"Multi Month",duration:{months:(0,x.AD)({base:4,lg:4,xl:6})}}},eventClassNames:"custom-fullcalendar"})]})})},G=()=>{const[e,l]=(0,n.useState)([]),i=JSON.parse(localStorage.getItem("user")),t=async()=>{let e=await(0,o.x4)("superAdmin"===(null===i||void 0===i?void 0:i.role)?"api/calendar/":"api/calendar/?createBy=".concat(i._id));200===(null===e||void 0===e?void 0:e.status)&&l(null===e||void 0===e?void 0:e.data)};return(0,n.useEffect)((()=>{t()}),[]),(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(D,{fetchData:t,data:e})})}}}]);
//# sourceMappingURL=1888.38766fcf.chunk.js.map