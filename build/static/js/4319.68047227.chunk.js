"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[4319],{8966:(e,l,n)=>{n.d(l,{A:()=>u});var i=n(80045),o=n(31206),t=n(4450),a=n(3458),s=n(71997),d=n(27149),r=n(70579);const c=["used","total","count"];function u(e){const{used:l,total:n,count:u}=e,x=((0,i.A)(e,c),(0,o.dU)("secondaryGray.900","white")),m=(0,o.dU)("brand.500","white");return(0,r.jsxs)(t.Grid,{templateColumns:"repeat(12, 1fr)",mb:3,gap:2,children:[(0,r.jsx)(t.GridItem,{colSpan:{base:12,"2xl":5},children:(0,r.jsx)(s.A,{w:{base:"100%","2xl":"240px"},me:"36px",minH:200,height:"100%",onFileSelect:e.onFileSelect,content:(0,r.jsxs)(t.Box,{children:[(0,r.jsx)(a.In,{as:d.vpy,w:"70px",h:"70px",color:m}),(0,r.jsx)(t.Flex,{justify:"center",mx:"auto",mb:"12px",children:(0,r.jsx)(t.Text,{fontSize:"xl",fontWeight:"700",color:m,children:"Upload Files"})}),(0,r.jsx)(t.Text,{fontSize:"sm",fontWeight:"500",color:"secondaryGray.500",children:u>0&&(0,r.jsxs)(t.Text,{fontSize:"sm",fontWeight:"500",color:"secondaryGray.500",children:["Selected Files : ",u]})})]})})}),(0,r.jsx)(t.GridItem,{colSpan:{base:12,"2xl":7},children:(0,r.jsxs)(t.Flex,{direction:"column",children:[(0,r.jsx)(t.Text,{color:x,fontWeight:"bold",textAlign:"start",fontSize:"2xl",mt:{base:"20px","2xl":"50px"},children:"Upload Files"}),(0,r.jsx)(t.Text,{color:"gray.400",fontSize:"md",my:{base:"auto","2xl":"10px"},mx:"auto",textAlign:"start",children:"Accepted File Types (Images, PDFs, Word docs, Powerpoint, Excel, ZIP, and video files - 15MB max)"})]})})]})}},20962:(e,l,n)=>{n.d(l,{A:()=>A});var i=n(14034),o=n(4450),t=n(85376),a=n(858),s=n(65043),d=n(20243),r=n(1009),c=n(34960),u=n(27149),x=n(73216),m=n(40848),h=n(22554),v=n(66305),p=n(70579);const j=e=>(0,p.jsx)("div",{children:(0,p.jsxs)(m.aF,{onClose:e.onClose,isOpen:e.isOpen,isCentered:!0,children:[(0,p.jsx)(m.mH,{}),(0,p.jsxs)(m.$m,{children:[(0,p.jsxs)(m.rQ,{children:["Delete Document","one"===e.method?"":"s"]}),(0,p.jsx)(m.s_,{}),(0,p.jsxs)(m.cw,{children:["Are You Sure To Delete selected Document","one"===e.method?"":"s"," ?"]}),(0,p.jsxs)(m.jl,{children:[(0,p.jsx)(h.Button,{size:"sm",colorScheme:"red",mr:2,onClick:async()=>{if("one"===e.method)e.deleteFile(e.id),e.onClose(!1);else if("many"===e.method)try{200===(await(0,v.Vn)(e.url,e.data)).status&&(e.setSelectedValues([]),e.onClose(!1))}catch(l){console.log(l)}},children:"Yes"}),(0,p.jsx)(h.Button,{size:"sm",variant:"outline",onClick:()=>{e.onClose(!1)},children:"No"})]})]})]})});var f=n(78510),g=n(95104),S=n(84626),C=n(63516),b=n(42145),k=n(49565),y=n(91125),w=n(3388);const F=e=>{const{setLinkDocument:l}=e,[n,t]=(0,s.useState)(!1),[a,d]=(0,s.useState)([]),[r,c]=(0,s.useState)(!1),[u,x]=(0,s.useState)(!1),j=JSON.parse(localStorage.getItem("user")),F=(0,C.Wx)({initialValues:{linkWith:"",linkContact:"",linkLead:""},onSubmit:(e,l)=>{let{resetForm:n}=l;B(),n()}}),{errors:L,touched:A,values:N,handleBlur:I,handleChange:z,handleSubmit:T,setFieldValue:W,resetForm:D}=F,B=async()=>{try{t(!0);let i=N.linkContact?{linkContact:N.linkContact}:{linkLead:N.linkLead},o=await(0,v.d_)("api/document/link-document/".concat(e.id),i);var n;if(o&&200===o.status)l((e=>!e)),e.onClose();else b.oR.error(null===(n=o.response.data)||void 0===n?void 0:n.message)}catch(i){console.log(i)}finally{t(!1)}};return(0,s.useEffect)((()=>{(async()=>{if("Contact"===N.linkWith){let e=await(0,v.x4)("superAdmin"===j.role?"api/contact/":"api/contact/?createBy=".concat(j._id));N.createBy=null===e||void 0===e?void 0:e._id,d((l=>{var n;return[...(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.map((e=>({label:e.firstName+" "+e.lastName,value:e._id}))))||[]]}))}else if("lead"===N.linkWith){let e=await(0,v.x4)("superAdmin"===j.role?"api/lead/":"api/lead/?createBy=".concat(j._id));N.createBy=null===e||void 0===e?void 0:e._id,d((l=>{var n;return[...(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.map((e=>({label:e.leadName,value:e._id}))))||[]]}))}})()}),[N.linkWith]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(m.aF,{onClose:e.onClose,isOpen:e.isOpen,children:[(0,p.jsx)(m.mH,{}),(0,p.jsxs)(m.$m,{children:[(0,p.jsx)(m.rQ,{children:"Link With Document"}),(0,p.jsx)(m.s_,{}),(0,p.jsx)(m.cw,{children:(0,p.jsxs)(o.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,p.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,p.jsx)(f.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Link With"}),(0,p.jsx)(g.z6,{onChange:e=>{D(),W("linkWith",e)},value:N.linkWith,children:(0,p.jsxs)(o.Stack,{direction:"row",children:[(0,p.jsx)(g.sx,{value:"Contact",children:"Contact"}),(0,p.jsx)(g.sx,{value:"lead",children:"Lead"})]})}),(0,p.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",L.linkWith&&A.linkWith&&L.linkWith]})]}),"Contact"===N.linkWith?(0,p.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,p.jsx)(f.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Link Contact"}),(0,p.jsxs)(o.Flex,{children:[(0,p.jsx)(S.l6,{value:N.linkContact,name:"linkContact",onChange:z,mb:L.linkContact&&A.linkContact?void 0:"10px",fontWeight:"500",placeholder:"Link Contact",borderColor:L.linkContact&&A.linkContact?"red.300":null,children:null===a||void 0===a?void 0:a.map((e=>(0,p.jsx)("option",{value:e.value,children:"Contact"===N.linkWith&&"".concat(e.label)},e.value)))}),(0,p.jsx)(h.IconButton,{onClick:()=>c(!0),ml:2,fontSize:"25px",icon:(0,p.jsx)(w.G2h,{})}),(0,p.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",L.linkContact&&A.linkContact&&L.linkContact]})]})]}):"lead"===N.linkWith&&(0,p.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,p.jsx)(f.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Link Lead"}),(0,p.jsxs)(o.Flex,{children:[(0,p.jsx)(S.l6,{value:N.linkLead,name:"linkLead",onChange:z,mb:L.linkLead&&A.linkLead?void 0:"10px",fontWeight:"500",placeholder:"Link Lead",borderColor:L.linkLead&&A.linkLead?"red.300":null,children:null===a||void 0===a?void 0:a.map((e=>(0,p.jsx)("option",{value:e.value,children:"lead"===N.linkWith&&"".concat(e.label)},e.value)))}),(0,p.jsx)(h.IconButton,{onClick:()=>c(!0),ml:2,fontSize:"25px",icon:(0,p.jsx)(w.G2h,{})}),(0,p.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",L.linkLead&&A.linkLead&&L.linkLead]})]}),(0,p.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",L.linkLead&&A.linkLead&&L.linkLead]})]})]})}),(0,p.jsxs)(m.jl,{children:[(0,p.jsx)(h.Button,{size:"sm",colorScheme:"brand",rightIcon:(0,p.jsx)(i.LinkIcon,{}),mr:2,onClick:B,children:"Link"}),(0,p.jsx)(h.Button,{size:"sm",variant:"outline",colorScheme:"red",onClick:()=>{e.onClose(!1),D()},children:"Cancel"})]})]})]}),(0,p.jsx)(k.A,{data:a,isOpen:r,onClose:c,fieldName:"linkContact",setFieldValue:W}),(0,p.jsx)(y.A,{data:a,isOpen:u,onClose:x,fieldName:"linkLead",setFieldValue:W})]})};var L=n(17368);const A=e=>{let{data:l,deleteFile:n,item:m,download:h,name:v,isFile:f,children:g,setLinkDocument:S,from:C}=e;const[b,k]=(0,s.useState)(!1),[y,w]=(0,s.useState)(!1),[A,N]=(0,s.useState)(!1),[I,z]=(0,s.useState)(!1),T=(0,x.Zp)(),W=!f&&!!g;JSON.parse(localStorage.getItem("user"));return(0,p.jsxs)(o.List,{width:"100%",children:[(0,p.jsx)(o.ListItem,{alignItems:"center",display:"flex",children:(0,p.jsxs)(o.Text,{alignItems:"center",justifyContent:"space-between",display:"flex",width:"100%",onClick:W?()=>{k(!b)}:void 0,_hover:{cursor:"pointer",textDecoration:"none"},children:[(0,p.jsxs)(o.Flex,{width:"70%",alignItems:"center",children:[(0,p.jsx)(o.ListIcon,{as:f?r.QuH:d.NVk}),W&&(b?(0,p.jsx)(r.fK4,{}):(0,p.jsx)(r.fOo,{})),v]}),null!==m&&void 0!==m&&m.createByName?(0,p.jsxs)(o.Text,{children:["(",null===m||void 0===m?void 0:m.createByName,") "]}):null,!W&&(0,p.jsx)(o.Flex,{justifyContent:"right",width:"100%",children:(0,p.jsxs)(t.W1,{isLazy:!0,children:[(0,p.jsx)(t.IU,{children:(0,p.jsx)(L.txp,{})}),(0,p.jsxs)(t.cO,{position:"absolute",right:-5,pl:"0.5em",minW:"fit-content",children:[!C&&null!==l&&void 0!==l&&l.linkContact?(0,p.jsx)(t.Dr,{pr:2,w:"180px",onClick:()=>T("/contactView/".concat(null===l||void 0===l?void 0:l.linkContact)),icon:(0,p.jsx)(c.oau,{fontSize:15}),children:"Linked Contact"}):!C&&(null===l||void 0===l?void 0:l.linkLead)&&(0,p.jsx)(t.Dr,{pr:2,w:"180px",onClick:()=>T("/leadView/".concat(null===l||void 0===l?void 0:l.linkLead)),icon:(0,p.jsx)(u.ju$,{fontSize:15}),children:"Linked Lead"}),!C&&(0,p.jsx)(t.Dr,{pr:10,alignItems:"start",color:"blue",onClick:()=>(e=>{N(!0),z(e)})(null===l||void 0===l?void 0:l._id),icon:(0,p.jsx)(i.LinkIcon,{fontSize:15}),children:"Link"}),function(e){const l=e.substring(e.lastIndexOf(".")).toLowerCase();return[".jpg",".jpeg",".png",".gif",".bmp"].includes(l)}(null===l||void 0===l?void 0:l.img)&&(0,p.jsx)(t.Dr,{alignItems:"start",pr:10,color:"green",onClick:()=>window.open(null===l||void 0===l?void 0:l.img),icon:(0,p.jsx)(i.ViewIcon,{fontSize:15}),children:"View"}),(0,p.jsx)(t.Dr,{pr:10,alignItems:"start",onClick:()=>(e=>{h(e)})(null===l||void 0===l?void 0:l._id),icon:(0,p.jsx)(i.DownloadIcon,{fontSize:15}),children:"Download"}),!C&&(0,p.jsx)(t.Dr,{alignItems:"start",pr:10,color:"red",onClick:()=>(e=>{w(!0),z(e)})(null===l||void 0===l?void 0:l._id),icon:(0,p.jsx)(i.DeleteIcon,{fontSize:15}),children:"Delete"})]})]})}),(0,p.jsx)(j,{isOpen:y,onClose:w,method:"one",deleteFile:n,id:I}),(0,p.jsx)(F,{isOpen:A,setLinkDocument:S,onClose:N,id:I})]})}),W&&(0,p.jsx)(a.SD,{in:b,animateOpacity:!0,children:(0,p.jsx)(o.List,{styleType:"disc",ml:4,children:g})})]})}},41046:(e,l,n)=>{n.d(l,{A:()=>v});var i=n(89379),o=n(31206),t=n(4450),a=n(71778),s=n(35066),d=n(65043),r=n(71094),c=n(10216),u=n(76914),x=n(78152),m=n(85369),h=n(70579);function v(e){const{columnsData:l,tableData:n,title:v,type:p,selectedValues:j,setSelectedValues:f}=e,g=(0,d.useMemo)((()=>l),[l]),S=(0,d.useMemo)((()=>n),[n]),[C,b]=(JSON.parse(localStorage.getItem("user")),(0,d.useState)()),k=(0,r.useTable)({columns:g,data:S,initialState:{pageIndex:0}},r.useGlobalFilter,r.useSortBy,r.usePagination),{getTableProps:y,getTableBodyProps:w,headerGroups:F,prepareRow:L,page:A,canPreviousPage:N,canNextPage:I,pageOptions:z,pageCount:T,gotoPage:W,nextPage:D,previousPage:B,setPageSize:H,state:{pageIndex:G,pageSize:P}}=k;z.length<C&&b(z.length);const O=(0,o.dU)("gray.500","white"),V=(0,o.dU)("gray.200","whiteAlpha.100"),_=(e,l)=>{"multi"===p?e.target.checked?f((e=>[...e,l])):f((e=>e.filter((e=>e!==l)))):e.target.checked?f(l):f(null)};return(0,h.jsxs)(c.A,{direction:"column",w:"100%",px:"0px",style:{border:"1px solid gray.200"},overflowX:{sm:"scroll",lg:"hidden"},children:[(0,h.jsx)(t.Flex,{px:"25px",justify:"space-between",mb:"20px",align:"center",children:(0,h.jsxs)(t.Text,{color:O,fontSize:"22px",fontWeight:"700",lineHeight:"100%",children:[v,"  (",(0,h.jsx)(u.A,{targetNumber:null===S||void 0===S?void 0:S.length},null===S||void 0===S?void 0:S.length),")"]})}),(0,h.jsx)(t.Box,{overflowY:"auto",className:"table-container-property",children:(0,h.jsxs)(a.XI,(0,i.A)((0,i.A)({},y()),{},{variant:"simple",color:"gray.500",mb:"24px",children:[(0,h.jsx)(a.d8,{zIndex:1,children:null===F||void 0===F?void 0:F.map(((e,l)=>(0,d.createElement)(a.Tr,(0,i.A)((0,i.A)({},e.getHeaderGroupProps()),{},{key:l}),e.headers.map(((e,l)=>(0,d.createElement)(a.Th,(0,i.A)((0,i.A)({},e.getHeaderProps(!1!==e.isSortable&&e.getSortByToggleProps())),{},{pe:"10px",key:l,borderColor:V}),(0,h.jsxs)(t.Flex,{align:"center",justifyContent:e.center?"center":"start",fontSize:{sm:"14px",lg:"16px"},color:" secondaryGray.900",children:[(0,h.jsx)("span",{style:{textTransform:"capitalize",marginRight:"8px"},children:e.render("Header")}),!1!==e.isSortable&&(0,h.jsx)("span",{children:e.isSorted?e.isSortedDesc?(0,h.jsx)(m.GOR,{}):(0,h.jsx)(m.XhJ,{}):(0,h.jsx)(m.MjW,{})})]})))))))}),(0,h.jsxs)(a.NN,(0,i.A)((0,i.A)({},w()),{},{children:[0===(null===S||void 0===S?void 0:S.length)&&(0,h.jsx)(a.Tr,{children:(0,h.jsx)(a.Td,{colSpan:g.length,children:(0,h.jsx)(t.Text,{textAlign:"center",width:"100%",color:O,fontSize:"sm",fontWeight:"700",children:"-- No Data Found --"})})}),null===A||void 0===A?void 0:A.map(((e,l)=>{var n;return L(e),(0,d.createElement)(a.Tr,(0,i.A)((0,i.A)({},null===e||void 0===e?void 0:e.getRowProps()),{},{key:l}),null===e||void 0===e||null===(n=e.cells)||void 0===n?void 0:n.map(((e,l)=>{let n="";var o;"#"===(null===e||void 0===e?void 0:e.column.Header)?n=(0,h.jsxs)(t.Flex,{align:"center",children:["multi"===p?(0,h.jsx)(s.Sc,{colorScheme:"brandScheme",value:j,isChecked:j.includes(null===e||void 0===e?void 0:e.value),onChange:l=>_(l,null===e||void 0===e?void 0:e.value),me:"10px"}):(0,h.jsx)(s.Sc,{colorScheme:"brandScheme",value:j,isChecked:j===(null===e||void 0===e?void 0:e.value),onChange:l=>_(l,null===e||void 0===e?void 0:e.value),me:"10px"}),(0,h.jsx)(t.Text,{color:O,fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e||null===(o=e.row)||void 0===o?void 0:o.index)+1})]}):"title"===(null===e||void 0===e?void 0:e.column.Header)||"first Name"===(null===e||void 0===e?void 0:e.column.Header)||"last Name"===(null===e||void 0===e?void 0:e.column.Header)?n=(0,h.jsx)(t.Text,{me:"10px",color:O,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}):"phone Number"===(null===e||void 0===e?void 0:e.column.Header)||"Email Address"===(null===e||void 0===e?void 0:e.column.Header)?n=(0,h.jsx)(t.Text,{fontSize:"sm",fontWeight:"700",color:O,children:null===e||void 0===e?void 0:e.value}):("physical Address"===(null===e||void 0===e?void 0:e.column.Header)||"mailing Address"===(null===e||void 0===e?void 0:e.column.Header)||"Contact Method"===(null===e||void 0===e?void 0:e.column.Header))&&(n=(0,h.jsx)(t.Text,{color:O,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}));return(0,d.createElement)(a.Td,(0,i.A)((0,i.A)({},null===e||void 0===e?void 0:e.getCellProps()),{},{key:l,fontSize:{sm:"14px"},minW:{sm:"150px",md:"200px",lg:"auto"},borderColor:"transparent"}),n)})))}))]}))]}))}),(null===S||void 0===S?void 0:S.length)>5&&(0,h.jsx)(x.A,{gotoPage:W,gopageValue:C,setGopageValue:b,pageCount:T,canPreviousPage:N,previousPage:B,canNextPage:I,pageOptions:z,setPageSize:H,nextPage:D,pageSize:P,pageIndex:G})]})}},49565:(e,l,n)=>{n.d(l,{A:()=>h});var i=n(40848),o=n(4450),t=n(22554),a=n(65043),s=(n(41046),n(19488)),d=n(8860),r=n(88031),c=n(20850),u=n(26547),x=n(97508),m=n(70579);const h=e=>{var l,n;const{onClose:h,isOpen:v,fieldName:p,setFieldValue:j,data:f}=e,[g,S]=(0,a.useState)(),[C,b]=(0,a.useState)([]),[k,y]=(0,a.useState)(!1),[w,F]=(0,a.useState)([]),L=(0,x.wA)();return(0,a.useEffect)((async()=>{await L((0,u.h)()),(async()=>{var e,l,n,i;y(!0);const o=await L((0,c.I)());b(null===o||void 0===o||null===(e=o.payload)||void 0===e?void 0:e.data);const t=[{Header:"#",accessor:"_id",isSortable:!1,width:10},...((null===o||void 0===o||null===(l=o.payload)||void 0===l||null===(n=l.data)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.fields)||[]).filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))).map((e=>({Header:null===e||void 0===e?void 0:e.label,accessor:null===e||void 0===e?void 0:e.name})))];F(t),y(!1)})()}),[]),(0,m.jsxs)(i.aF,{onClose:h,size:"full",isOpen:v,children:[(0,m.jsx)(i.mH,{}),(0,m.jsxs)(i.$m,{children:[(0,m.jsx)(i.rQ,{children:"Select Contact"}),(0,m.jsx)(i.s_,{}),(0,m.jsx)(i.cw,{children:k?(0,m.jsx)(o.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,m.jsx)(s.A,{})}):(0,m.jsx)(r.A,{title:"Contacts",isLoding:k,columnData:null!==w&&void 0!==w?w:[],allData:null!==f&&void 0!==f?f:[],tableData:f,tableCustomFields:(null===C||void 0===C||null===(l=C[0])||void 0===l||null===(n=l.fields)||void 0===n?void 0:n.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||[],AdvanceSearch:()=>"",ManageGrid:!1,deleteMany:!1,selectedValues:g,setSelectedValues:S,selectType:"single",customSearch:!1})}),(0,m.jsxs)(i.jl,{children:[(0,m.jsxs)(t.Button,{variant:"brand",size:"sm",me:2,onClick:async()=>{try{y(!0),j(p,g),h()}catch(e){console.log(e)}finally{y(!1)}},disabled:!!k,leftIcon:(0,m.jsx)(d.NLY,{}),children:[" ",k?(0,m.jsx)(s.A,{}):"Select"]}),(0,m.jsx)(t.Button,{variant:"outline",size:"sm",colorScheme:"red",onClick:()=>h(),children:"Close"})]})]})]})}},64319:(e,l,n)=>{n.r(l),n.d(l,{default:()=>C});var i=n(19754),o=n(4450),t=n(78510),a=n(67682),s=n(22554),d=n(20962),r=n(10216),c=n(63994),u=n(19488),x=n(62770),m=n(63516),h=n(65043),v=n(73216),p=n(42145),j=n(89849),f=n(66305),g=n(8966),S=n(70579);const C=()=>{const[e,l]=(0,h.useState)([]),{isOpen:n,onOpen:C,onClose:b}=(0,i.j1)(),k=JSON.parse(localStorage.getItem("user")),[y,w]=(0,h.useState)(!1),[F,L]=(0,h.useState)(!1),A=async()=>{w(!0);let e=await(0,f.x4)("superAdmin"===k.role?"api/document":"api/document?createBy=".concat(k._id));l(null===e||void 0===e?void 0:e.data),w(!1)},N={folderName:"",files:"",filename:"",createBy:k._id},I=(0,m.Wx)({initialValues:N,validationSchema:j.L8,onSubmit:(e,l)=>{let{resetForm:n}=l;_()}}),{errors:z,touched:T,values:W,handleBlur:D,handleChange:B,handleSubmit:H,setFieldValue:G,resetForm:P}=I,O=((0,v.Zp)(),async e=>{if(e){let l=await(0,f.x4)("api/document/download/",e);l&&200===l.status?(window.open("".concat(x.d.baseUrl,"api/document/download/").concat(e)),p.oR.success("File Download successful")):l&&404===l.response.status&&p.oR.error("File Not Found")}}),V=async e=>{if(e){let l=await(0,f.Gx)("api/document/delete/",e);l&&200===l.status&&A()}},_=async()=>{try{w(!0);const e=new FormData;null===e||void 0===e||e.append("folderName",W.folderName),null===e||void 0===e||e.append("createBy",W.createBy),null===e||void 0===e||e.append("filename",W.filename),W.files.forEach((l=>{null===e||void 0===e||e.append("files",l)}));let l=await(0,f.d_)("api/document/add",e);l&&200===l.status&&(A(),I.resetForm())}catch(e){console.log(e)}finally{w(!1)}};return(0,h.useEffect)((()=>{A()}),[F,H]),(0,S.jsx)("div",{children:(0,S.jsxs)(o.Grid,{templateColumns:"repeat(12, 1fr)",mb:3,gap:2,children:[(0,S.jsx)(o.GridItem,{colSpan:{base:12,md:7},children:(0,S.jsxs)(r.A,{minH:"20em",children:[(0,S.jsx)(o.Heading,{size:"lg",mb:4,children:"File Explorer"}),(0,S.jsx)(c.E,{}),(0,S.jsx)(o.VStack,{mt:4,alignItems:"flex-start",children:y?(0,S.jsx)(o.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,S.jsx)(u.A,{})}):0===(null===e||void 0===e?void 0:e.length)?(0,S.jsx)(o.Text,{textAlign:"center",width:"100%",fontSize:"sm",fontWeight:"700",children:"-- No Document Found --"}):null===e||void 0===e?void 0:e.map((e=>{var l;return(0,S.jsx)(d.A,{name:e.folderName,item:e,children:null===e||void 0===e||null===(l=e.files)||void 0===l?void 0:l.map((e=>(0,S.jsx)(d.A,{download:O,setLinkDocument:L,deleteFile:V,data:e,name:e.fileName,isFile:!0})))})}))})]})}),(0,S.jsx)(o.GridItem,{colSpan:{base:12,md:5},colStart:{base:1,md:8},children:(0,S.jsxs)(r.A,{children:[(0,S.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,S.jsxs)(t.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Folder Name",(0,S.jsx)(o.Text,{color:"red",children:"*"})]}),(0,S.jsx)(a.Input,{onFocus:C,fontSize:"sm",onChange:B,onBlur:()=>setTimeout(b,200),value:W.folderName,name:"folderName",placeholder:"Enter Folder Name",fontWeight:"500",borderColor:null!==z&&void 0!==z&&z.folderName&&null!==T&&void 0!==T&&T.folderName?"red.300":null}),n&&(null===W||void 0===W?void 0:W.folderName)&&(null===e||void 0===e?void 0:e.filter((e=>{var l,n;return null===e||void 0===e||null===(l=e.folderName)||void 0===l||null===(n=l.toLowerCase())||void 0===n?void 0:n.includes(null===W||void 0===W?void 0:W.folderName.toLowerCase())})).length)>0&&(0,S.jsx)(o.List,{position:"relative",border:"1px solid",bg:"gray.100",width:"100%",borderRadius:"0px 0px 20px 20px",lineHeight:1,children:null===e||void 0===e?void 0:e.filter((e=>{var l,n;return null===e||void 0===e||null===(l=e.folderName)||void 0===l||null===(n=l.toLowerCase())||void 0===n?void 0:n.includes(null===W||void 0===W?void 0:W.folderName.toLowerCase())})).map(((e,l)=>(0,S.jsx)(o.ListItem,{p:3,borderBottom:"2px solid #efefef",sx:{"&:last-child":{borderBottom:"none"}},cursor:"pointer",onClick:()=>{G("folderName",null===e||void 0===e?void 0:e.folderName)},children:null===e||void 0===e?void 0:e.folderName},null===e||void 0===e?void 0:e._id)))}),(0,S.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",z.folderName&&T.folderName&&z.folderName]})]}),(0,S.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,S.jsx)(t.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"File Name"}),(0,S.jsx)(a.Input,{fontSize:"sm",onChange:B,onBlur:()=>setTimeout(b,200),value:W.filename,name:"filename",placeholder:"Enter File Name",fontWeight:"500",borderColor:null!==z&&void 0!==z&&z.filename&&null!==T&&void 0!==T&&T.filename?"red.300":null}),(0,S.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",z.filename&&T.filename&&z.filename]})]}),(0,S.jsx)(g.A,{count:W.files.length,onFileSelect:e=>G("files",e)}),(0,S.jsx)(s.Button,{size:"sm",disabled:!!y,onClick:H,variant:"brand",fontWeight:"500",children:y?(0,S.jsx)(u.A,{}):"Publish now"})]})})]})})}},91125:(e,l,n)=>{n.d(l,{A:()=>h});var i=n(40848),o=n(4450),t=n(22554),a=n(65043),s=n(19488),d=n(8860),r=n(88031),c=n(87892),u=n(97508),x=n(37801),m=n(70579);const h=e=>{var l,n;const{onClose:h,isOpen:v,fieldName:p,setFieldValue:j,data:f}=e,g=(0,u.wA)(),[S,C]=(0,a.useState)(!1),[b,k]=(0,a.useState)([]),[y,w]=(0,a.useState)([]),[F,L]=(0,a.useState)([]);return(0,a.useEffect)((()=>{g((0,x.T)()),(async()=>{var e,l,n,i,o,t;C(!0);const a=await g((0,c.y)());w(null===a||void 0===a||null===(e=a.payload)||void 0===e?void 0:e.data);const s=[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"Status",accessor:"leadStatus",isSortable:!0,center:!0,cell:e=>{let{row:l}=e;return l.original.leadStatus}},...(null===a||void 0===a||null===(l=a.payload)||void 0===l||null===(n=l.data)||void 0===n||null===(i=n[0])||void 0===i||null===(o=i.fields)||void 0===o||null===(t=o.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||void 0===t?void 0:t.map((e=>"leadStatus"!==(null===e||void 0===e?void 0:e.name)&&{Header:null===e||void 0===e?void 0:e.label,accessor:null===e||void 0===e?void 0:e.name})))||[]];k(s),C(!1)})()}),[]),(0,m.jsxs)(i.aF,{onClose:h,size:"full",isOpen:v,children:[(0,m.jsx)(i.mH,{}),(0,m.jsxs)(i.$m,{children:[(0,m.jsx)(i.rQ,{children:"Select Lead"}),(0,m.jsx)(i.s_,{}),(0,m.jsx)(i.cw,{children:S?(0,m.jsx)(o.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,m.jsx)(s.A,{})}):(0,m.jsx)(r.A,{title:"Leads",isLoding:S,columnData:null!==b&&void 0!==b?b:[],allData:null!==f&&void 0!==f?f:[],tableData:f,tableCustomFields:(null===y||void 0===y||null===(l=y[0])||void 0===l||null===(n=l.fields)||void 0===n?void 0:n.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||[],AdvanceSearch:()=>"",ManageGrid:!1,deleteMany:!1,selectedValues:F,setSelectedValues:L,selectType:"single",customSearch:!1})}),(0,m.jsxs)(i.jl,{children:[(0,m.jsxs)(t.Button,{variant:"brand",size:"sm",me:2,disabled:!!S,leftIcon:(0,m.jsx)(d.NLY,{}),onClick:async()=>{try{C(!0),j(p,F),h()}catch(e){console.log(e)}finally{C(!1)}},children:[" ",S?(0,m.jsx)(s.A,{}):"Select"]}),(0,m.jsx)(t.Button,{variant:"outline",size:"sm",colorScheme:"red",onClick:()=>h(),children:"Close"})]})]})]})}}}]);
//# sourceMappingURL=4319.68047227.chunk.js.map