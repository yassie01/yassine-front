"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[4629],{44629:(e,l,t)=>{t.r(l),t.d(l,{default:()=>g});var i=t(19754),n=t(4450),o=t(22554),s=t(10216),d=t(63994),a=t(19488),r=t(86178),c=t.n(r),h=t(65043),m=t(34960),x=t(73216),u=t(35475),v=t(95574),j=t(66305),p=t(85369),b=t(90074),f=t.n(b),S=t(70579);const g=()=>{const e=(0,x.g)(),[l,t]=(0,h.useState)(),{isOpen:r,onOpen:b,onClose:g}=(0,i.j1)(),[y,T]=(0,h.useState)(!1),[k,I]=(0,h.useState)(!1),[w,B]=(JSON.parse(localStorage.getItem("user")),(0,h.useState)(!1)),A=(0,x.Zp)(),[D,G]=(0,h.useState)(!1);(0,h.useEffect)((()=>{(async()=>{B(!0);let l=await(0,j.x4)("api/email/view/",e.id);t(null===l||void 0===l?void 0:l.data),B(!1)})()}),[]);const[z,C]=(0,v.h)(["Contacts","Leads"]);return(0,S.jsx)(S.Fragment,{children:w?(0,S.jsx)(n.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,S.jsx)(a.A,{})}):(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(n.Grid,{templateColumns:"repeat(4, 1fr)",gap:3,id:"reports",children:[(0,S.jsx)(n.GridItem,{colSpan:{base:4},children:(0,S.jsx)(n.Heading,{size:"lg",m:3,children:null===l||void 0===l?void 0:l.senderEmail})}),(0,S.jsx)(n.GridItem,{colSpan:{base:4},children:(0,S.jsx)(s.A,{children:(0,S.jsxs)(n.Grid,{gap:4,children:[(0,S.jsx)(n.GridItem,{colSpan:2,children:(0,S.jsxs)(n.Box,{children:[(0,S.jsxs)(n.Box,{display:"flex",justifyContent:"space-between",children:[(0,S.jsx)(n.Heading,{size:"md",mb:3,children:"Email Details"}),(0,S.jsxs)(n.Box,{id:"hide-btn",children:[(0,S.jsx)(o.Button,{leftIcon:(0,S.jsx)(p.kl1,{}),size:"sm",variant:"brand",onClick:()=>{G(!0);const e=document.getElementById("reports"),l=document.getElementById("hide-btn");e?(l.style.display="none",f()().from(e).set({margin:[0,0,0,0],filename:"Email_Details_".concat(c()().format("DD-MM-YYYY"),".pdf"),image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,allowTaint:!0},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}}).save().then((()=>{G(!1),l.style.display=""}))):(console.error("Element with ID 'reports' not found."),G(!1))},disabled:D,children:D?"Please Wait...":"Print as PDF"}),(0,S.jsx)(o.Button,{leftIcon:(0,S.jsx)(m.m6W,{}),size:"sm",variant:"brand",onClick:()=>A(-1),style:{marginLeft:10},children:"Back"})]})]}),(0,S.jsx)(d.E,{})]})}),(0,S.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,S.jsxs)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Sender"," "]}),(0,S.jsx)(n.Text,{children:null!==l&&void 0!==l&&l.senderEmail?null===l||void 0===l?void 0:l.senderEmail:" - "})]}),(0,S.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,S.jsxs)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Recipient"," "]}),(0,S.jsx)(n.Text,{children:null!==l&&void 0!==l&&l.recipient?null===l||void 0===l?void 0:l.recipient:" - "})]}),(0,S.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,S.jsxs)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Create From"," "]}),null!==l&&void 0!==l&&l.createBy?(0,S.jsx)(u.N_,{to:"/contactView/".concat(null===l||void 0===l?void 0:l.createBy),children:(0,S.jsx)(n.Text,{color:null!==z&&void 0!==z&&z.view?"brand.600":"blackAlpha.900",sx:{"&:hover":{color:null!==z&&void 0!==z&&z.view?"blue.500":"blackAlpha.900",textDecoration:null!==z&&void 0!==z&&z.view?"underline":"none"}},children:null!==l&&void 0!==l&&l.createByName?null===l||void 0===l?void 0:l.createByName:" - "})}):(0,S.jsx)(u.N_,{to:"/leadView/".concat(null===l||void 0===l?void 0:l.createByLead),children:(0,S.jsx)(n.Text,{color:null!==C&&void 0!==C&&C.view?"brand.600":"blackAlpha.900",sx:{"&:hover":{color:null!==C&&void 0!==C&&C.view?"blue.500":"blackAlpha.900",textDecoration:null!==C&&void 0!==C&&C.view?"underline":"none"}},children:null!==l&&void 0!==l&&l.createByName?null===l||void 0===l?void 0:l.createByName:" - "})})]}),(0,S.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,S.jsxs)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Realeted To"," "]}),(0,S.jsx)(n.Text,{children:null!==l&&void 0!==l&&l.createBy?"Contact":(null===l||void 0===l?void 0:l.createByLead)&&"Lead"})]}),(0,S.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,S.jsxs)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Start Date"," "]}),(0,S.jsxs)(n.Text,{children:[" ",null!==l&&void 0!==l&&l.startDate?c()(null===l||void 0===l?void 0:l.startDate).format("lll "):" - "," "]})]}),(0,S.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,S.jsxs)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:["End Date"," "]}),(0,S.jsxs)(n.Text,{children:[" ",null!==l&&void 0!==l&&l.endDate?c()(null===l||void 0===l?void 0:l.endDate).format("lll "):" - "," "]})]}),(0,S.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,S.jsxs)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Time stamp"," "]}),(0,S.jsxs)(n.Text,{children:[" ",null!==l&&void 0!==l&&l.timestamp?c()(null===l||void 0===l?void 0:l.timestamp).format("lll "):" - "," ","[",null!==l&&void 0!==l&&l.timestamp?c()(null===l||void 0===l?void 0:l.timestamp).toNow():" - ","]"]})]}),(0,S.jsxs)(n.GridItem,{colSpan:{base:2},children:[(0,S.jsxs)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Subject"," "]}),(0,S.jsx)(n.Text,{children:null!==l&&void 0!==l&&l.subject?null===l||void 0===l?void 0:l.subject:" - "})]}),(0,S.jsxs)(n.GridItem,{colSpan:{base:2},children:[(0,S.jsxs)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Message"," "]}),"message"===(null===l||void 0===l?void 0:l.type)?(0,S.jsx)(n.Text,{children:null!==l&&void 0!==l&&l.message?null===l||void 0===l?void 0:l.message:"-"}):(0,S.jsx)("div",{dangerouslySetInnerHTML:{__html:null===l||void 0===l?void 0:l.html}})]})]})})})]})})})}}}]);
//# sourceMappingURL=4629.37c903af.chunk.js.map