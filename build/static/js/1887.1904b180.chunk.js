"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[1887],{1887:(e,l,o)=>{o.d(l,{A:()=>w});var n=o(14034),t=o(40848),i=o(22554),a=o(4450),d=o(78510),s=o(67682),r=o(95104),c=o(84626),u=o(35066),v=o(53186),x=o(49565),m=o(91125),p=o(19488),h=o(63516),g=o(65043),j=o(3388),f=o(89849),b=o(66305),C=o(86178),y=o.n(C),S=o(60446),T=o.n(S),D=o(97508),Y=o(95574),z=o(70579);const w=e=>{const{onClose:l,isOpen:o,fetchData:C,userAction:S,setAction:w,id:A,view:L,data:F}=e,[k,I]=(0,g.useState)(!1),H=JSON.parse(localStorage.getItem("user"))._id,[M,W]=(0,g.useState)([]),[N,B]=(0,g.useState)([]),P=JSON.parse(localStorage.getItem("user")),[G,V]=(0,g.useState)(!1),[O,_]=(0,g.useState)(!1),[E,R]=(0,g.useState)(!1),J=(0,D.d4)((e=>{var l;return null===e||void 0===e||null===(l=e.leadData)||void 0===l?void 0:l.data})),U=(new Date).toISOString().split("T")[0],Q=(new Date).toISOString().split(".")[0],[X,$]=(0,Y.h)(["Leads","Contacts"]),q=(0,D.d4)((e=>{var l;return null===e||void 0===e||null===(l=e.contactData)||void 0===l?void 0:l.data})),K={title:"",category:"contactView"===e.leadContect?"Contact":"leadView"===e.leadContect?"Lead":"None",description:"",notes:"",assignTo:"contactView"===e.leadContect&&A?A:"",assignToLead:"leadView"===e.leadContect&&A?A:"",reminder:"",start:"",end:"",backgroundColor:"",borderColor:"#ffffff",textColor:"",allDay:!1,display:"",url:"",createBy:H},Z=(0,h.Wx)({initialValues:K,validationSchema:f.pj,enableReinitialize:!0,onSubmit:(e,l)=>{let{resetForm:o}=l;se(),o()}}),{errors:ee,touched:le,values:oe,handleBlur:ne,handleChange:te,handleSubmit:ie,setFieldValue:ae,resetForm:de}=Z,se=async()=>{if("add"===S)try{V(!0),null!==oe&&void 0!==oe&&oe.start&&(oe.start=null!==oe&&void 0!==oe&&oe.allDay?y()(null===oe||void 0===oe?void 0:oe.start).format("YYYY-MM-DD"):y()(null===oe||void 0===oe?void 0:oe.start).format("YYYY-MM-DD HH:mm")),null!==oe&&void 0!==oe&&oe.end&&(oe.end=null!==oe&&void 0!==oe&&oe.allDay?y()(null===oe||void 0===oe?void 0:oe.end).format("YYYY-MM-DD"):y()(null===oe||void 0===oe?void 0:oe.end).format("YYYY-MM-DD HH:mm")),200===(await(0,b.d_)("api/task/add",oe)).status&&(Z.resetForm(),l(),C(1))}catch(e){console.log(e)}finally{V(!1)}else if("edit"===S)try{V(!0),null!==oe&&void 0!==oe&&oe.start&&(oe.start=null!==oe&&void 0!==oe&&oe.allDay?y()(null===oe||void 0===oe?void 0:oe.start).format("YYYY-MM-DD"):y()(null===oe||void 0===oe?void 0:oe.start).format("YYYY-MM-DD HH:mm")),null!==oe&&void 0!==oe&&oe.end&&(oe.end=null!==oe&&void 0!==oe&&oe.allDay?y()(null===oe||void 0===oe?void 0:oe.end).format("YYYY-MM-DD"):y()(null===oe||void 0===oe?void 0:oe.end).format("YYYY-MM-DD HH:mm")),200===(await(0,b.yP)("api/task/edit/".concat(A),oe)).status&&(Z.resetForm(),l(),w((e=>!e)))}catch(e){console.log(e)}finally{V(!1)}},re=async()=>{if(A)try{var e,l,o,n,t,i,a,d,s,r,c,u,v,x,m,p;V(!0);let h=await(0,b.x4)("api/task/view/",A);ae("title",null===h||void 0===h||null===(e=h.data)||void 0===e?void 0:e.title),ae("category",null===h||void 0===h||null===(l=h.data)||void 0===l?void 0:l.category),ae("description",null===h||void 0===h||null===(o=h.data)||void 0===o?void 0:o.description),ae("notes",null===h||void 0===h||null===(n=h.data)||void 0===n?void 0:n.notes),ae("assignTo",null===h||void 0===h||null===(t=h.data)||void 0===t?void 0:t.assignTo),ae("reminder",null===h||void 0===h||null===(i=h.data)||void 0===i?void 0:i.reminder),ae("start",null===h||void 0===h||null===(a=h.data)||void 0===a?void 0:a.start),ae("end",null===h||void 0===h||null===(d=h.data)||void 0===d?void 0:d.end),ae("backgroundColor",null===h||void 0===h||null===(s=h.data)||void 0===s?void 0:s.backgroundColor),ae("borderColor",null===h||void 0===h||null===(r=h.data)||void 0===r?void 0:r.borderColor),ae("textColor",null===h||void 0===h||null===(c=h.data)||void 0===c?void 0:c.textColor),ae("display",null===h||void 0===h||null===(u=h.data)||void 0===u?void 0:u.display),ae("url",null===h||void 0===h||null===(v=h.data)||void 0===v?void 0:v.url),ae("status",null===h||void 0===h||null===(x=h.data)||void 0===x?void 0:x.status),ae("assignToLead",null===h||void 0===h||null===(m=h.data)||void 0===m?void 0:m.assignToLead),ae("allDay",null===h||void 0===h||null===(p=h.data)||void 0===p?void 0:p.allDay)}catch(h){console.log(h)}finally{V(!1)}else F&&(ae("title",null===F||void 0===F?void 0:F.title),ae("category",null===F||void 0===F?void 0:F.category),ae("description",null===F||void 0===F?void 0:F.description),ae("notes",null===F||void 0===F?void 0:F.notes),ae("assignTo",null===F||void 0===F?void 0:F.assignTo),ae("reminder",null===F||void 0===F?void 0:F.reminder),ae("start",null===F||void 0===F?void 0:F.start),ae("end",null===F||void 0===F?void 0:F.end),ae("backgroundColor",null===F||void 0===F?void 0:F.backgroundColor),ae("borderColor",null===F||void 0===F?void 0:F.borderColor),ae("textColor",null===F||void 0===F?void 0:F.textColor),ae("display",null===F||void 0===F?void 0:F.display),ae("url",null===F||void 0===F?void 0:F.url),ae("status",null===F||void 0===F?void 0:F.status),ae("assignToLead",null===F||void 0===F?void 0:F.assignToLead),ae("allDay","Yes"===(null===F||void 0===F?void 0:F.allDay)?"Yes":"No"),ae("allDay",null===F||void 0===F?void 0:F.allDay))};return(0,g.useEffect)((async()=>{if(oe.start=null===e||void 0===e?void 0:e.date,!0===L)"Contact"===oe.category&&N.length<=0?B(q):"Lead"===oe.category&&M.length<=0&&W(J);else try{let e;var l;if("Contact"===oe.category&&N.length<=0)e=await(0,b.x4)("superAdmin"===P.role?"api/contact/":"api/contact/?createBy=".concat(P._id)),B(null===(l=e)||void 0===l?void 0:l.data);else if("Lead"===oe.category&&M.length<=0){var o;e=await(0,b.x4)("superAdmin"===P.role?"api/lead/":"api/lead/?createBy=".concat(P._id)),W(null===(o=e)||void 0===o?void 0:o.data)}}catch(n){console.log(n)}}),[e,oe.category]),(0,g.useEffect)((()=>{("edit"===S||F)&&re(),re()}),[S,A,F]),(0,z.jsxs)(t.aF,{isOpen:o,size:"xl",children:[!e.from&&(0,z.jsx)(t.mH,{}),(0,z.jsxs)(t.$m,{overflowY:"auto",height:"600px",children:[(0,z.jsxs)(t.rQ,{justifyContent:"space-between",display:"flex",children:["add"===S?"Create Task":"Edit Task",(0,z.jsx)(i.IconButton,{onClick:()=>l(!1),icon:(0,z.jsx)(n.CloseIcon,{})})]}),(0,z.jsxs)(t.cw,{overflowY:"auto",height:"700px",children:[(0,z.jsx)(x.A,{isOpen:O,data:N,onClose:_,values:oe,fieldName:"assignTo",setFieldValue:ae}),(0,z.jsx)(m.A,{isOpen:E,data:M,onClose:R,values:oe,fieldName:"assignToLead",setFieldValue:ae}),G?(0,z.jsx)(a.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,z.jsx)(p.A,{})}):(0,z.jsxs)(a.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,z.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,z.jsxs)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Title",(0,z.jsx)(a.Text,{color:"red",children:"*"})]}),(0,z.jsx)(s.Input,{fontSize:"sm",onChange:te,onBlur:ne,value:oe.title,name:"title",placeholder:"Title",fontWeight:"500",borderColor:null!==ee&&void 0!==ee&&ee.title&&null!==le&&void 0!==le&&le.title?"red.300":null}),(0,z.jsxs)(a.Text,{mb:"10px",color:"red",fontSize:"sm",children:[" ",ee.title&&le.title&&ee.title]})]}),(0,z.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,z.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Related"}),(0,z.jsx)(r.z6,{onChange:e=>{ae("category",e),ae("assignTo",null),ae("assignToLead",null)},value:oe.category,children:(0,z.jsx)(a.Stack,{direction:"row",children:(0,z.jsxs)(a.Stack,{direction:"row",children:[(0,z.jsx)(r.sx,{value:"None",children:"None"}),"contactView"===e.leadContect&&(0,z.jsx)(r.sx,{value:"Contact",children:"Contact"}),"leadView"===e.leadContect&&(0,z.jsx)(r.sx,{value:"Lead",children:"Lead"}),!e.leadContect&&(0,z.jsxs)(z.Fragment,{children:[("superAdmin"===(null===P||void 0===P?void 0:P.role)||(null===$||void 0===$?void 0:$.create))&&(0,z.jsx)(r.sx,{value:"Contact",children:"Contact"}),("superAdmin"===(null===P||void 0===P?void 0:P.role)||(null===X||void 0===X?void 0:X.create))&&(0,z.jsx)(r.sx,{value:"Lead",children:"Lead"})]})]})})}),(0,z.jsxs)(a.Text,{mb:"10px",color:"red",children:[" ",ee.category&&le.category&&ee.category]})]}),(0,z.jsxs)(a.GridItem,{colSpan:{base:12,md:"None"===oe.category?12:6},children:[(0,z.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Description"}),(0,z.jsx)(s.Input,{fontSize:"sm",onChange:te,onBlur:ne,value:oe.description,name:"description",placeholder:"Description",fontWeight:"500",borderColor:null!==ee&&void 0!==ee&&ee.description&&null!==le&&void 0!==le&&le.description?"red.300":null}),(0,z.jsxs)(a.Text,{mb:"10px",color:"red",children:[" ",ee.description&&le.description&&ee.description]})]}),"Contact"===oe.category?(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,z.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Assign To  Contact"}),(0,z.jsxs)(a.Flex,{justifyContent:"space-between",children:[(0,z.jsx)(c.l6,{value:oe.assignTo,name:"assignTo",onChange:te,mb:ee.assignTo&&le.assignTo?void 0:"10px",fontWeight:"500",placeholder:"Assign To",borderColor:ee.assignTo&&le.assignTo?"red.300":null,children:null===N||void 0===N?void 0:N.map((e=>(0,z.jsx)("option",{value:e._id,children:"Contact"===oe.category?"".concat(e.firstName," ").concat(e.lastName):e.leadName},e._id)))}),(0,z.jsx)(i.IconButton,{onClick:()=>_(!0),ml:2,fontSize:"25px",icon:(0,z.jsx)(j.G2h,{})})]}),(0,z.jsxs)(a.Text,{mb:"10px",color:"red",children:[" ",ee.assignTo&&le.assignTo&&ee.assignTo]})]})}):"Lead"===oe.category?(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,z.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Assign To Lead"}),(0,z.jsxs)(a.Flex,{justifyContent:"space-between",children:[(0,z.jsx)(c.l6,{value:oe.assignToLead,name:"assignToLead",onChange:te,mb:ee.assignToLead&&le.assignToLead?void 0:"10px",fontWeight:"500",placeholder:"Assign To",borderColor:ee.assignToLead&&le.assignToLead?"red.300":null,children:null===M||void 0===M?void 0:M.map((e=>(0,z.jsx)("option",{value:e._id,children:e.leadName},e._id)))}),(0,z.jsx)(i.IconButton,{onClick:()=>R(!0),ml:2,fontSize:"25px",icon:(0,z.jsx)(j.G2h,{})})]}),(0,z.jsxs)(a.Text,{mb:"10px",color:"red",children:[" ",ee.assignToLead&&le.assignToLead&&ee.assignToLead]})]})}):"",(0,z.jsx)(a.GridItem,{colSpan:{base:12},children:(0,z.jsx)(u.Sc,{isChecked:null===oe||void 0===oe?void 0:oe.allDay,name:"allDay",onChange:te,children:"All Day Task ?"})}),(0,z.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,z.jsxs)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Start Date",(0,z.jsx)(a.Text,{color:"red",children:"*"})]}),(0,z.jsx)(s.Input,{type:null!==oe&&void 0!==oe&&oe.allDay?"date":"datetime-local",fontSize:"sm",onChange:te,onBlur:ne,min:null!==oe&&void 0!==oe&&oe.allDay?T()(U).format("YYYY-MM-DD"):T()(Q).format("YYYY-MM-DD HH:mm"),value:null!==oe&&void 0!==oe&&oe.allDay?(null===oe||void 0===oe?void 0:oe.start)&&T()(null===oe||void 0===oe?void 0:oe.start).format("YYYY-MM-DD")||null:(null===oe||void 0===oe?void 0:oe.start)&&T()(null===oe||void 0===oe?void 0:oe.start).format("YYYY-MM-DD HH:mm")||null,name:"start",fontWeight:"500",borderColor:null!==ee&&void 0!==ee&&ee.start&&null!==le&&void 0!==le&&le.start?"red.300":null}),(0,z.jsxs)(a.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",ee.start&&le.start&&ee.start]})]}),(0,z.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,z.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"End Date"}),(0,z.jsx)(s.Input,{type:null!==oe&&void 0!==oe&&oe.allDay?"date":"datetime-local",min:oe.start,fontSize:"sm",onChange:te,onBlur:ne,value:null!==oe&&void 0!==oe&&oe.allDay?(null===oe||void 0===oe?void 0:oe.end)&&T()(null===oe||void 0===oe?void 0:oe.end).format("YYYY-MM-DD")||null:(null===oe||void 0===oe?void 0:oe.end)&&T()(null===oe||void 0===oe?void 0:oe.end).format("YYYY-MM-DD HH:mm")||null,name:"end",fontWeight:"500",borderColor:null!==ee&&void 0!==ee&&ee.end&&null!==le&&void 0!==le&&le.end?"red.300":null}),(0,z.jsxs)(a.Text,{mb:"10px",color:"red",children:[" ",ee.end&&le.end&&ee.end]})]}),(0,z.jsxs)(a.GridItem,{colSpan:{base:12,sm:4},children:[(0,z.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Background-Color"}),(0,z.jsx)(s.Input,{type:"color",fontSize:"sm",onChange:te,onBlur:ne,value:oe.backgroundColor,name:"backgroundColor",fontWeight:"500",borderColor:null!==ee&&void 0!==ee&&ee.backgroundColor&&null!==le&&void 0!==le&&le.backgroundColor?"red.300":null}),(0,z.jsxs)(a.Text,{mb:"10px",color:"red",children:[" ",ee.backgroundColor&&le.backgroundColor&&ee.backgroundColor]})]}),(0,z.jsxs)(a.GridItem,{colSpan:{base:12,sm:4},children:[(0,z.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Border-Color"}),(0,z.jsx)(s.Input,{fontSize:"sm",type:"color",onChange:te,onBlur:ne,value:oe.borderColor,name:"borderColor",placeholder:"borderColor",fontWeight:"500",borderColor:null!==ee&&void 0!==ee&&ee.borderColor&&null!==le&&void 0!==le&&le.borderColor?"red.300":null}),(0,z.jsxs)(a.Text,{mb:"10px",color:"red",children:[" ",ee.borderColor&&le.borderColor&&ee.borderColor]})]}),(0,z.jsxs)(a.GridItem,{colSpan:{base:12,sm:4},children:[(0,z.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Text-Color"}),(0,z.jsx)(s.Input,{fontSize:"sm",type:"color",onChange:te,onBlur:ne,value:oe.textColor,name:"textColor",placeholder:"textColor",fontWeight:"500",textColor:null!==ee&&void 0!==ee&&ee.textColor&&null!==le&&void 0!==le&&le.textColor?"red.300":null}),(0,z.jsxs)(a.Text,{mb:"10px",color:"red",children:[" ",ee.textColor&&le.textColor&&ee.textColor]})]}),(0,z.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,z.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Url"}),(0,z.jsx)(s.Input,{fontSize:"sm",onChange:te,onBlur:ne,value:oe.url,name:"url",placeholder:"Enter url",fontWeight:"500",borderColor:null!==ee&&void 0!==ee&&ee.url&&null!==le&&void 0!==le&&le.url?"red.300":null}),(0,z.jsxs)(a.Text,{mb:"10px",color:"red",children:[" ",ee.url&&le.url&&ee.url]})]}),(0,z.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,z.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Status"}),(0,z.jsxs)(c.l6,{onChange:e=>ae("status",e.target.value),value:null===oe||void 0===oe?void 0:oe.status,style:{fontSize:"14px"},children:[(0,z.jsx)("option",{value:"todo",children:"Todo"}),(0,z.jsx)("option",{value:"onHold",children:"On Hold"}),(0,z.jsx)("option",{value:"pending",children:"Pending"}),(0,z.jsx)("option",{value:"inProgress",children:"In Progress"}),(0,z.jsx)("option",{value:"completed",children:"Completed"})]})]}),(0,z.jsxs)(a.GridItem,{colSpan:{base:12},children:[(0,z.jsx)(d.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Notes"}),(0,z.jsx)(v.T,{resize:"none",fontSize:"sm",onChange:te,onBlur:ne,value:oe.notes,name:"notes",placeholder:"Notes",fontWeight:"500",borderColor:null!==ee&&void 0!==ee&&ee.notes&&null!==le&&void 0!==le&&le.notes?"red.300":null}),(0,z.jsxs)(a.Text,{mb:"10px",color:"red",children:[" ",ee.notes&&le.notes&&ee.notes]})]})]})]}),(0,z.jsxs)(t.jl,{children:[(0,z.jsx)(i.Button,{size:"sm",variant:"brand",onClick:ie,children:"add"===S?"Save":"Update"}),(0,z.jsx)(i.Button,{type:"reset",sx:{marginLeft:2,textTransform:"capitalize"},variant:"outline",colorScheme:"red",size:"sm",ml:2,onClick:()=>{l(!1),de()},children:"Close"})]})]})]})}},41046:(e,l,o)=>{o.d(l,{A:()=>p});var n=o(89379),t=o(31206),i=o(4450),a=o(71778),d=o(35066),s=o(65043),r=o(71094),c=o(10216),u=o(76914),v=o(78152),x=o(85369),m=o(70579);function p(e){const{columnsData:l,tableData:o,title:p,type:h,selectedValues:g,setSelectedValues:j}=e,f=(0,s.useMemo)((()=>l),[l]),b=(0,s.useMemo)((()=>o),[o]),[C,y]=(JSON.parse(localStorage.getItem("user")),(0,s.useState)()),S=(0,r.useTable)({columns:f,data:b,initialState:{pageIndex:0}},r.useGlobalFilter,r.useSortBy,r.usePagination),{getTableProps:T,getTableBodyProps:D,headerGroups:Y,prepareRow:z,page:w,canPreviousPage:A,canNextPage:L,pageOptions:F,pageCount:k,gotoPage:I,nextPage:H,previousPage:M,setPageSize:W,state:{pageIndex:N,pageSize:B}}=S;F.length<C&&y(F.length);const P=(0,t.dU)("gray.500","white"),G=(0,t.dU)("gray.200","whiteAlpha.100"),V=(e,l)=>{"multi"===h?e.target.checked?j((e=>[...e,l])):j((e=>e.filter((e=>e!==l)))):e.target.checked?j(l):j(null)};return(0,m.jsxs)(c.A,{direction:"column",w:"100%",px:"0px",style:{border:"1px solid gray.200"},overflowX:{sm:"scroll",lg:"hidden"},children:[(0,m.jsx)(i.Flex,{px:"25px",justify:"space-between",mb:"20px",align:"center",children:(0,m.jsxs)(i.Text,{color:P,fontSize:"22px",fontWeight:"700",lineHeight:"100%",children:[p,"  (",(0,m.jsx)(u.A,{targetNumber:null===b||void 0===b?void 0:b.length},null===b||void 0===b?void 0:b.length),")"]})}),(0,m.jsx)(i.Box,{overflowY:"auto",className:"table-container-property",children:(0,m.jsxs)(a.XI,(0,n.A)((0,n.A)({},T()),{},{variant:"simple",color:"gray.500",mb:"24px",children:[(0,m.jsx)(a.d8,{zIndex:1,children:null===Y||void 0===Y?void 0:Y.map(((e,l)=>(0,s.createElement)(a.Tr,(0,n.A)((0,n.A)({},e.getHeaderGroupProps()),{},{key:l}),e.headers.map(((e,l)=>(0,s.createElement)(a.Th,(0,n.A)((0,n.A)({},e.getHeaderProps(!1!==e.isSortable&&e.getSortByToggleProps())),{},{pe:"10px",key:l,borderColor:G}),(0,m.jsxs)(i.Flex,{align:"center",justifyContent:e.center?"center":"start",fontSize:{sm:"14px",lg:"16px"},color:" secondaryGray.900",children:[(0,m.jsx)("span",{style:{textTransform:"capitalize",marginRight:"8px"},children:e.render("Header")}),!1!==e.isSortable&&(0,m.jsx)("span",{children:e.isSorted?e.isSortedDesc?(0,m.jsx)(x.GOR,{}):(0,m.jsx)(x.XhJ,{}):(0,m.jsx)(x.MjW,{})})]})))))))}),(0,m.jsxs)(a.NN,(0,n.A)((0,n.A)({},D()),{},{children:[0===(null===b||void 0===b?void 0:b.length)&&(0,m.jsx)(a.Tr,{children:(0,m.jsx)(a.Td,{colSpan:f.length,children:(0,m.jsx)(i.Text,{textAlign:"center",width:"100%",color:P,fontSize:"sm",fontWeight:"700",children:"-- No Data Found --"})})}),null===w||void 0===w?void 0:w.map(((e,l)=>{var o;return z(e),(0,s.createElement)(a.Tr,(0,n.A)((0,n.A)({},null===e||void 0===e?void 0:e.getRowProps()),{},{key:l}),null===e||void 0===e||null===(o=e.cells)||void 0===o?void 0:o.map(((e,l)=>{let o="";var t;"#"===(null===e||void 0===e?void 0:e.column.Header)?o=(0,m.jsxs)(i.Flex,{align:"center",children:["multi"===h?(0,m.jsx)(d.Sc,{colorScheme:"brandScheme",value:g,isChecked:g.includes(null===e||void 0===e?void 0:e.value),onChange:l=>V(l,null===e||void 0===e?void 0:e.value),me:"10px"}):(0,m.jsx)(d.Sc,{colorScheme:"brandScheme",value:g,isChecked:g===(null===e||void 0===e?void 0:e.value),onChange:l=>V(l,null===e||void 0===e?void 0:e.value),me:"10px"}),(0,m.jsx)(i.Text,{color:P,fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.index)+1})]}):"title"===(null===e||void 0===e?void 0:e.column.Header)||"first Name"===(null===e||void 0===e?void 0:e.column.Header)||"last Name"===(null===e||void 0===e?void 0:e.column.Header)?o=(0,m.jsx)(i.Text,{me:"10px",color:P,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}):"phone Number"===(null===e||void 0===e?void 0:e.column.Header)||"Email Address"===(null===e||void 0===e?void 0:e.column.Header)?o=(0,m.jsx)(i.Text,{fontSize:"sm",fontWeight:"700",color:P,children:null===e||void 0===e?void 0:e.value}):("physical Address"===(null===e||void 0===e?void 0:e.column.Header)||"mailing Address"===(null===e||void 0===e?void 0:e.column.Header)||"Contact Method"===(null===e||void 0===e?void 0:e.column.Header))&&(o=(0,m.jsx)(i.Text,{color:P,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}));return(0,s.createElement)(a.Td,(0,n.A)((0,n.A)({},null===e||void 0===e?void 0:e.getCellProps()),{},{key:l,fontSize:{sm:"14px"},minW:{sm:"150px",md:"200px",lg:"auto"},borderColor:"transparent"}),o)})))}))]}))]}))}),(null===b||void 0===b?void 0:b.length)>5&&(0,m.jsx)(v.A,{gotoPage:I,gopageValue:C,setGopageValue:y,pageCount:k,canPreviousPage:A,previousPage:M,canNextPage:L,pageOptions:F,setPageSize:W,nextPage:H,pageSize:B,pageIndex:N})]})}},49565:(e,l,o)=>{o.d(l,{A:()=>m});var n=o(40848),t=o(4450),i=o(22554),a=o(65043),d=(o(41046),o(19488)),s=o(8860),r=o(88031),c=o(20850),u=o(26547),v=o(97508),x=o(70579);const m=e=>{var l,o;const{onClose:m,isOpen:p,fieldName:h,setFieldValue:g,data:j}=e,[f,b]=(0,a.useState)(),[C,y]=(0,a.useState)([]),[S,T]=(0,a.useState)(!1),[D,Y]=(0,a.useState)([]),z=(0,v.wA)();return(0,a.useEffect)((async()=>{await z((0,u.h)()),(async()=>{var e,l,o,n;T(!0);const t=await z((0,c.I)());y(null===t||void 0===t||null===(e=t.payload)||void 0===e?void 0:e.data);const i=[{Header:"#",accessor:"_id",isSortable:!1,width:10},...((null===t||void 0===t||null===(l=t.payload)||void 0===l||null===(o=l.data)||void 0===o||null===(n=o[0])||void 0===n?void 0:n.fields)||[]).filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))).map((e=>({Header:null===e||void 0===e?void 0:e.label,accessor:null===e||void 0===e?void 0:e.name})))];Y(i),T(!1)})()}),[]),(0,x.jsxs)(n.aF,{onClose:m,size:"full",isOpen:p,children:[(0,x.jsx)(n.mH,{}),(0,x.jsxs)(n.$m,{children:[(0,x.jsx)(n.rQ,{children:"Select Contact"}),(0,x.jsx)(n.s_,{}),(0,x.jsx)(n.cw,{children:S?(0,x.jsx)(t.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,x.jsx)(d.A,{})}):(0,x.jsx)(r.A,{title:"Contacts",isLoding:S,columnData:null!==D&&void 0!==D?D:[],allData:null!==j&&void 0!==j?j:[],tableData:j,tableCustomFields:(null===C||void 0===C||null===(l=C[0])||void 0===l||null===(o=l.fields)||void 0===o?void 0:o.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||[],AdvanceSearch:()=>"",ManageGrid:!1,deleteMany:!1,selectedValues:f,setSelectedValues:b,selectType:"single",customSearch:!1})}),(0,x.jsxs)(n.jl,{children:[(0,x.jsxs)(i.Button,{variant:"brand",size:"sm",me:2,onClick:async()=>{try{T(!0),g(h,f),m()}catch(e){console.log(e)}finally{T(!1)}},disabled:!!S,leftIcon:(0,x.jsx)(s.NLY,{}),children:[" ",S?(0,x.jsx)(d.A,{}):"Select"]}),(0,x.jsx)(i.Button,{variant:"outline",size:"sm",colorScheme:"red",onClick:()=>m(),children:"Close"})]})]})]})}},91125:(e,l,o)=>{o.d(l,{A:()=>m});var n=o(40848),t=o(4450),i=o(22554),a=o(65043),d=o(19488),s=o(8860),r=o(88031),c=o(87892),u=o(97508),v=o(37801),x=o(70579);const m=e=>{var l,o;const{onClose:m,isOpen:p,fieldName:h,setFieldValue:g,data:j}=e,f=(0,u.wA)(),[b,C]=(0,a.useState)(!1),[y,S]=(0,a.useState)([]),[T,D]=(0,a.useState)([]),[Y,z]=(0,a.useState)([]);return(0,a.useEffect)((()=>{f((0,v.T)()),(async()=>{var e,l,o,n,t,i;C(!0);const a=await f((0,c.y)());D(null===a||void 0===a||null===(e=a.payload)||void 0===e?void 0:e.data);const d=[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"Status",accessor:"leadStatus",isSortable:!0,center:!0,cell:e=>{let{row:l}=e;return l.original.leadStatus}},...(null===a||void 0===a||null===(l=a.payload)||void 0===l||null===(o=l.data)||void 0===o||null===(n=o[0])||void 0===n||null===(t=n.fields)||void 0===t||null===(i=t.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||void 0===i?void 0:i.map((e=>"leadStatus"!==(null===e||void 0===e?void 0:e.name)&&{Header:null===e||void 0===e?void 0:e.label,accessor:null===e||void 0===e?void 0:e.name})))||[]];S(d),C(!1)})()}),[]),(0,x.jsxs)(n.aF,{onClose:m,size:"full",isOpen:p,children:[(0,x.jsx)(n.mH,{}),(0,x.jsxs)(n.$m,{children:[(0,x.jsx)(n.rQ,{children:"Select Lead"}),(0,x.jsx)(n.s_,{}),(0,x.jsx)(n.cw,{children:b?(0,x.jsx)(t.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,x.jsx)(d.A,{})}):(0,x.jsx)(r.A,{title:"Leads",isLoding:b,columnData:null!==y&&void 0!==y?y:[],allData:null!==j&&void 0!==j?j:[],tableData:j,tableCustomFields:(null===T||void 0===T||null===(l=T[0])||void 0===l||null===(o=l.fields)||void 0===o?void 0:o.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||[],AdvanceSearch:()=>"",ManageGrid:!1,deleteMany:!1,selectedValues:Y,setSelectedValues:z,selectType:"single",customSearch:!1})}),(0,x.jsxs)(n.jl,{children:[(0,x.jsxs)(i.Button,{variant:"brand",size:"sm",me:2,disabled:!!b,leftIcon:(0,x.jsx)(s.NLY,{}),onClick:async()=>{try{C(!0),g(h,Y),m()}catch(e){console.log(e)}finally{C(!1)}},children:[" ",b?(0,x.jsx)(d.A,{}):"Select"]}),(0,x.jsx)(i.Button,{variant:"outline",size:"sm",colorScheme:"red",onClick:()=>m(),children:"Close"})]})]})]})}}}]);
//# sourceMappingURL=1887.1904b180.chunk.js.map