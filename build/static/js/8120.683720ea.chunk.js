(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[8120],{23848:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var s=n(31206),i=n(4450),r=n(3458),a=n(71997),o=n(27149),l=n(70579);function d(e){const{count:t,text:n,onFileSelect:d}=e,c=(0,s.dU)("secondaryGray.900","white"),u=(0,s.dU)("brand.500","white");return(0,l.jsxs)(i.Grid,{templateColumns:"repeat(12, 1fr)",gap:2,children:[(0,l.jsx)(i.GridItem,{colSpan:{base:12},children:(0,l.jsx)(a.A,{w:{base:"100%"},me:"36px",minH:200,img:"Property Photos"===n?"img":"",csv:"csv",height:"100%",onFileSelect:d,isMultipleAllow:!1,content:(0,l.jsxs)(i.Box,{children:[(0,l.jsx)(r.In,{as:o.vpy,w:"80px",h:"80px",color:u}),(0,l.jsx)(i.Flex,{justify:"center",mx:"auto",mb:"12px",children:(0,l.jsx)(i.Text,{fontSize:"xl",fontWeight:"700",color:u,children:"Upload File"})}),t>0&&(0,l.jsxs)(i.Text,{fontSize:"sm",fontWeight:"500",color:"secondaryGray.500",children:["Selected Files : ",t]})]})})}),(0,l.jsx)(i.GridItem,{colSpan:{base:12},children:(0,l.jsxs)(i.Flex,{direction:"column",children:[(0,l.jsxs)(i.Text,{color:c,fontWeight:"bold",textAlign:"start",fontSize:"2xl",mt:{base:"20px"},children:["Upload ",n]}),(0,l.jsx)(i.Text,{color:"gray.400",fontSize:"md",my:{base:"auto"},mx:"auto",textAlign:"start",children:"Accepted File Type (csv, xlsx file - 15MB max) only 1 file"})]})})]})}},25259:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var s=n(40848),i=n(4450),r=n(22554),a=n(19488),o=n(63516),l=n(65043),d=n(73216),c=n(23848),u=n(70579);const h=e=>{const{onClose:t,isOpen:n,text:h,customFields:m}=e,[x,v]=(0,l.useState)(!1),f=(0,d.Zp)(),p=(0,o.Wx)({initialValues:{lead:""},onSubmit:(e,t)=>{let{resetForm:n}=t;w(),n()}}),{errors:j,touched:S,values:g,handleBlur:b,handleChange:y,handleSubmit:T,setFieldValue:$,resetForm:D}=p,w=async()=>{try{v(!0),D(),g.lead&&(t(),f("/leadImport",{state:{fileData:g.lead,customFields:m}}))}catch(e){console.log(e)}finally{v(!1)}};return(0,u.jsxs)(s.aF,{onClose:t,isOpen:n,isCentered:!0,children:[(0,u.jsx)(s.mH,{}),(0,u.jsxs)(s.$m,{children:[(0,u.jsx)(s.rQ,{children:"Import Leads"}),(0,u.jsx)(s.s_,{}),(0,u.jsx)(s.cw,{children:(0,u.jsx)(i.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:(0,u.jsxs)(i.GridItem,{colSpan:{base:12},children:[(0,u.jsx)(c.A,{count:g.lead.length,onFileSelect:e=>$("lead",e),text:h}),(0,u.jsxs)(i.Text,{mb:"10px",color:"red",children:[" ",j.lead&&S.lead&&(0,u.jsxs)(u.Fragment,{children:["Please Select ",h]})]})]})})}),(0,u.jsxs)(s.jl,{children:[(0,u.jsx)(r.Button,{variant:"brand",size:"sm",onClick:T,disabled:!!x,children:x?(0,u.jsx)(a.A,{}):"Save"}),(0,u.jsx)(r.Button,{variant:"outline",colorScheme:"red",sx:{marginLeft:2,textTransform:"capitalize"},size:"sm",onClick:()=>{t(),p.resetForm()},children:"Close"})]})]})]})}},52942:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var s=n(14034),i=n(40848),r=n(22554),a=n(4450),o=n(19488),l=n(86178),d=n.n(l),c=n(65043),u=n(67805),h=n(35475),m=n(66305),x=n(73216),v=n(1887),f=n(70579);const p=e=>{const{onClose:t,isOpen:n,id:l,fetchData:p,setAction:j,action:S,access:g,contactAccess:b,leadAccess:y}=e,[T,$]=(0,c.useState)(),[D,w]=(0,c.useState)(!1),[k,A]=(0,c.useState)(!1),C=JSON.parse(localStorage.getItem("user")),[I,O]=(0,c.useState)(!1),z=(0,x.Zp)();(0,c.useEffect)((()=>{(async()=>{if(l){var e;O(!0);let t=await(0,m.x4)("api/task/view/",null!==l&&void 0!==l&&l.event?null===l||void 0===l||null===(e=l.event)||void 0===e?void 0:e.id:l);$(null===t||void 0===t?void 0:t.data),O(!1)}})()}),[S,l]);return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(i.aF,{isOpen:n,size:"md",isCentered:!0,children:[(0,f.jsx)(i.mH,{}),(0,f.jsxs)(i.$m,{children:[(0,f.jsxs)(i.rQ,{justifyContent:"space-between",display:"flex",children:["Task",(0,f.jsx)(r.IconButton,{onClick:()=>t(!1),icon:(0,f.jsx)(s.CloseIcon,{})})]}),I?(0,f.jsx)(a.Flex,{justifyContent:"center",alignItems:"center",mb:30,width:"100%",children:(0,f.jsx)(o.A,{})}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i.cw,{children:(0,f.jsxs)(a.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,f.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,f.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Title "}),(0,f.jsx)(a.Text,{children:null!==T&&void 0!==T&&T.title?null===T||void 0===T?void 0:T.title:" - "})]}),(0,f.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,f.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Related To "}),(0,f.jsx)(a.Text,{children:null!==T&&void 0!==T&&T.category?null===T||void 0===T?void 0:T.category:" - "})]}),(0,f.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,f.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task start "}),(0,f.jsx)(a.Text,{children:null!==T&&void 0!==T&&T.start?d()(null===T||void 0===T?void 0:T.start).format("L LT"):" - "})]}),(0,f.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,f.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task end  "}),(0,f.jsx)(a.Text,{children:null!==T&&void 0!==T&&T.end?d()(null===T||void 0===T?void 0:T.end).format("L LT"):d()(null===T||void 0===T?void 0:T.start).format("L")})]}),(0,f.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,f.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Link "}),null!==T&&void 0!==T&&T.url?(0,f.jsx)("a",{target:"_blank",href:null===T||void 0===T?void 0:T.url,children:(0,f.jsx)(r.IconButton,{borderRadius:"10px",size:"md",icon:(0,f.jsx)(u.o9J,{})})}):"-"]}),(0,f.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,f.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task reminder "}),(0,f.jsx)(a.Text,{children:null!==T&&void 0!==T&&T.reminder?null===T||void 0===T?void 0:T.reminder:" - "})]}),(0,f.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,f.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" assignment To  "}),null!==T&&void 0!==T&&T.assignTo?(0,f.jsx)(h.N_,{to:(null===b||void 0===b?void 0:b.view)&&"/contactView/".concat(null===T||void 0===T?void 0:T.assignTo),children:(0,f.jsx)(a.Text,{color:null!==b&&void 0!==b&&b.view?"blue.500":"blackAlpha.900",sx:{"&:hover":{color:null!==b&&void 0!==b&&b.view?"blue.500":"blackAlpha.900",textDecoration:null!==b&&void 0!==b&&b.view?"underline":"none"}},children:null!==T&&void 0!==T&&T.assignToName?null===T||void 0===T?void 0:T.assignToName:" - "})}):(0,f.jsx)(h.N_,{to:(null===y||void 0===y?void 0:y.view)&&"/leadView/".concat(null===T||void 0===T?void 0:T.assignToLead),children:(0,f.jsx)(a.Text,{color:null!==y&&void 0!==y&&y.view?"blue.500":"blackAlpha.900",sx:{"&:hover":{color:null!==y&&void 0!==y&&y.view?"blue.500":"blackAlpha.900",textDecoration:null!==y&&void 0!==y&&y.view?"underline":"none"}},children:null!==T&&void 0!==T&&T.assignToName?null===T||void 0===T?void 0:T.assignToName:" - "})})]}),(0,f.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,f.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task createBy "}),(0,f.jsx)(a.Text,{children:null!==T&&void 0!==T&&T.createByName?null===T||void 0===T?void 0:T.createByName:" - "})]}),(0,f.jsxs)(a.GridItem,{colSpan:{base:12},children:[(0,f.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Description"}),(0,f.jsx)(a.Text,{children:null!==T&&void 0!==T&&T.description?null===T||void 0===T?void 0:T.description:" - "})]}),(0,f.jsxs)(a.GridItem,{colSpan:{base:12},children:[(0,f.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task notes "}),(0,f.jsx)(a.Text,{children:null!==T&&void 0!==T&&T.notes?null===T||void 0===T?void 0:T.notes:" - "})]})]})}),(0,f.jsxs)(i.tb,{children:[((null===g||void 0===g?void 0:g.view)||"superAdmin"===(null===C||void 0===C?void 0:C.role))&&(0,f.jsx)(r.IconButton,{variant:"outline",colorScheme:"green",onClick:()=>(()=>{var e;null!==l&&void 0!==l&&l.event?z("/view/".concat(null===l||void 0===l||null===(e=l.event)||void 0===e?void 0:e.id)):z("/view/".concat(l))})(),borderRadius:"10px",size:"md",icon:(0,f.jsx)(s.ViewIcon,{})}),((null===g||void 0===g?void 0:g.update)||"superAdmin"===(null===C||void 0===C?void 0:C.role))&&(0,f.jsx)(r.IconButton,{variant:"outline",onClick:()=>w(!0),ml:3,borderRadius:"10px",size:"md",icon:(0,f.jsx)(s.EditIcon,{})}),((null===g||void 0===g?void 0:g.delete)||"superAdmin"===(null===C||void 0===C?void 0:C.role))&&(0,f.jsx)(r.IconButton,{colorScheme:"red",onClick:()=>A(!0),ml:3,borderRadius:"10px",size:"md",icon:(0,f.jsx)(s.DeleteIcon,{})}),(0,f.jsx)(v.A,{isOpen:D,fetchData:p,onClose:()=>w(!1),userAction:"edit",id:l,setAction:j})]})]})]})]})})}},53186:(e,t,n)=>{"use strict";n.d(t,{T:()=>d});var s=n(78510),i=n(59522),r=n(23216),a=n(65043);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o.apply(this,arguments)}var l=["className","rows"],d=(0,i.Rf)((function(e,t){var n=(0,i.Vl)("Textarea",e),d=(0,i.MN)(e),c=d.className,u=d.rows,h=function(e,t){if(null==e)return{};var n,s,i={},r=Object.keys(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||(i[n]=e[n]);return i}(d,l),m=(0,s.useFormControl)(h),x=u?(0,r.cJ)(n,["h","minH","height","minHeight"]):n;return a.createElement(i.Bv.textarea,o({ref:t,rows:u},m,{className:(0,r.cx)("chakra-textarea",c),__css:x}))}));r.gt&&(d.displayName="Textarea")},60446:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,s="millisecond",i="second",r="minute",a="hour",o="day",l="week",d="month",c="quarter",u="year",h="date",m="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},p=function(e,t,n){var s=String(e);return!s||s.length>=t?e:""+Array(t+1-s.length).join(n)+e},j={s:p,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),s=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+p(s,2,"0")+":"+p(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var s=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(s,d),r=n-i<0,a=t.clone().add(s+(r?-1:1),d);return+(-(s+(n-i)/(r?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:d,y:u,w:l,d:o,D:h,h:a,m:r,s:i,ms:s,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},S="en",g={};g[S]=f;var b="$isDayjsObject",y=function(e){return e instanceof w||!(!e||!e[b])},T=function e(t,n,s){var i;if(!t)return S;if("string"==typeof t){var r=t.toLowerCase();g[r]&&(i=r),n&&(g[r]=n,i=r);var a=t.split("-");if(!i&&a.length>1)return e(a[0])}else{var o=t.name;g[o]=t,i=o}return!s&&i&&(S=i),i||!s&&S},$=function(e,t){if(y(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new w(n)},D=j;D.l=T,D.i=y,D.w=function(e,t){return $(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var w=function(){function f(e){this.$L=T(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[b]=!0}var p=f.prototype;return p.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(D.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var s=t.match(x);if(s){var i=s[2]-1||0,r=(s[7]||"0").substring(0,3);return n?new Date(Date.UTC(s[1],i,s[3]||1,s[4]||0,s[5]||0,s[6]||0,r)):new Date(s[1],i,s[3]||1,s[4]||0,s[5]||0,s[6]||0,r)}}return new Date(t)}(e),this.init()},p.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},p.$utils=function(){return D},p.isValid=function(){return!(this.$d.toString()===m)},p.isSame=function(e,t){var n=$(e);return this.startOf(t)<=n&&n<=this.endOf(t)},p.isAfter=function(e,t){return $(e)<this.startOf(t)},p.isBefore=function(e,t){return this.endOf(t)<$(e)},p.$g=function(e,t,n){return D.u(e)?this[t]:this.set(n,e)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(e,t){var n=this,s=!!D.u(t)||t,c=D.p(e),m=function(e,t){var i=D.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return s?i:i.endOf(o)},x=function(e,t){return D.w(n.toDate()[e].apply(n.toDate("s"),(s?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},v=this.$W,f=this.$M,p=this.$D,j="set"+(this.$u?"UTC":"");switch(c){case u:return s?m(1,0):m(31,11);case d:return s?m(1,f):m(0,f+1);case l:var S=this.$locale().weekStart||0,g=(v<S?v+7:v)-S;return m(s?p-g:p+(6-g),f);case o:case h:return x(j+"Hours",0);case a:return x(j+"Minutes",1);case r:return x(j+"Seconds",2);case i:return x(j+"Milliseconds",3);default:return this.clone()}},p.endOf=function(e){return this.startOf(e,!1)},p.$set=function(e,t){var n,l=D.p(e),c="set"+(this.$u?"UTC":""),m=(n={},n[o]=c+"Date",n[h]=c+"Date",n[d]=c+"Month",n[u]=c+"FullYear",n[a]=c+"Hours",n[r]=c+"Minutes",n[i]=c+"Seconds",n[s]=c+"Milliseconds",n)[l],x=l===o?this.$D+(t-this.$W):t;if(l===d||l===u){var v=this.clone().set(h,1);v.$d[m](x),v.init(),this.$d=v.set(h,Math.min(this.$D,v.daysInMonth())).$d}else m&&this.$d[m](x);return this.init(),this},p.set=function(e,t){return this.clone().$set(e,t)},p.get=function(e){return this[D.p(e)]()},p.add=function(s,c){var h,m=this;s=Number(s);var x=D.p(c),v=function(e){var t=$(m);return D.w(t.date(t.date()+Math.round(e*s)),m)};if(x===d)return this.set(d,this.$M+s);if(x===u)return this.set(u,this.$y+s);if(x===o)return v(1);if(x===l)return v(7);var f=(h={},h[r]=t,h[a]=n,h[i]=e,h)[x]||1,p=this.$d.getTime()+s*f;return D.w(p,this)},p.subtract=function(e,t){return this.add(-1*e,t)},p.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||m;var s=e||"YYYY-MM-DDTHH:mm:ssZ",i=D.z(this),r=this.$H,a=this.$m,o=this.$M,l=n.weekdays,d=n.months,c=n.meridiem,u=function(e,n,i,r){return e&&(e[n]||e(t,s))||i[n].slice(0,r)},h=function(e){return D.s(r%12||12,e,"0")},x=c||function(e,t,n){var s=e<12?"AM":"PM";return n?s.toLowerCase():s};return s.replace(v,(function(e,s){return s||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return D.s(t.$y,4,"0");case"M":return o+1;case"MM":return D.s(o+1,2,"0");case"MMM":return u(n.monthsShort,o,d,3);case"MMMM":return u(d,o);case"D":return t.$D;case"DD":return D.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return u(n.weekdaysMin,t.$W,l,2);case"ddd":return u(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(r);case"HH":return D.s(r,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return x(r,a,!0);case"A":return x(r,a,!1);case"m":return String(a);case"mm":return D.s(a,2,"0");case"s":return String(t.$s);case"ss":return D.s(t.$s,2,"0");case"SSS":return D.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(s,h,m){var x,v=this,f=D.p(h),p=$(s),j=(p.utcOffset()-this.utcOffset())*t,S=this-p,g=function(){return D.m(v,p)};switch(f){case u:x=g()/12;break;case d:x=g();break;case c:x=g()/3;break;case l:x=(S-j)/6048e5;break;case o:x=(S-j)/864e5;break;case a:x=S/n;break;case r:x=S/t;break;case i:x=S/e;break;default:x=S}return m?x:D.a(x)},p.daysInMonth=function(){return this.endOf(d).$D},p.$locale=function(){return g[this.$L]},p.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),s=T(e,t,!0);return s&&(n.$L=s),n},p.clone=function(){return D.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},f}(),k=w.prototype;return $.prototype=k,[["$ms",s],["$s",i],["$m",r],["$H",a],["$W",o],["$M",d],["$y",u],["$D",h]].forEach((function(e){k[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),$.extend=function(e,t){return e.$i||(e(t,w,$),e.$i=!0),$},$.locale=T,$.isDayjs=y,$.unix=function(e){return $(1e3*e)},$.en=g[S],$.Ls=g,$.p={},$}()},99208:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>I});var s=n(65043),i=n(14034),r=n(19754),a=n(4450),o=n(85376),l=n(84626),d=n(22554),c=n(66305),u=n(95574),h=n(88031),m=n(63516),x=n(80899),v=n(40848),f=n(78510),p=n(67682),j=n(19488),S=n(43017),g=n(97508),b=n(70579);const y=e=>{const{state:t,allData:n,advanceSearch:s,setAdvanceSearch:i,isLoding:r,setSearchedData:o,setDisplaySearchData:c,setSearchbox:u}=e,h=(0,g.wA)(),y=(0,g.d4)((e=>{var t;return null===e||void 0===e||null===(t=e.advanceSearchData)||void 0===t?void 0:t.searchResult})),T=x.Ik({title:x.Yj(),category:x.Yj(),start:x.p6(),end:x.p6(),leadAddress:x.Yj(),assignToName:x.Yj(),fromLeadScore:x.ai().min(0,"From Lead Score is invalid"),toLeadScore:x.ai().min(x.KR("fromLeadScore"),"To Lead Score must be greater than or equal to From Lead Score")}),$=(0,m.Wx)({initialValues:{title:"",category:"",start:"",end:"",status:"",leadAddress:"",assignToName:"",fromLeadScore:"",toLeadScore:""},validationSchema:T,onSubmit:(e,t)=>{let{resetForm:s}=t;h((0,S.gB)(e)),h((0,S.DW)({values:e,allData:n,type:"Tasks"}));const r=[{name:["title"],value:e.title},{name:["status"],value:e.status},{name:["category"],value:e.category},{name:["assignToName"],value:e.assignToName},{name:["start"],value:e.start},{name:["end"],value:e.end}];h((0,S.Tr)(r.filter((e=>e.value)))),o(y),c(!0),i(!1),s(),u("")}}),{errors:D,touched:w,values:k,handleBlur:A,handleChange:C,handleSubmit:I,setFieldValue:O,resetForm:z,dirty:M}=$;return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(v.aF,{onClose:()=>{i(!1),z()},isOpen:s,isCentered:!0,children:[(0,b.jsx)(v.mH,{}),(0,b.jsxs)(v.$m,{children:[(0,b.jsx)(v.rQ,{children:"Advance Search"}),(0,b.jsx)(v.s_,{onClick:()=>{i(!1),z()}}),(0,b.jsx)(v.cw,{children:(0,b.jsxs)(a.Grid,{templateColumns:"repeat(12, 1fr)",mb:3,gap:2,children:[(0,b.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,b.jsx)(f.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Title"}),(0,b.jsx)(p.Input,{fontSize:"sm",onChange:C,onBlur:A,value:null===k||void 0===k?void 0:k.title,name:"title",placeholder:"Enter Title",fontWeight:"500"}),(0,b.jsxs)(a.Text,{mb:"10px",color:"red",children:[" ",D.title&&w.title&&D.title]})]}),(0,b.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,b.jsx)(f.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Status"}),(0,b.jsxs)(l.l6,{value:null===k||void 0===k?void 0:k.status,fontSize:"sm",name:"status",onChange:C,fontWeight:"500",children:[!t&&(0,b.jsx)("option",{value:"",children:"Select Status"}),(0,b.jsx)("option",{value:"completed",children:"Completed"}),(0,b.jsx)("option",{value:"todo",children:"Todo"}),(0,b.jsx)("option",{value:"pending",children:"Pending"}),(0,b.jsx)("option",{value:"inProgress",children:"In Progress"}),(0,b.jsx)("option",{value:"onHold",children:"On Hold"})]}),(0,b.jsxs)(a.Text,{mb:"10px",color:"red",children:[" ",D.status&&w.status&&D.status]})]}),(0,b.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,b.jsx)(f.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Related"}),(0,b.jsxs)(l.l6,{value:null===k||void 0===k?void 0:k.category,fontSize:"sm",name:"category",onChange:C,fontWeight:"500",placeholder:"Select Category",children:[(0,b.jsx)("option",{value:"contact",children:"Contact"}),(0,b.jsx)("option",{value:"lead",children:"Lead"}),(0,b.jsx)("option",{value:"none",children:"None"})]}),(0,b.jsxs)(a.Text,{mb:"10px",color:"red",children:[" ",D.category&&w.category&&D.category]})]}),(0,b.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,b.jsx)(f.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Assign To"}),(0,b.jsx)(p.Input,{fontSize:"sm",onChange:C,onBlur:A,value:null===k||void 0===k?void 0:k.assignToName,name:"assignToName",placeholder:"Enter Assign To",fontWeight:"500"}),(0,b.jsxs)(a.Text,{mb:"10px",color:"red",children:[" ",D.assignToName&&w.assignToName&&D.assignToName]})]}),(0,b.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,b.jsx)(f.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Start Date"}),(0,b.jsx)(p.Input,{fontSize:"sm",onChange:C,onBlur:A,value:null===k||void 0===k?void 0:k.start,name:"start",type:"date",placeholder:"Enter Start Date",fontWeight:"500"}),(0,b.jsxs)(a.Text,{mb:"10px",color:"red",children:[" ",D.start&&w.start&&D.start]})]}),(0,b.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,b.jsx)(f.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"End Date"}),(0,b.jsx)(p.Input,{fontSize:"sm",type:"date",onChange:C,onBlur:A,value:null===k||void 0===k?void 0:k.end,min:null===k||void 0===k?void 0:k.start,name:"end",placeholder:"Enter  End Date",fontWeight:"500"}),(0,b.jsxs)(a.Text,{mb:"10px",color:"red",children:[" ",D.end&&w.end&&D.end]})]})]})}),(0,b.jsxs)(v.jl,{children:[(0,b.jsx)(d.Button,{size:"sm",variant:"brand",mr:2,onClick:I,disabled:!(!r&&M),children:r?(0,b.jsx)(j.A,{}):"Search"}),(0,b.jsx)(d.Button,{size:"sm",variant:"outline",colorScheme:"red",onClick:()=>z(),children:"Clear"})]})]})]})})};var T=n(17368),$=(n(52942),n(25259)),D=n(73216),w=n(48177),k=n(1887),A=n(3616),C=n(42145);const I=()=>{const[e,t]=(0,s.useState)(!1),{isOpen:n,onOpen:m,onClose:x}=(0,r.j1)(),[v,f]=(0,s.useState)(!1),[p,j]=(0,s.useState)(!1),[S,I]=(0,s.useState)(""),[O,z]=(0,s.useState)(),[M,W]=(0,s.useState)([]),[F,L]=(0,s.useState)(!1),[_,N]=(0,s.useState)([]),[H,G]=(0,s.useState)(""),[B,V]=(JSON.parse(localStorage.getItem("user")),(0,s.useState)(!1)),[Y,E]=(0,s.useState)(!1),[P,R]=(0,s.useState)(!1),[U,J]=(0,s.useState)([]),[Z,Q]=(0,s.useState)(!1),[q,K]=(0,s.useState)([]),[X,ee]=(0,s.useState)(""),[te,ne,se]=(0,u.h)(["Tasks","Leads","Contacts"]),ie=(0,D.zy)().state,re=(0,D.Zp)(),ae=(0,g.wA)();console.log("displaySearchData----::",Z);const oe={Header:"Action",isSortable:!1,center:!0,cell:e=>{let{row:t}=e;return(0,b.jsx)(a.Text,{fontSize:"md",fontWeight:"900",textAlign:"center",children:(0,b.jsxs)(o.W1,{isLazy:!0,children:[(0,b.jsx)(o.IU,{children:(0,b.jsx)(T.txp,{})}),(0,b.jsxs)(o.cO,{minW:"fit-content",transform:"translate(1520px, 173px);",children:[(null===te||void 0===te?void 0:te.update)&&(0,b.jsx)(o.Dr,{py:2.5,icon:(0,b.jsx)(i.EditIcon,{fontSize:15,mb:1}),onClick:()=>(e=>{var t;m(),ee("edit"),z(null===e||void 0===e||null===(t=e.values)||void 0===t?void 0:t._id)})(t),children:"Edit"}),(null===te||void 0===te?void 0:te.view)&&(0,b.jsx)(o.Dr,{py:2.5,color:"green",icon:(0,b.jsx)(i.ViewIcon,{mb:1,fontSize:15}),onClick:()=>{var e;I(null===t||void 0===t?void 0:t.original._id),he(null===t||void 0===t||null===(e=t.values)||void 0===e?void 0:e._id)},children:"View"}),(null===te||void 0===te?void 0:te.delete)&&(0,b.jsx)(o.Dr,{py:2.5,color:"red",icon:(0,b.jsx)(i.DeleteIcon,{fontSize:15,mb:1}),onClick:()=>{var e;V(!0),W([null===t||void 0===t||null===(e=t.values)||void 0===e?void 0:e._id])},children:"Delete"})]})]})})}},le=[{Header:"#",accessor:"_id",isSortable:!1,width:5},{Header:"Title",accessor:"title",type:"text",formikType:"",cell:e=>(0,b.jsx)("div",{className:"selectOpt",children:(0,b.jsx)(a.Text,{onClick:()=>{var t;return he(null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.original._id)},me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"},cursor:"pointer"},color:"brand.600",fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value})})},{Header:"Related",accessor:"category",type:"text",formikType:""},{Header:"Status",accessor:"status",type:"select",formikType:"",cell:e=>(0,b.jsx)("div",{className:"selectOpt",children:(0,b.jsxs)(l.l6,{className:ue(e),onChange:t=>ce(e,t),height:7,width:130,value:null===e||void 0===e?void 0:e.value,style:{fontSize:"14px"},children:[(0,b.jsx)("option",{value:"completed",children:"Completed"}),(0,b.jsx)("option",{value:"todo",children:"Todo"}),(0,b.jsx)("option",{value:"onHold",children:"On Hold"}),(0,b.jsx)("option",{value:"inProgress",children:"In Progress"}),(0,b.jsx)("option",{value:"pending",children:"Pending"})]})})},{Header:"Assign To",accessor:"assignToName",type:"text",formikType:""},{Header:"Start Date",accessor:"start",type:"date",formikType:""},{Header:"End Date",accessor:"end",type:"date",formikType:""},...null!==te&&void 0!==te&&te.update||null!==te&&void 0!==te&&te.view||null!==te&&void 0!==te&&te.delete?[oe]:[]],de=async()=>{R(!0);const e=await ae((0,A.o)());var t;200===e.payload.status?J(null===e||void 0===e||null===(t=e.payload)||void 0===t?void 0:t.data):C.oR.error("Failed to fetch data","error");R(!1)},ce=async(e,n)=>{try{var s,i;R(!0),200===(await(0,c.yP)("api/task/changeStatus/".concat(null===e||void 0===e||null===(s=e.row)||void 0===s||null===(i=s.original)||void 0===i?void 0:i._id),{status:n.target.value})).status&&t((e=>!e))}catch(n){console.log(n)}finally{R(!1)}},ue=e=>{switch(e.value){case"pending":return"pending";case"completed":return"completed";case"todo":return"toDo";case"onHold":return"onHold";case"inProgress":return"inProgress";default:return""}},he=e=>{re("/view/".concat(e))};return(0,s.useEffect)((()=>{de()}),[e]),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.A,{title:"Tasks",isLoding:P,columnData:null!==le&&void 0!==le?le:[],allData:null!==U&&void 0!==U?U:[],searchDisplay:Z,setSearchDisplay:Q,searchedDataOut:q,setSearchedDataOut:K,tableCustomFields:[],access:te,state:ie,onOpen:()=>{m(),ee("add")},selectedValues:M,setSelectedValues:W,setDelete:V,AdvanceSearch:(0,b.jsx)(d.Button,{variant:"outline",colorScheme:"brand",leftIcon:(0,b.jsx)(i.SearchIcon,{}),mt:{sm:"5px",md:"0"},size:"sm",onClick:()=>L(!0),children:"Advance Search"}),getTagValuesOutSide:_,searchboxOutside:H,setGetTagValuesOutside:N,setSearchboxOutside:G,handleSearchType:"TasksSearch"}),(0,b.jsx)(y,{advanceSearch:F,setAdvanceSearch:L,state:ie,setSearchedData:K,setDisplaySearchData:Q,allData:null!==U&&void 0!==U?U:[],setAction:t,setGetTagValues:N,setSearchbox:G}),(0,b.jsx)(k.A,{isOpen:n,fetchData:de,onClose:()=>{x(),z("")},userAction:X,id:O,setAction:t}),(0,b.jsx)(w.A,{isOpen:B,onClose:()=>V(!1),type:"Tasks",handleDeleteData:async e=>{try{R(!0),200===(await(0,c.Vn)("api/task/deleteMany",e)).status&&(W([]),V(!1),t((e=>!e)))}catch(n){console.log(n)}finally{R(!1)}},ids:M}),(0,b.jsx)($.A,{text:"Lead file",fetchData:de,isOpen:Y,onClose:E})]})}}}]);
//# sourceMappingURL=8120.683720ea.chunk.js.map