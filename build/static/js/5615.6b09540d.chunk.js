"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[5615],{23848:(e,a,s)=>{s.d(a,{A:()=>d});var c=s(31206),l=s(4450),t=s(3458),i=s(71997),n=s(27149),o=s(70579);function d(e){const{count:a,text:s,onFileSelect:d}=e,r=(0,c.dU)("secondaryGray.900","white"),m=(0,c.dU)("brand.500","white");return(0,o.jsxs)(l.Grid,{templateColumns:"repeat(12, 1fr)",gap:2,children:[(0,o.jsx)(l.GridItem,{colSpan:{base:12},children:(0,o.jsx)(i.A,{w:{base:"100%"},me:"36px",minH:200,img:"Property Photos"===s?"img":"",csv:"csv",height:"100%",onFileSelect:d,isMultipleAllow:!1,content:(0,o.jsxs)(l.Box,{children:[(0,o.jsx)(t.In,{as:n.vpy,w:"80px",h:"80px",color:m}),(0,o.jsx)(l.Flex,{justify:"center",mx:"auto",mb:"12px",children:(0,o.jsx)(l.Text,{fontSize:"xl",fontWeight:"700",color:m,children:"Upload File"})}),a>0&&(0,o.jsxs)(l.Text,{fontSize:"sm",fontWeight:"500",color:"secondaryGray.500",children:["Selected Files : ",a]})]})})}),(0,o.jsx)(l.GridItem,{colSpan:{base:12},children:(0,o.jsxs)(l.Flex,{direction:"column",children:[(0,o.jsxs)(l.Text,{color:r,fontWeight:"bold",textAlign:"start",fontSize:"2xl",mt:{base:"20px"},children:["Upload ",s]}),(0,o.jsx)(l.Text,{color:"gray.400",fontSize:"md",my:{base:"auto"},mx:"auto",textAlign:"start",children:"Accepted File Type (csv, xlsx file - 15MB max) only 1 file"})]})})]})}},35615:(e,a,s)=>{s.r(a),s.d(a,{default:()=>z});var c=s(65043),l=s(73216),t=s(14034),i=s(19754),n=s(4450),o=s(85376),d=s(22554),r=s(66305),m=s(95574),u=s(88031),b=s(17368),x=(s(86178),s(70342)),f=s(97508),h=(s(27560),s(42145)),p=s(63516),v=s(80899),j=s(40848),S=s(78510),g=s(67682),y=s(19488),A=s(43017),_=s(70579);const F=e=>{const{state:a,allData:s,advanceSearch:c,setAdvanceSearch:l,isLoding:t,setSearchedData:i,setDisplaySearchData:o,setSearchClear:r,setSearchbox:m}=e,u=(0,f.wA)(),b=v.Ik({name:v.Yj(),officePhone:v.Yj(),fax:v.Yj(),emailAddress:v.Yj()}),x=(0,p.Wx)({initialValues:{name:"",officePhone:"",fax:"",emailAddress:""},validationSchema:b,onSubmit:(e,a)=>{let{resetForm:c}=a;u((0,A.gB)(e)),u((0,A.DW)({values:e,allData:s,type:"Account"}));const t=[{name:["name"],value:e.name},{name:["officePhone"],value:e.officePhone},{name:["fax"],value:e.fax},{name:["emailAddress"],value:e.emailAddress}];u((0,A.Tr)(t.filter((e=>e.value)))),o(!0),l(!1),c(),m("")}}),{errors:h,touched:F,values:C,handleBlur:T,handleChange:D,handleSubmit:w,setFieldValue:z,resetForm:I,dirty:k}=x;return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(j.aF,{onClose:()=>{l(!1),I()},isOpen:c,isCentered:!0,children:[(0,_.jsx)(j.mH,{}),(0,_.jsxs)(j.$m,{children:[(0,_.jsx)(j.rQ,{children:"Advance Search"}),(0,_.jsx)(j.s_,{onClick:()=>{l(!1),I()}}),(0,_.jsx)(j.cw,{children:(0,_.jsxs)(n.Grid,{templateColumns:"repeat(12, 1fr)",mb:3,gap:2,children:[(0,_.jsxs)(n.GridItem,{colSpan:{base:12,md:6},children:[(0,_.jsx)(S.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Account Name"}),(0,_.jsx)(g.Input,{fontSize:"sm",onChange:D,onBlur:T,value:null===C||void 0===C?void 0:C.name,name:"name",placeholder:"Enter Account Name",fontWeight:"500"}),(0,_.jsxs)(n.Text,{mb:"10px",color:"red",children:[" ",h.name&&F.name&&h.name]})]}),(0,_.jsxs)(n.GridItem,{colSpan:{base:12,md:6},children:[(0,_.jsx)(S.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Office Phone"}),(0,_.jsx)(g.Input,{fontSize:"sm",onChange:D,onBlur:T,value:null===C||void 0===C?void 0:C.officePhone,name:"officePhone",type:"number",placeholder:"Enter Office Phone",fontWeight:"500"}),(0,_.jsxs)(n.Text,{mb:"10px",color:"red",children:[" ",h.officePhone&&F.officePhone&&h.officePhone]})]}),(0,_.jsxs)(n.GridItem,{colSpan:{base:12,md:6},children:[(0,_.jsx)(S.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Fax"}),(0,_.jsx)(g.Input,{fontSize:"sm",onChange:D,onBlur:T,value:null===C||void 0===C?void 0:C.fax,name:"fax",placeholder:"Enter Fax",type:"number",fontWeight:"500"}),(0,_.jsxs)(n.Text,{mb:"10px",color:"red",children:[" ",h.fax&&F.fax&&h.fax]})]}),(0,_.jsxs)(n.GridItem,{colSpan:{base:12,md:6},children:[(0,_.jsx)(S.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Email Address"}),(0,_.jsx)(g.Input,{fontSize:"sm",onChange:D,onBlur:T,value:null===C||void 0===C?void 0:C.emailAddress,name:"emailAddress",placeholder:"Enter Email Address",type:"email",fontWeight:"500"}),(0,_.jsxs)(n.Text,{mb:"10px",color:"red",children:[" ",h.emailAddress&&F.emailAddress&&h.emailAddress]})]})]})}),(0,_.jsxs)(j.jl,{children:[(0,_.jsx)(d.Button,{size:"sm",variant:"brand",mr:2,onClick:w,disabled:!(!t&&k),children:t?(0,_.jsx)(y.A,{}):"Search"}),(0,_.jsx)(d.Button,{size:"sm",variant:"outline",colorScheme:"red",onClick:()=>I(),children:"Clear"})]})]})]})})};var C=s(30390),T=s(48177),D=s(23848);const w=e=>{const{onClose:a,isOpen:s,text:t,customFields:i}=e,[o,r]=(0,c.useState)(!1),m=(0,l.Zp)(),u=(0,p.Wx)({initialValues:{accounts:""},onSubmit:(e,a)=>{let{resetForm:s}=a;F(),s()}}),{errors:b,touched:x,values:f,handleBlur:h,handleChange:v,handleSubmit:S,setFieldValue:g,resetForm:A}=u,F=async()=>{try{r(!0),A(),f.accounts&&(a(),m("/accountImport",{state:{fileData:f.accounts,customFields:i}}))}catch(e){console.log(e)}finally{r(!1)}};return(0,_.jsxs)(j.aF,{onClose:a,isOpen:s,isCentered:!0,children:[(0,_.jsx)(j.mH,{}),(0,_.jsxs)(j.$m,{children:[(0,_.jsx)(j.rQ,{children:"Import Account"}),(0,_.jsx)(j.s_,{}),(0,_.jsx)(j.cw,{children:(0,_.jsx)(n.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:(0,_.jsxs)(n.GridItem,{colSpan:{base:12},children:[(0,_.jsx)(D.A,{count:f.accounts.length,onFileSelect:e=>g("accounts",e),text:t}),(0,_.jsxs)(n.Text,{mb:"10px",color:"red",children:[" ",b.accounts&&x.accounts&&(0,_.jsxs)(_.Fragment,{children:["Please Select ",t]})]})]})})}),(0,_.jsxs)(j.jl,{children:[(0,_.jsx)(d.Button,{size:"sm",variant:"brand",onClick:S,disabled:!!o,children:o?(0,_.jsx)(y.A,{}):"Save"}),(0,_.jsx)(d.Button,{sx:{marginLeft:2,textTransform:"capitalize"},variant:"outline",colorScheme:"red",size:"sm",onClick:()=>{a(),u.resetForm()},children:"Close"})]})]})]})},z=e=>{const[a,s]=(0,c.useState)(!1),{isOpen:p,onOpen:v,onClose:j}=(0,i.j1)(),[S,g]=(0,c.useState)([]),[y,A]=(0,c.useState)(!1),[D,z]=(0,c.useState)([]),[I,k]=(0,c.useState)(""),O=(JSON.parse(localStorage.getItem("user")),(0,l.Zp)()),P=(0,f.wA)(),[V,W]=(0,c.useState)(!1),[G,B]=(0,c.useState)([]),[E,H]=(0,c.useState)(!1),[L,M]=(0,c.useState)([]),[N,q]=(0,c.useState)(),[U,Y]=(0,c.useState)(!1),[R,Q]=(0,c.useState)(!1),[Z,$]=(0,c.useState)(""),[J,K]=(0,c.useState)(!1),[X]=(0,m.h)(["Account"]),ee={Header:"Action",accessor:"action",isSortable:!1,center:!0,cell:e=>{let{row:a,i:s}=e;return(0,_.jsx)(n.Text,{fontSize:"md",fontWeight:"900",textAlign:"center",children:(0,_.jsxs)(o.W1,{isLazy:!0,children:[(0,_.jsx)(o.IU,{children:(0,_.jsx)(b.txp,{})}),(0,_.jsxs)(o.cO,{minW:"fit-content",transform:"translate(1520px, 173px);",children:[(null===X||void 0===X?void 0:X.update)&&(0,_.jsx)(o.Dr,{py:2.5,icon:(0,_.jsx)(t.EditIcon,{fontSize:15,mb:1}),onClick:()=>{var e;$("edit"),v(),q(null===a||void 0===a||null===(e=a.values)||void 0===e?void 0:e._id)},children:"Edit"}),(null===X||void 0===X?void 0:X.view)&&(0,_.jsx)(o.Dr,{py:2.5,color:"green",icon:(0,_.jsx)(t.ViewIcon,{mb:1,fontSize:15}),onClick:()=>{var e;O("/accountView/".concat(null===a||void 0===a||null===(e=a.values)||void 0===e?void 0:e._id))},children:"View"}),(null===X||void 0===X?void 0:X.delete)&&(0,_.jsx)(o.Dr,{py:2.5,color:"red",icon:(0,_.jsx)(t.DeleteIcon,{fontSize:15,mb:1}),onClick:()=>{var e;Y(!0),g([null===a||void 0===a||null===(e=a.values)||void 0===e?void 0:e._id])},children:"Delete"})]})]})})}},ae=[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"Account Name",accessor:"name",cell:e=>(0,_.jsx)("div",{className:"selectOpt",children:(0,_.jsx)(n.Text,{onClick:()=>{var a;return se(null===e||void 0===e||null===(a=e.row)||void 0===a?void 0:a.original._id)},me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"},cursor:"pointer"},color:"brand.600",fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value})})},{Header:"Office Phone",accessor:"officePhone"},{Header:"Fax",accessor:"fax"},{Header:"Email Address",accessor:"emailAddress"},...null!==X&&void 0!==X&&X.update||null!==X&&void 0!==X&&X.view||null!==X&&void 0!==X&&X.delete?[ee]:[]],se=e=>{O("/accountView/".concat(e))};return(0,c.useEffect)((()=>{(async()=>{W(!0);const e=await P((0,C.G)());var a;200===e.payload.status?B(null===e||void 0===e||null===(a=e.payload)||void 0===a?void 0:a.data):h.oR.error("Failed to fetch data","error"),W(!1)})()}),[a]),(0,_.jsxs)("div",{children:[(0,_.jsx)(u.A,{title:"Account",isLoding:V,columnData:null!==ae&&void 0!==ae?ae:[],allData:null!==G&&void 0!==G?G:[],tableData:G,searchDisplay:E,setSearchDisplay:H,searchedDataOut:L,setSearchedDataOut:M,tableCustomFields:[],access:X,setIsImport:K,onOpen:()=>{v(),$("add")},selectedValues:S,setSelectedValues:g,setDelete:Y,deleteMany:!1,AdvanceSearch:(0,_.jsx)(d.Button,{variant:"outline",colorScheme:"brand",leftIcon:(0,_.jsx)(t.SearchIcon,{}),mt:{sm:"5px",md:"0"},size:"sm",onClick:()=>A(!0),children:"Advance Search"}),getTagValuesOutSide:D,searchboxOutside:I,setGetTagValuesOutside:z,setSearchboxOutside:k,handleSearchType:"AccountSearch"}),(0,_.jsx)(F,{advanceSearch:y,setAdvanceSearch:A,setSearchedData:M,setDisplaySearchData:H,allData:null!==G&&void 0!==G?G:[],setAction:s,setGetTagValues:z,setSearchbox:k}),(0,_.jsx)(x.A,{isOpen:p,size:"lg",onClose:j,setAction:s,type:Z,selectedId:N}),(0,_.jsx)(T.A,{isOpen:U,onClose:()=>Y(!1),type:"Account",handleDeleteData:async e=>{try{W(!0),200===(await(0,r.Vn)("api/account/deleteMany",e)).status&&(h.oR.success("Account Delete successfully"),g([]),Y(!1),s((e=>!e)))}catch(a){console.log(a),h.oR.error("server error")}finally{W(!1)}},ids:S}),(0,_.jsx)(w,{text:"Account file",isOpen:J,onClose:K,customFields:[{name:"name",label:"Account Name",type:"text",fixed:!1,isDefault:!1,delete:!1,belongsTo:null,backendType:"Mixed",isTableField:!1,isView:!1,options:[{name:"",value:"",_id:"6694b8112cf3cbec6b5286c0"},{name:"",value:"",_id:"6694b8112cf3cbec6b5286c1"}],validation:[{require:!0,message:"Account Name is required",_id:"6694b8112cf3cbec6b5286c2"},{min:!1,value:"",message:"",_id:"6694b8112cf3cbec6b5286c3"},{max:!1,value:"",message:"",_id:"6694b8112cf3cbec6b5286c4"},{value:"",message:"",match:!1,_id:"6694b8112cf3cbec6b5286c5"},{message:"",formikType:"",_id:"6694b8112cf3cbec6b5286c6"}],_id:"6694b8112cf3cbec6b5286bf"},{name:"officePhone",label:"Office Phone",type:"number",fixed:!1,isDefault:!1,delete:!1,belongsTo:null,backendType:"Mixed",isTableField:!1,isView:!1,options:[{name:"",value:"",_id:"6694b8662cf3cbec6b5289fd"},{name:"",value:"",_id:"6694b8662cf3cbec6b5289fe"}],validation:[{require:!1,message:"",_id:"6694b8662cf3cbec6b5289ff"},{min:!1,value:"",message:"",_id:"6694b8662cf3cbec6b528a00"},{max:!1,value:"",message:"",_id:"6694b8662cf3cbec6b528a01"},{value:"",message:"",match:!1,_id:"6694b8662cf3cbec6b528a02"},{message:"",formikType:"",_id:"6694b8662cf3cbec6b528a03"}],_id:"6694b8662cf3cbec6b5289fc"},{name:"fax",label:"Fax",type:"number",fixed:!1,isDefault:!1,delete:!1,belongsTo:null,backendType:"Mixed",isTableField:!1,isView:!1,options:[{name:"",value:"",_id:"6694b8742cf3cbec6b528d52"},{name:"",value:"",_id:"6694b8742cf3cbec6b528d53"}],validation:[{require:!1,message:"",_id:"6694b8742cf3cbec6b528d54"},{min:!1,value:"",message:"",_id:"6694b8742cf3cbec6b528d55"},{max:!1,value:"",message:"",_id:"6694b8742cf3cbec6b528d56"},{value:"",message:"",match:!1,_id:"6694b8742cf3cbec6b528d57"},{message:"",formikType:"",_id:"6694b8742cf3cbec6b528d58"}],_id:"6694b8742cf3cbec6b528d51"},{name:"emailAddress",label:"Email Address",type:"text",fixed:!1,isDefault:!1,delete:!1,belongsTo:null,backendType:"Mixed",isTableField:!1,isView:!1,options:[{name:"",value:"",_id:"6694b8942cf3cbec6b5290bf"},{name:"",value:"",_id:"6694b8942cf3cbec6b5290c0"}],validation:[{require:!1,message:"",_id:"6694b8942cf3cbec6b5290c1"},{min:!1,value:"",message:"",_id:"6694b8942cf3cbec6b5290c2"},{max:!1,value:"",message:"",_id:"6694b8942cf3cbec6b5290c3"},{value:"",message:"",match:!1,_id:"6694b8942cf3cbec6b5290c4"},{message:"",formikType:"email",_id:"6694b8942cf3cbec6b5290c5"}],_id:"6694b8942cf3cbec6b5290be"}]})]})}}}]);
//# sourceMappingURL=5615.6b09540d.chunk.js.map