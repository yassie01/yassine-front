"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[9831],{68700:(e,t,n)=>{n.d(t,{A:()=>m});var i=n(89379),l=n(14034),o=n(40848),s=n(22554),r=n(19488),a=n(63516),d=n(65043),c=n(66305),u=n(22030),x=n(48908),p=n(80899),h=n(70579);const m=e=>{var t,n;const[m,v]=(0,d.useState)(!1),j=Object.fromEntries(((null===e||void 0===e||null===(t=e.propertyData)||void 0===t?void 0:t.fields)||[]).map((e=>[null===e||void 0===e?void 0:e.name,""]))),f=(0,i.A)((0,i.A)({},j),{},{createBy:JSON.parse(localStorage.getItem("user"))._id}),g=(0,a.Wx)({initialValues:f,enableReinitialize:!0,validationSchema:p.Ik().shape((0,u.g)(null===e||void 0===e||null===(n=e.propertyData)||void 0===n?void 0:n.fields)),onSubmit:(e,t)=>{let{resetForm:n}=t;A()}}),{errors:b,touched:y,values:S,handleBlur:I,handleChange:C,handleSubmit:w,setFieldValue:z}=g,A=async()=>{try{var t;v(!0),200===(await(0,c.d_)("api/form/add",(0,i.A)((0,i.A)({},S),{},{moduleId:null===e||void 0===e||null===(t=e.propertyData)||void 0===t?void 0:t._id}))).status&&(e.onClose(),g.resetForm(),e.setAction((e=>!e)))}catch(n){console.log(n)}finally{v(!1)}};return(0,h.jsx)("div",{children:(0,h.jsxs)(o._s,{isOpen:e.isOpen,size:e.size,children:[(0,h.jsx)(o.QP,{}),(0,h.jsxs)(o.zj,{children:[(0,h.jsxs)(o.BE,{alignItems:"center",justifyContent:"space-between",display:"flex",children:["Add Property",(0,h.jsx)(s.IconButton,{onClick:e.onClose,icon:(0,h.jsx)(l.CloseIcon,{})})]}),(0,h.jsx)(o.ys,{children:(0,h.jsx)(x.A,{moduleData:e.propertyData,values:S,setFieldValue:z,handleChange:C,handleBlur:I,errors:b,touched:y})}),(0,h.jsxs)(o.tb,{children:[(0,h.jsx)(s.Button,{size:"sm",sx:{textTransform:"capitalize"},disabled:!!m,variant:"brand",type:"submit",onClick:w,children:m?(0,h.jsx)(r.A,{}):"Save"}),(0,h.jsx)(s.Button,{size:"sm",variant:"outline",colorScheme:"red",sx:{marginLeft:2,textTransform:"capitalize"},onClick:e.onClose,children:"Close"})]})]})]})})}},72943:(e,t,n)=>{n.d(t,{A:()=>j});var i=n(89379),l=n(14034),o=n(40848),s=n(22554),r=n(4450),a=n(19488),d=n(63516),c=n(65043),u=n(73216),x=n(66305),p=n(22030),h=n(48908),m=n(80899),v=n(70579);const j=e=>{var t,n;const{data:j}=e,f=Object.fromEntries(((null===e||void 0===e||null===(t=e.leadData)||void 0===t?void 0:t.fields)||[]).map((e=>[null===e||void 0===e?void 0:e.name,""]))),[g,b]=(0,c.useState)((0,i.A)((0,i.A)({},f),{},{createBy:JSON.parse(localStorage.getItem("user"))._id})),y=(0,u.g)(),S=(0,d.Wx)({initialValues:g,validationSchema:m.Ik().shape((0,p.g)(null===e||void 0===e||null===(n=e.propertyData)||void 0===n?void 0:n.fields)),enableReinitialize:!0,onSubmit:(e,t)=>{let{resetForm:n}=t;k()}}),{errors:I,touched:C,values:w,handleBlur:z,handleChange:A,handleSubmit:F,setFieldValue:_}=S,[D,B]=(0,c.useState)(!1),k=async()=>{try{B(!0),200===(await(0,x.yP)("api/property/edit/".concat((null===e||void 0===e?void 0:e.selectedId)||y.id),w)).status&&(e.onClose(),e.setAction((e=>!e)))}catch(t){console.log(t)}finally{B(!1)}};let P;return(0,c.useEffect)((()=>{(async()=>{if(j)b((e=>(0,i.A)((0,i.A)({},e),j)));else if(null!==e&&void 0!==e&&e.selectedId)try{B(!0),P=await(0,x.x4)("api/property/view/",null===e||void 0===e?void 0:e.selectedId),b((e=>{var t,n;return(0,i.A)((0,i.A)({},e),null===(t=P)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.property)}))}catch(t){console.error(t)}finally{B(!1)}})()}),[null===e||void 0===e?void 0:e.selectedId,j]),(0,v.jsx)("div",{children:(0,v.jsxs)(o._s,{isOpen:e.isOpen,size:e.size,children:[(0,v.jsx)(o.QP,{}),(0,v.jsxs)(o.zj,{children:[(0,v.jsxs)(o.BE,{alignItems:"center",justifyContent:"space-between",display:"flex",children:["Edit Property",(0,v.jsx)(s.IconButton,{onClick:()=>{e.onClose(!1),e.setSelectedId&&(null===e||void 0===e||e.setSelectedId())},icon:(0,v.jsx)(l.CloseIcon,{})})]}),(0,v.jsx)(o.ys,{children:D?(0,v.jsx)(r.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,v.jsx)(a.A,{})}):(0,v.jsx)(h.A,{moduleData:e.propertyData,values:w,setFieldValue:_,handleChange:A,handleBlur:z,errors:I,touched:C})}),(0,v.jsxs)(o.tb,{children:[(0,v.jsx)(s.Button,{size:"sm",sx:{textTransform:"capitalize"},variant:"brand",disabled:!!D,type:"submit",onClick:F,children:D?(0,v.jsx)(a.A,{}):"Update"}),(0,v.jsx)(s.Button,{size:"sm",variant:"outline",colorScheme:"red",sx:{marginLeft:2,textTransform:"capitalize"},onClick:()=>{e.onClose(!1)},children:"Close"})]})]})]})})}},73584:(e,t,n)=>{n.r(t),n.d(t,{default:()=>$});var i=n(14034),l=n(31206),o=n(19754),s=n(4450),r=n(78858),a=n(85376),d=n(22554),c=n(32892),u=n(40848),x=n(10216),p=n(63994),h=n(19488),m=n(65043),v=n(34960),j=n(73216),f=n(35475),g=n(66305),b=n(68700),y=n(72943),S=n(63516),I=n(80045),C=n(3458),w=n(71997),z=n(27149),A=n(70579);const F=["used","total","count"];function _(e){const{used:t,total:n,count:i}=e,o=((0,I.A)(e,F),(0,l.dU)("secondaryGray.900","white")),r=(0,l.dU)("brand.500","white");return(0,A.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",gap:2,children:[(0,A.jsx)(s.GridItem,{colSpan:{base:12},children:(0,A.jsx)(w.A,{w:{base:"100%"},me:"36px",minH:200,img:"Property Photos"===e.text?"img":"",height:"100%",onFileSelect:e.onFileSelect,content:(0,A.jsxs)(s.Box,{children:[(0,A.jsx)(C.In,{as:z.vpy,w:"80px",h:"80px",color:r}),(0,A.jsx)(s.Flex,{justify:"center",mx:"auto",mb:"12px",children:(0,A.jsx)(s.Text,{fontSize:"xl",fontWeight:"700",color:r,children:"Upload Files"})}),i>0&&(0,A.jsxs)(s.Text,{fontSize:"sm",fontWeight:"500",color:"secondaryGray.500",children:["Selected Files : ",i]})]})})}),(0,A.jsx)(s.GridItem,{colSpan:{base:12},children:(0,A.jsxs)(s.Flex,{direction:"column",children:[(0,A.jsxs)(s.Text,{color:o,fontWeight:"bold",textAlign:"start",fontSize:"2xl",mt:{base:"20px"},children:["Upload ",e.text]}),(0,A.jsx)(s.Text,{color:"gray.400",fontSize:"md",my:{base:"auto"},mx:"auto",textAlign:"start",children:"Accepted File Types (Images files - 15MB max) only 10 files"})]})})]})}const D=e=>{const{onClose:t,isOpen:n,fetchData:i,text:l}=e,[o,r]=(0,m.useState)(!1),a=(0,S.Wx)({initialValues:{property:""},onSubmit:(e,t)=>{let{resetForm:n}=t;y(),n()}}),{errors:c,touched:x,values:p,handleBlur:v,handleChange:j,handleSubmit:f,setFieldValue:b}=a,y=async()=>{try{var n;r(!0);const o=new FormData;let s;p.property.forEach((e=>{null===o||void 0===o||o.append("property",e)})),"Property Photos"===l?s=await(0,g.d_)("api/property/add-property-photos/".concat(e.id),o):"Virtual Tours or Videos"===l?s=await(0,g.d_)("api/property/add-virtual-tours-or-videos/".concat(e.id),o):"Floor Plans"===l?s=await(0,g.d_)("api/property/add-floor-plans/".concat(e.id),o):"Property Documents"===l&&(s=await(0,g.d_)("api/property/add-property-documents/".concat(e.id),o)),200===(null===(n=s)||void 0===n?void 0:n.status)&&(i(1),a.resetForm(),t())}catch(o){console.log(o)}finally{r(!1)}};return(0,A.jsxs)(u.aF,{onClose:t,isOpen:n,isCentered:!0,children:[(0,A.jsx)(u.mH,{}),(0,A.jsxs)(u.$m,{children:[(0,A.jsxs)(u.rQ,{children:["Select ",l," "]}),(0,A.jsx)(u.s_,{}),(0,A.jsx)(u.cw,{children:(0,A.jsx)(s.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:(0,A.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,A.jsx)(_,{count:p.property.length,onFileSelect:e=>b("property",e),text:l}),(0,A.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",c.property&&x.property&&(0,A.jsxs)(A.Fragment,{children:["Please Select ",l]})]})]})})}),(0,A.jsxs)(u.jl,{children:[(0,A.jsx)(d.Button,{size:"sm",variant:"brand",onClick:f,mr:1,disabled:!!o,children:o?(0,A.jsx)(h.A,{}):"Save"}),(0,A.jsx)(d.Button,{size:"sm",colorScheme:"red",variant:"outline",onClick:()=>{t(),a.resetForm()},children:"Close"})]})]})]})};var B=n(95574),k=n(52853);const P=n.p+"static/media/xlsx.3b42e8cd4f9bf156c884.png",T=n.p+"static/media/jpg.fdaacb51b3eedae8f560.png",V=n.p+"static/media/png.591c905ba55daf938362.png",G=n.p+"static/media/pdf.218f27f51613b4b652ab.png",O=n.p+"static/media/xls.c0995978684211bf594e.png",E=n.p+"static/media/csv.42b148555d574a65e2e1.png",N=n.p+"static/media/file.cae13a973d5fc64cfbfe.png";var W=n(99702),H=n(88031),R=n(48177),Y=n(97508),L=n(33915),U=n(20850),M=n(85369),K=n(90074),Q=n.n(K),X=n(86178),J=n.n(X);const $=()=>{var e,t,n,S,I,C,w,z,F,_,K,X,$,q,Z,ee,te,ne,ie,le,oe,se,re,ae,de,ce,ue;const xe=JSON.parse(localStorage.getItem("user")),pe=(0,j.g)(),he=((0,l.dU)("gray.200","white"),(0,l.dU)("gray.500","white")),[me,ve]=(0,m.useState)(),[je,fe]=(0,m.useState)([]),{isOpen:ge,onOpen:be,onClose:ye}=(0,o.j1)(),[Se,Ie]=(0,m.useState)(!1),[Ce,we]=(0,m.useState)(!1),[ze,Ae]=(0,m.useState)(!1),[Fe,_e]=(0,m.useState)(!1),[De,Be]=(0,m.useState)(!1),[ke,Pe]=(0,m.useState)(!1),[Te,Ve]=(0,m.useState)(!1),[Ge,Oe]=(0,m.useState)(!1),[Ee,Ne]=(0,m.useState)(!1),[We,He]=(0,m.useState)(!1),[Re,Ye]=(0,m.useState)(0),Le=(0,Y.wA)(),Ue=(0,Y.d4)((e=>{var t,n;return null===e||void 0===e||null===(t=e.propertyCustomFiled)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.data})),[Me,Ke]=(0,m.useState)([]),[Qe,Xe]=(0,m.useState)([]),[Je,$e]=(0,m.useState)(!1),qe=(0,j.Zp)(),[Ze,et]=(0,m.useState)([...Qe]),tt=async e=>{var t;Ne(!0);let n=await(0,g.x4)("api/property/view/",pe.id);ve(n.data.property),fe(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.filteredContacts),Ne(!1),Ye(e)};(0,m.useEffect)((()=>{Le((0,L.R)()),tt(),(async()=>{var e,t,n,i,l,o;Ne(!0);const s=await Le((0,U.I)());Ke(null===s||void 0===s||null===(e=s.payload)||void 0===e?void 0:e.data);const r=[{Header:"#",accessor:"_id",isSortable:!1,width:10},...null===s||void 0===s||null===(t=s.payload)||void 0===t||null===(n=t.data)||void 0===n||null===(i=n[0])||void 0===i||null===(l=i.fields)||void 0===l||null===(o=l.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||void 0===o?void 0:o.map((e=>({Header:null===e||void 0===e?void 0:e.label,accessor:null===e||void 0===e?void 0:e.name})))];Xe(r),Ne(!1)})()}),[]);const[nt,it,lt,ot]=(0,B.h)(["Properties","Contacts","Emails","Calls"]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(b.A,{isOpen:ge,size:"lg",onClose:ye,propertyData:null===Ue||void 0===Ue?void 0:Ue[0]}),(0,A.jsx)(y.A,{isOpen:Se,size:"lg",onClose:Ie,setAction:Ae,propertyData:null===Ue||void 0===Ue?void 0:Ue[0],data:me}),(0,A.jsx)(R.A,{isOpen:Ce,onClose:()=>we(!1),type:"Property",handleDeleteData:async e=>{try{Ne(!0),200===(await(0,g.Gx)("api/property/delete/",e)).status&&(we(!1),Ae((e=>!e)),qe("/properties"))}catch(t){console.log(t)}finally{Ne(!1)}},ids:pe.id}),Ee?(0,A.jsx)(s.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,A.jsx)(h.A,{})}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(s.Heading,{size:"lg",mt:0,m:3,children:(null===me||void 0===me?void 0:me.name)||""}),(0,A.jsxs)(r.tU,{onChange:e=>{Ye(e)},index:Re,children:[(0,A.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",mb:3,gap:1,children:[(0,A.jsx)(s.GridItem,{colSpan:{base:12,md:6},children:(0,A.jsxs)(r.wb,{sx:{border:"none","& button:focus":{boxShadow:"none"},"& button":{margin:{sm:"0 3px",md:"0 5px"},padding:{sm:"5px",md:"8px"},border:"2px solid #8080803d",borderTopLeftRadius:"10px",borderTopRightRadius:"10px",borderBottom:0,fontSize:{sm:"12px",md:"16px"}},'& button[aria-selected="true"]':{border:"2px solid brand.200",borderBottom:0,zIndex:"0"}},children:[(0,A.jsx)(r.oz,{children:"Information"}),(0,A.jsx)(r.oz,{children:"Gallery"})]})}),(0,A.jsx)(s.GridItem,{colSpan:{base:12,md:6},mt:{sm:"3px",md:"5px"},children:(0,A.jsxs)(s.Flex,{justifyContent:"right",children:[(0,A.jsxs)(a.W1,{children:[("superAdmin"===xe.role||(null===nt||void 0===nt?void 0:nt.create)||(null===nt||void 0===nt?void 0:nt.update)||(null===nt||void 0===nt?void 0:nt.delete))&&(0,A.jsx)(a.IU,{variant:"outline",size:"sm",colorScheme:"blackAlpha",va:!0,mr:2.5,as:d.Button,rightIcon:(0,A.jsx)(i.ChevronDownIcon,{}),children:"Actions"}),(0,A.jsx)(a.Nj,{}),(0,A.jsxs)(a.cO,{minWidth:2,children:[("superAdmin"===xe.role||(null===nt||void 0===nt?void 0:nt.create))&&(0,A.jsx)(a.Dr,{alignItems:"start",color:"blue",onClick:()=>be(),icon:(0,A.jsx)(i.AddIcon,{}),children:"Add"}),("superAdmin"===xe.role||(null===nt||void 0===nt?void 0:nt.update))&&(0,A.jsx)(a.Dr,{alignItems:"start",onClick:()=>Ie(!0),icon:(0,A.jsx)(i.EditIcon,{}),children:"Edit"}),(0,A.jsx)(a.Dr,{onClick:()=>{const e=document.getElementById("reports");e?(e.style.display="block",e.style.width="100%",e.style.height="auto",Q()().from(e).set({margin:[0,0,0,0],filename:"Property_Details_".concat(J()().format("DD-MM-YYYY"),".pdf"),image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,allowTaint:!0},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}}).save().then((()=>{e.style.display=""}))):console.error("Element with ID 'reports' not found.")},alignItems:"start",icon:(0,A.jsx)(M.kl1,{}),display:"flex",style:{alignItems:"center"},children:"Print as PDF"}),("superAdmin"===xe.role||(null===nt||void 0===nt?void 0:nt.delete))&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(a.Nj,{}),(0,A.jsx)(a.Dr,{alignItems:"start",color:"red",onClick:()=>we(!0),icon:(0,A.jsx)(i.DeleteIcon,{}),children:"Delete"})]})]})]}),(0,A.jsx)(f.N_,{to:"/properties",children:(0,A.jsx)(d.Button,{size:"sm",leftIcon:(0,A.jsx)(v.m6W,{}),variant:"brand",children:"Back"})})]})})]}),(0,A.jsxs)(r.T2,{children:[(0,A.jsxs)(r.Kp,{pt:4,p:0,children:[(0,A.jsx)(W.A,{data:null===Ue||void 0===Ue?void 0:Ue[0],fieldData:me,fetchData:tt,editUrl:"api/property/edit/".concat(pe.id),moduleId:null===Ue||void 0===Ue||null===(e=Ue[0])||void 0===e?void 0:e._id,id:"reports"}),(null===je||void 0===je?void 0:je.length)>0&&(0,A.jsx)(s.GridItem,{colSpan:{base:12},mt:4,children:(0,A.jsx)(s.Grid,{templateColumns:{base:"1fr"},children:(0,A.jsx)(s.GridItem,{colSpan:2,children:(0,A.jsx)(s.Grid,{templateColumns:"repeat(2, 1fr)",children:(0,A.jsx)(s.GridItem,{colSpan:{base:2},children:(0,A.jsx)(H.A,{AdvanceSearch:!1,ManageGrid:!1,access:!1,columnData:null!==Qe&&void 0!==Qe?Qe:[],title:"Interested Contact",allData:null!==je&&void 0!==je?je:[],tableData:je,size:"md",tableCustomFields:(null===Me||void 0===Me||null===(t=Me[0])||void 0===t||null===(n=t.fields)||void 0===n?void 0:n.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||[],customSearch:!0,checkBox:!1})})})})})})]}),(0,A.jsx)(r.Kp,{pt:4,p:0,children:(0,A.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,A.jsx)(s.GridItem,{colSpan:{base:12,md:6},children:(0,A.jsx)(x.A,{children:(0,A.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",gap:4,children:[(0,A.jsx)(s.GridItem,{colSpan:12,children:(0,A.jsxs)(s.Box,{children:[(0,A.jsxs)(s.Flex,{flexWrap:"wrap",mb:3,justifyContent:"space-between",alingItem:"center",children:[(0,A.jsx)(s.Heading,{size:"md",children:"Property Photos"}),(0,A.jsx)(d.Button,{size:"sm",leftIcon:(0,A.jsx)(i.AddIcon,{}),onClick:()=>_e(!0),variant:"brand",children:"Add New"}),(0,A.jsx)(D,{text:"Property Photos",fetchData:tt,isOpen:Fe,onClose:_e,id:pe.id})]}),(0,A.jsx)(p.E,{})]})}),(0,A.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,A.jsx)(s.Flex,{overflowY:"scroll",height:"150px",alingItem:"center",children:(null===me||void 0===me||null===(S=me.propertyPhotos)||void 0===S?void 0:S.length)>0?me&&(null===me||void 0===me||null===(I=me.propertyPhotos)||void 0===I?void 0:I.length)>0&&(null===me||void 0===me||null===(C=me.propertyPhotos)||void 0===C?void 0:C.map((e=>(0,A.jsx)(c._V,{width:"150px",m:1,src:e.img,alt:"Your Image"})))):(0,A.jsx)(s.Text,{textAlign:"center",width:"100%",color:he,fontSize:"sm",fontWeight:"700",children:(0,A.jsx)(k.A,{})})}),(null===me||void 0===me||null===(w=me.propertyPhotos)||void 0===w?void 0:w.length)>0?(0,A.jsx)(s.Flex,{justifyContent:"end",mt:1,children:(0,A.jsx)(d.Button,{size:"sm",colorScheme:"brand",variant:"outline",onClick:()=>{He(!0),$e("photo")},children:"Show more"})}):""]})]})})}),(0,A.jsx)(s.GridItem,{colSpan:{base:12,md:6},children:(0,A.jsx)(x.A,{children:(0,A.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",gap:4,children:[(0,A.jsx)(s.GridItem,{colSpan:12,children:(0,A.jsxs)(s.Box,{children:[(0,A.jsxs)(s.Flex,{flexWrap:"wrap",mb:3,justifyContent:"space-between",alingItem:"center",children:[(0,A.jsx)(s.Heading,{size:"md",children:"Virtual Tours or Videos"}),(0,A.jsx)(d.Button,{size:"sm",leftIcon:(0,A.jsx)(i.AddIcon,{}),onClick:()=>Pe(!0),variant:"brand",children:"Add New"}),(0,A.jsx)(D,{text:"Virtual Tours or Videos",fetchData:tt,isOpen:ke,onClose:Pe,id:pe.id})]}),(0,A.jsx)(p.E,{})]})}),(0,A.jsx)(s.GridItem,{colSpan:{base:12},children:(0,A.jsx)(s.Flex,{overflowY:"scroll",height:"150px",alingItem:"center",children:(null===me||void 0===me||null===(z=me.virtualToursOrVideos)||void 0===z?void 0:z.length)>0?me&&(null===me||void 0===me||null===(F=me.virtualToursOrVideos)||void 0===F?void 0:F.length)>0&&(null===me||void 0===me||null===(_=me.virtualToursOrVideos)||void 0===_?void 0:_.map((e=>(0,A.jsxs)("video",{width:"200",controls:!0,autoplay:!0,loop:!0,style:{margin:"0 5px"},children:[(0,A.jsx)("source",{src:e.img,type:"video/mp4"}),(0,A.jsx)("source",{src:e.img,type:"video/ogg"})]})))):(0,A.jsx)(s.Text,{textAlign:"center",width:"100%",color:he,fontSize:"sm",fontWeight:"700",children:(0,A.jsx)(k.A,{})})})})]})})}),(0,A.jsx)(s.GridItem,{colSpan:{base:12,md:6},children:(0,A.jsx)(x.A,{children:(0,A.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",gap:4,children:[(0,A.jsx)(s.GridItem,{colSpan:12,children:(0,A.jsxs)(s.Box,{children:[(0,A.jsxs)(s.Flex,{flexWrap:"wrap",mb:3,justifyContent:"space-between",alingItem:"center",children:[(0,A.jsx)(s.Heading,{size:"md",children:"Floor Plans"}),(0,A.jsx)(d.Button,{size:"sm",leftIcon:(0,A.jsx)(i.AddIcon,{}),onClick:()=>Ve(!0),variant:"brand",children:"Add New"}),(0,A.jsx)(D,{text:"Floor Plans",fetchData:tt,isOpen:Te,onClose:Ve,id:pe.id})]}),(0,A.jsx)(p.E,{})]})}),(0,A.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,A.jsx)(s.Flex,{overflowY:"scroll",height:"150px",alingItem:"center",children:(null===me||void 0===me||null===(K=me.floorPlans)||void 0===K?void 0:K.length)>0?me&&(null===me||void 0===me||null===(X=me.floorPlans)||void 0===X?void 0:X.length)>0&&(null===me||void 0===me||null===($=me.floorPlans)||void 0===$?void 0:$.map((e=>(0,A.jsx)(c._V,{width:"30%",m:1,src:e.img,alt:"Your Image"},e.createOn)))):(0,A.jsx)(s.Text,{textAlign:"center",width:"100%",color:he,fontSize:"sm",fontWeight:"700",children:(0,A.jsx)(k.A,{})})}),(null===me||void 0===me||null===(q=me.floorPlans)||void 0===q?void 0:q.length)>0?(0,A.jsx)(s.Flex,{justifyContent:"end",mt:1,children:(0,A.jsx)(d.Button,{size:"sm",colorScheme:"brand",variant:"outline",onClick:()=>{He(!0),$e("floor")},children:"Show more"})}):""]})]})})}),(0,A.jsx)(s.GridItem,{colSpan:{base:12,md:6},children:(0,A.jsxs)(x.A,{children:[(0,A.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",gap:4,children:[(0,A.jsx)(s.GridItem,{colSpan:12,children:(0,A.jsxs)(s.Box,{children:[(0,A.jsxs)(s.Flex,{flexWrap:"wrap",mb:3,justifyContent:"space-between",alingItem:"center",children:[(0,A.jsx)(s.Heading,{size:"md",children:"Property Documents"}),(0,A.jsx)(d.Button,{size:"sm",variant:"brand",leftIcon:(0,A.jsx)(i.AddIcon,{}),onClick:()=>Oe(!0),children:"Add New"}),(0,A.jsx)(D,{text:"Property Documents",fetchData:tt,isOpen:Ge,onClose:Oe,id:pe.id})]}),(0,A.jsx)(p.E,{})]})}),(0,A.jsx)(s.GridItem,{colSpan:12,sx:{maxHeight:"200px",overflowX:"auto"},children:(null===me||void 0===me||null===(Z=me.propertyDocuments)||void 0===Z?void 0:Z.length)>0?me&&(null===me||void 0===me||null===(ee=me.propertyDocuments)||void 0===ee?void 0:ee.length)>0&&(null===me||void 0===me||null===(te=me.propertyDocuments)||void 0===te?void 0:te.map((e=>{const t=e.filename.split("."),n=t[t.length-1];return(0,A.jsxs)(s.Flex,{alignItems:"center",mt:"3",children:["xlsx"===n&&(0,A.jsx)(c._V,{src:P,boxSize:"50px"}),"jpg"===n&&(0,A.jsx)(c._V,{src:T,boxSize:"50px"}),"png"===n&&(0,A.jsx)(c._V,{src:V,boxSize:"50px"}),"pdf"===n&&(0,A.jsx)(c._V,{src:G,boxSize:"50px"}),"xls"===n&&(0,A.jsx)(c._V,{src:O,boxSize:"50px"}),"csv"===n&&(0,A.jsx)(c._V,{src:E,boxSize:"50px"}),!("xls"===n||"csv"===n||"png"===n||"pdf"===n||"xlsx"===n||"jpg"===n)&&(0,A.jsx)(c._V,{src:N,boxSize:"50px"}),(0,A.jsx)(s.Text,{ml:2,color:"green.400",onClick:()=>window.open(null===e||void 0===e?void 0:e.img),cursor:"pointer",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},children:e.filename})]})}))):(0,A.jsx)(s.Text,{textAlign:"center",width:"100%",color:he,fontSize:"sm",fontWeight:"700",children:(0,A.jsx)(k.A,{})})})]}),(null===me||void 0===me||null===(ne=me.propertyDocuments)||void 0===ne?void 0:ne.length)>0?(0,A.jsx)(s.Flex,{justifyContent:"end",mt:1,children:(0,A.jsx)(d.Button,{size:"sm",colorScheme:"brand",variant:"outline",onClick:()=>{Be(!0),$e("Doucument")},children:"Show more"})}):""]})})]})})]})]}),((null===nt||void 0===nt?void 0:nt.delete)||(null===nt||void 0===nt?void 0:nt.update)||"superAdmin"===(null===xe||void 0===xe?void 0:xe.role))&&(0,A.jsx)(x.A,{mt:3,children:(0,A.jsx)(s.Grid,{templateColumns:"repeat(6, 1fr)",gap:1,children:(0,A.jsx)(s.GridItem,{colStart:6,children:(0,A.jsxs)(s.Flex,{justifyContent:"right",children:[(null===nt||void 0===nt?void 0:nt.update)&&(0,A.jsx)(d.Button,{onClick:()=>Ie(!0),size:"sm",leftIcon:(0,A.jsx)(i.EditIcon,{}),mr:2.5,variant:"outline",colorScheme:"green",children:"Edit"}),(null===nt||void 0===nt?void 0:nt.delete)&&(0,A.jsx)(d.Button,{style:{background:"red.800"},size:"sm",onClick:()=>we(!0),leftIcon:(0,A.jsx)(i.DeleteIcon,{}),colorScheme:"red",children:"Delete"})]})})})})]}),(0,A.jsxs)(u.aF,{onClose:()=>He(!1),isOpen:We,children:[(0,A.jsx)(u.mH,{}),(0,A.jsxs)(u.$m,{maxWidth:"6xl",height:"750px",children:[(0,A.jsx)(u.rQ,{children:"photo"===Je?"Property All Photos":"video"===Je?"Virtual Tours or Videos":"floor"===Je?"Floors plans":""}),(0,A.jsx)(u.s_,{onClick:()=>He(!1)}),(0,A.jsx)(u.cw,{overflowY:"auto",height:"700px",children:(0,A.jsx)("div",{style:{columns:3},children:"photo"===Je?me&&(null===me||void 0===me||null===(ie=me.propertyPhotos)||void 0===ie?void 0:ie.length)>0&&(null===me||void 0===me||null===(le=me.propertyPhotos)||void 0===le?void 0:le.map((e=>(0,A.jsxs)("a",{href:e.img,target:"_blank",children:[" ",(0,A.jsx)(c._V,{width:"100%",m:1,mb:4,src:e.img,alt:"Your Image"})]})))):"video"===Je?me&&(null===me||void 0===me||null===(oe=me.virtualToursOrVideos)||void 0===oe?void 0:oe.length)>0&&(null===me||void 0===me||null===(se=me.virtualToursOrVideos)||void 0===se?void 0:se.map((e=>(0,A.jsx)("a",{href:e.img,target:"_blank",children:(0,A.jsxs)("video",{width:"380",controls:!0,autoplay:!0,loop:!0,style:{margin:" 5px"},children:[(0,A.jsx)("source",{src:e.img,type:"video/mp4"}),(0,A.jsx)("source",{src:e.img,type:"video/ogg"})]})})))):"floor"===Je?me&&(null===me||void 0===me||null===(re=me.floorPlans)||void 0===re?void 0:re.length)>0&&(null===me||void 0===me||null===(ae=me.floorPlans)||void 0===ae?void 0:ae.map((e=>(0,A.jsx)("a",{href:e.img,target:"_blank",children:(0,A.jsx)(c._V,{width:"100%",m:1,mb:4,src:e.img,alt:"Your Image"})})))):""})}),(0,A.jsx)(u.jl,{children:(0,A.jsx)(d.Button,{size:"sm",variant:"outline",colorScheme:"red",mr:2,onClick:()=>He(!1),children:"Close"})})]})]}),(0,A.jsxs)(u.aF,{onClose:()=>Be(!1),isOpen:De,children:[(0,A.jsx)(u.mH,{}),(0,A.jsxs)(u.$m,{maxWidth:"xl",height:"750px",children:[(0,A.jsx)(u.rQ,{children:"Property All Document"}),(0,A.jsx)(u.s_,{onClick:()=>Be(!1)}),(0,A.jsx)(u.cw,{overflowY:"auto",height:"700px",children:(null===me||void 0===me||null===(de=me.propertyDocuments)||void 0===de?void 0:de.length)>0?me&&(null===me||void 0===me||null===(ce=me.propertyDocuments)||void 0===ce?void 0:ce.length)>0&&(null===me||void 0===me||null===(ue=me.propertyDocuments)||void 0===ue?void 0:ue.map((e=>{const t=e.filename.split("."),n=t[t.length-1];return(0,A.jsxs)(s.Flex,{alignItems:"center",mt:"3",children:["xlsx"===n&&(0,A.jsx)(c._V,{src:P,boxSize:"50px"}),"jpg"===n&&(0,A.jsx)(c._V,{src:T,boxSize:"50px"}),"png"===n&&(0,A.jsx)(c._V,{src:V,boxSize:"50px"}),"pdf"===n&&(0,A.jsx)(c._V,{src:G,boxSize:"50px"}),"xls"===n&&(0,A.jsx)(c._V,{src:O,boxSize:"50px"}),"csv"===n&&(0,A.jsx)(c._V,{src:E,boxSize:"50px"}),!("xls"===n||"csv"===n||"png"===n||"pdf"===n||"xlsx"===n||"jpg"===n)&&(0,A.jsx)(c._V,{src:N,boxSize:"50px"}),(0,A.jsx)(s.Text,{ml:2,color:"green.400",onClick:()=>window.open(null===e||void 0===e?void 0:e.img),cursor:"pointer",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},children:e.filename})]})}))):(0,A.jsx)(s.Text,{textAlign:"center",width:"100%",color:he,fontSize:"sm",fontWeight:"700",children:(0,A.jsx)(k.A,{})})}),(0,A.jsx)(u.jl,{children:(0,A.jsx)(d.Button,{size:"sm",variant:"outline",colorScheme:"red",mr:2,onClick:()=>Be(!1),children:"Close"})})]})]})]})}},78858:(e,t,n)=>{n.d(t,{Kp:()=>B,T2:()=>k,oz:()=>_,tU:()=>F,wb:()=>D});var i=n(59522),l=n(23216),o=n(65043),s=n(1490),r=n(63830),a=n(19754),d=n(92006),c=n(90636);function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},u.apply(this,arguments)}function x(e,t){if(null==e)return{};var n,i,l={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(l[n]=e[n]);return l}var p=["defaultIndex","onChange","index","isManual","isLazy","lazyBehavior","orientation","direction"],h=["isDisabled","isFocusable"],m=["isSelected","id","children"],v=(0,r.D)(),j=v[0],f=v[1],g=v[2],b=v[3];var y=(0,c.q6)({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"}),S=y[0],I=y[1];function C(e,t){return e+"--tab-"+t}function w(e,t){return e+"--tabpanel-"+t}var z=["children","className"],A=["htmlProps","descendants"],F=(0,i.Rf)((function(e,t){var n=(0,i.o5)("Tabs",e),s=(0,i.MN)(e),r=s.children,d=s.className,c=function(e){var t=e.defaultIndex,n=e.onChange,i=e.index,l=e.isManual,s=e.isLazy,r=e.lazyBehavior,d=void 0===r?"unmount":r,c=e.orientation,u=void 0===c?"horizontal":c,h=e.direction,m=void 0===h?"ltr":h,v=x(e,p),j=o.useState(null!=t?t:0),f=j[0],b=j[1],y=(0,a.ic)({defaultValue:null!=t?t:0,value:i,onChange:n}),S=y[0],I=y[1];o.useEffect((function(){null!=i&&b(i)}),[i]);var C=g();return{id:(0,a.Bi)(e.id,"tabs"),selectedIndex:S,focusedIndex:f,setSelectedIndex:I,setFocusedIndex:b,isManual:l,isLazy:s,lazyBehavior:d,orientation:u,descendants:C,direction:m,htmlProps:v}}(x(s,z)),h=c.htmlProps,m=c.descendants,v=x(c,A),f=o.useMemo((function(){return v}),[v]),b=(0,l.cJ)(h,["isFitted"]);return o.createElement(j,{value:m},o.createElement(S,{value:f},o.createElement(i.W$,{value:n},o.createElement(i.Bv.div,u({className:(0,l.cx)("chakra-tabs",d),ref:t},b,{__css:n.root}),r))))}));l.gt&&(F.displayName="Tabs");var _=(0,i.Rf)((function(e,t){var n=(0,i.IS)(),r=function(e){var t=e.isDisabled,n=e.isFocusable,i=x(e,h),o=I(),r=o.setSelectedIndex,a=o.isManual,d=o.id,p=o.setFocusedIndex,m=o.selectedIndex,v=b({disabled:t&&!n}),j=v.index,f=v.register,g=j===m,y=(0,s.I)(u({},i,{ref:(0,c.Px)(f,e.ref),isDisabled:t,isFocusable:n,onClick:(0,l.Hj)(e.onClick,(function(){r(j)}))}));return u({},y,{id:C(d,j),role:"tab",tabIndex:g?0:-1,type:"button","aria-selected":g,"aria-controls":w(d,j),onFocus:t?void 0:(0,l.Hj)(e.onFocus,(function(){p(j),!a&&(!t||!n)&&r(j)}))})}(u({},e,{ref:t})),a=u({outline:"0",display:"flex",alignItems:"center",justifyContent:"center"},n.tab);return o.createElement(i.Bv.button,u({},r,{className:(0,l.cx)("chakra-tabs__tab",e.className),__css:a}))}));l.gt&&(_.displayName="Tab");var D=(0,i.Rf)((function(e,t){var n=function(e){var t=I(),n=t.focusedIndex,i=t.orientation,s=t.direction,r=f(),a=o.useCallback((function(e){var t,o=function(){var e=r.nextEnabled(n);e&&(0,l.XC)(e.node)},a=function(){var e=r.prevEnabled(n);e&&(0,l.XC)(e.node)},d="horizontal"===i,c="vertical"===i,u=(0,l.fw)(e),x="ltr"===s?"ArrowRight":"ArrowLeft",p=((t={})["ltr"===s?"ArrowLeft":"ArrowRight"]=function(){return d&&a()},t[x]=function(){return d&&o()},t.ArrowDown=function(){return c&&o()},t.ArrowUp=function(){return c&&a()},t.Home=function(){var e=r.firstEnabled();e&&(0,l.XC)(e.node)},t.End=function(){var e=r.lastEnabled();e&&(0,l.XC)(e.node)},t)[u];p&&(e.preventDefault(),p(e))}),[r,n,i,s]);return u({},e,{role:"tablist","aria-orientation":i,onKeyDown:(0,l.Hj)(e.onKeyDown,a)})}(u({},e,{ref:t})),s=u({display:"flex"},(0,i.IS)().tablist);return o.createElement(i.Bv.div,u({},n,{className:(0,l.cx)("chakra-tabs__tablist",e.className),__css:s}))}));l.gt&&(D.displayName="TabList");var B=(0,i.Rf)((function(e,t){var n=function(e){var t=e.isSelected,n=e.id,i=e.children,s=x(e,m),r=I(),a=r.isLazy,d=r.lazyBehavior,c=o.useRef(!1);return t&&(c.current=!0),u({tabIndex:0},s,{children:(0,l.YO)({hasBeenSelected:c.current,isSelected:t,isLazy:a,lazyBehavior:d})?i:null,role:"tabpanel",hidden:!t,id:n})}(u({},e,{ref:t})),s=(0,i.IS)();return o.createElement(i.Bv.div,u({outline:"0"},n,{className:(0,l.cx)("chakra-tabs__tab-panel",e.className),__css:s.tabpanel}))}));l.gt&&(B.displayName="TabPanel");var k=(0,i.Rf)((function(e,t){var n=function(e){var t=I(),n=t.id,i=t.selectedIndex;return u({},e,{children:(0,c.ag)(e.children).map((function(e,t){return o.cloneElement(e,{isSelected:t===i,id:w(n,t),"aria-labelledby":C(n,t)})}))})}(e),s=(0,i.IS)();return o.createElement(i.Bv.div,u({},n,{width:"100%",ref:t,className:(0,l.cx)("chakra-tabs__tab-panels",e.className),__css:s.tabpanels}))}));l.gt&&(k.displayName="TabPanels");var P=(0,i.Rf)((function(e,t){var n=function(){var e=I(),t=f(),n=e.selectedIndex,i=e.orientation,s="horizontal"===i,r="vertical"===i,a=o.useState((function(){return s?{left:0,width:0}:r?{top:0,height:0}:void 0})),c=a[0],x=a[1],p=o.useState(!1),h=p[0],m=p[1];return(0,d.a)((function(){if(!(0,l.b0)(n)){var e=t.item(n);if(!(0,l.b0)(e)){s&&x({left:e.node.offsetLeft,width:e.node.offsetWidth}),r&&x({top:e.node.offsetTop,height:e.node.offsetHeight});var i=requestAnimationFrame((function(){m(!0)}));return function(){i&&cancelAnimationFrame(i)}}}}),[n,s,r,t]),u({position:"absolute",transitionProperty:"left, right, top, bottom, height, width",transitionDuration:h?"200ms":"0ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"},c)}(),s=u({},e.style,n),r=(0,i.IS)();return o.createElement(i.Bv.div,u({ref:t},e,{className:(0,l.cx)("chakra-tabs__tab-indicator",e.className),style:s,__css:r.indicator}))}));l.gt&&(P.displayName="TabIndicator")}}]);
//# sourceMappingURL=9831.b37a6663.chunk.js.map