"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[8195],{10708:(e,l,o)=>{o.d(l,{A:()=>p});var i=o(89379),n=o(14034),t=o(40848),d=o(22554),a=o(4450),s=o(19488),r=o(63516),c=o(65043),u=o(73216),v=o(66305),m=o(22030),h=o(80899),x=o(48908),j=o(70579);const p=e=>{var l,o;const{data:p}=e,[f,g]=(0,c.useState)(!1),b=Object.fromEntries(((null===e||void 0===e||null===(l=e.contactData)||void 0===l?void 0:l.fields)||[]).map((e=>[null===e||void 0===e?void 0:e.name,""]))),[y,S]=(0,c.useState)((0,i.A)((0,i.A)({},b),{},{createBy:JSON.parse(localStorage.getItem("user"))._id})),C=(0,u.g)(),w=(0,r.Wx)({initialValues:y,enableReinitialize:!0,validationSchema:h.Ik().shape((0,m.g)(null===e||void 0===e||null===(o=e.contactData)||void 0===o?void 0:o.fields)),onSubmit:(e,l)=>{let{resetForm:o}=l;B()}}),{errors:A,touched:I,values:D,handleBlur:k,handleChange:z,handleSubmit:H,setFieldValue:T}=w,B=async()=>{try{g(!0),200===(await(0,v.yP)("api/form/edit/".concat((null===e||void 0===e?void 0:e.selectedId)||C.id),(0,i.A)((0,i.A)({},D),{},{moduleId:null===e||void 0===e?void 0:e.moduleId}))).status&&(e.onClose(),e.setAction((e=>!e)))}catch(l){console.log(l)}finally{g(!1)}},N=()=>{e.onClose(!1),e.setSelectedId&&(null===e||void 0===e||e.setSelectedId())};let O;return(0,c.useEffect)((()=>{(async()=>{if(p)S((e=>(0,i.A)((0,i.A)({},e),p)));else if(null!==e&&void 0!==e&&e.selectedId||C.id)try{g(!0),O=await(0,v.x4)("api/contact/view/",null!==e&&void 0!==e&&e.selectedId?null===e||void 0===e?void 0:e.selectedId:C.id),S((e=>{var l,o;return(0,i.A)((0,i.A)({},e),null===(l=O)||void 0===l||null===(o=l.data)||void 0===o?void 0:o.contact)}))}catch(l){console.error(l)}finally{g(!1)}})()}),[null===e||void 0===e?void 0:e.selectedId,p]),(0,j.jsx)("div",{children:(0,j.jsxs)(t._s,{isOpen:e.isOpen,size:e.size,children:[(0,j.jsx)(t.QP,{}),(0,j.jsxs)(t.zj,{children:[(0,j.jsxs)(t.BE,{alignItems:"center",justifyContent:"space-between",display:"flex",children:["Edit Contact",(0,j.jsx)(d.IconButton,{onClick:N,icon:(0,j.jsx)(n.CloseIcon,{})})]}),(0,j.jsx)(t.ys,{children:f?(0,j.jsx)(a.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,j.jsx)(s.A,{})}):(0,j.jsx)(x.A,{moduleData:e.contactData,values:D,setFieldValue:T,handleChange:z,handleBlur:k,errors:A,touched:I})}),(0,j.jsxs)(t.tb,{children:[(0,j.jsx)(d.Button,{sx:{textTransform:"capitalize"},variant:"brand",type:"submit",size:"sm",disabled:!!f,onClick:H,children:f?(0,j.jsx)(s.A,{}):"Update"}),(0,j.jsx)(d.Button,{variant:"outline",colorScheme:"red",size:"sm",sx:{marginLeft:2,textTransform:"capitalize"},onClick:N,children:"Close"})]})]})]})})}},40265:(e,l,o)=>{o.d(l,{A:()=>x});var i=o(89379),n=o(14034),t=o(40848),d=o(22554),a=o(19488),s=o(63516),r=o(65043),c=o(66305),u=o(22030),v=o(48908),m=o(80899),h=o(70579);const x=e=>{var l,o;const[x,j]=(0,r.useState)(!1),p=Object.fromEntries(((null===e||void 0===e||null===(l=e.contactData)||void 0===l?void 0:l.fields)||[]).map((e=>[null===e||void 0===e?void 0:e.name,""]))),f=(0,i.A)((0,i.A)({},p),{},{createBy:JSON.parse(localStorage.getItem("user"))._id}),g=(0,s.Wx)({initialValues:f,validationSchema:m.Ik().shape((0,u.g)(null===e||void 0===e||null===(o=e.contactData)||void 0===o?void 0:o.fields)),onSubmit:(e,l)=>{let{resetForm:o}=l;D(),o()}}),{errors:b,touched:y,values:S,handleBlur:C,handleChange:w,handleSubmit:A,setFieldValue:I}=g,D=async()=>{try{var l;j(!0),200===(await(0,c.d_)("api/form/add",(0,i.A)((0,i.A)({},S),{},{moduleId:null===e||void 0===e||null===(l=e.contactData)||void 0===l?void 0:l._id}))).status&&(e.onClose(),e.setAction((e=>!e)))}catch(o){console.log(o)}finally{j(!1)}};return(0,h.jsx)("div",{children:(0,h.jsxs)(t._s,{isOpen:e.isOpen,size:e.size,children:[(0,h.jsx)(t.QP,{}),(0,h.jsxs)(t.zj,{children:[(0,h.jsxs)(t.BE,{alignItems:"center",justifyContent:"space-between",display:"flex",children:["Add Contact",(0,h.jsx)(d.IconButton,{onClick:e.onClose,icon:(0,h.jsx)(n.CloseIcon,{})})]}),(0,h.jsx)(t.ys,{children:(0,h.jsx)(v.A,{moduleData:e.contactData,values:S,setFieldValue:I,handleChange:w,handleBlur:C,errors:b,touched:y})}),(0,h.jsxs)(t.tb,{children:[(0,h.jsx)(d.Button,{sx:{textTransform:"capitalize"},variant:"brand",disabled:!!x,type:"submit",size:"sm",onClick:A,children:x?(0,h.jsx)(a.A,{}):"Save"}),(0,h.jsx)(d.Button,{variant:"outline",colorScheme:"red",size:"sm",sx:{marginLeft:2,textTransform:"capitalize"},onClick:()=>{g.resetForm(),e.onClose()},children:"Close"})]})]})]})})}},78195:(e,l,o)=>{o.r(l),o.d(l,{default:()=>$});var i=o(14034),n=o(31206),t=o(19754),d=o(4450),a=o(78858),s=o(85376),r=o(22554),c=o(20962),u=o(10216),v=o(63994),m=o(19488),h=o(62770),x=o(65043),j=o(67805),p=o(2127),f=o(85369),g=o(34960),b=o(89271),y=o(73216),S=o(35475),C=o(42145),w=o(66305),A=o(6),I=o(47936),D=o(9250),k=o(40265),z=o(10708),H=(o(14406),o(40848)),T=o(53288),B=o(97508),N=o(88031),O=o(33915),G=o(70579);const F=e=>{var l,o;const{onClose:i,isOpen:n,fetchData:t,id:a,interestProperty:s}=e,[c,u]=(0,x.useState)([]),[v,h]=(0,x.useState)(!1),[j,p]=(0,x.useState)([]),[f,g]=(0,x.useState)([]),b=(0,B.wA)(),y=(0,B.d4)((e=>e.propertyData.data)),S=[...new Set(c)];return(0,x.useEffect)((()=>{b((0,T.g)()),(async()=>{var e,l,o,i,n,t;h(!0);const d=await b((0,O.R)());p(null===d||void 0===d||null===(e=d.payload)||void 0===e?void 0:e.data);const a=[{Header:"#",accessor:"_id",isSortable:!1,width:10},...null===d||void 0===d||null===(l=d.payload)||void 0===l||null===(o=l.data)||void 0===o||null===(i=o[0])||void 0===i||null===(n=i.fields)||void 0===n||null===(t=n.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||void 0===t?void 0:t.map((e=>({Header:null===e||void 0===e?void 0:e.label,accessor:null===e||void 0===e?void 0:e.name})))];g(a),h(!1)})()}),[]),(0,x.useEffect)((()=>{null===s||void 0===s||s.map((e=>u((l=>[...l,e]))))}),[s]),(0,G.jsxs)(H.aF,{onClose:i,size:"full",isOpen:n,children:[(0,G.jsx)(H.mH,{}),(0,G.jsxs)(H.$m,{children:[(0,G.jsx)(H.rQ,{children:"Select Interested Property"}),(0,G.jsx)(H.s_,{}),(0,G.jsx)(H.cw,{children:v?(0,G.jsx)(d.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,G.jsx)(m.A,{})}):(0,G.jsx)(N.A,{title:"Properties",isLoding:v,columnData:null!==f&&void 0!==f?f:[],allData:null!==y&&void 0!==y?y:[],tableData:y,tableCustomFields:(null===j||void 0===j||null===(l=j[0])||void 0===l||null===(o=l.fields)||void 0===o?void 0:o.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||[],AdvanceSearch:()=>"",ManageGrid:!1,deleteMany:!1,selectedValues:c,setSelectedValues:u,selectType:"multiple",customSearch:!1})}),(0,G.jsxs)(H.jl,{children:[(0,G.jsxs)(r.Button,{size:"sm",variant:"brand",onClick:async()=>{try{h(!0);let e=await(0,w.d_)("api/contact/add-property-interest/".concat(a),S);e&&200===e.status&&(t(),i())}catch(e){console.log(e)}finally{h(!1)}},disabled:!!v,children:[" ",v?(0,G.jsx)(m.A,{}):"Save"]}),(0,G.jsx)(r.Button,{size:"sm",sx:{marginLeft:2,textTransform:"capitalize"},variant:"outline",colorScheme:"red",onClick:()=>i(),children:"Close"})]})]})]})};o(71094),o(78152);var P=o(52853);var E=o(95574),_=o(99702),M=o(98618),W=o(48177),L=o(86178),R=o.n(L),V=o(1887),q=o(20850),U=o(90074),Q=o.n(U),K=o(2096),Y=o(24450);const $=()=>{var e,l,o,H,T,L,U,$,J,Z,X,ee,le,oe,ie,ne,te,de,ae,se,re,ce,ue,ve,me,he,xe,je,pe,fe,ge,be,ye,Se,Ce;const we=(0,y.g)(),Ae=(0,n.dU)("gray.500","white"),Ie=JSON.parse(localStorage.getItem("user")),De=(0,n.dU)("gray.200","white"),[ke,ze]=(0,x.useState)([]),[He,Te]=(0,x.useState)([]),{isOpen:Be,onOpen:Ne,onClose:Oe}=(0,t.j1)(),[Ge,Fe]=(0,x.useState)(!1),[Pe,Ee]=(0,x.useState)(!1),[_e,Me]=(0,x.useState)(!1),[We,Le]=(0,x.useState)(!1),[Re,Ve]=(0,x.useState)(!1),[qe,Ue]=(0,x.useState)(!1),[Qe,Ke]=(0,x.useState)(!1),[Ye,$e]=(0,x.useState)(!1),[Je,Ze]=(0,x.useState)(!1),[Xe,el]=(0,x.useState)(!1),[ll,ol]=(0,x.useState)(!1),[il,nl]=(0,x.useState)(!1),[tl,dl]=(0,x.useState)(!1),[al,sl]=(0,x.useState)(!1),[rl,cl]=(0,x.useState)(!1),[ul,vl]=(0,x.useState)(!1),[ml,hl]=(0,x.useState)(!1),[xl,jl]=(0,x.useState)(!1),[pl,fl]=(0,x.useState)(0),gl=(0,y.Zp)(),bl=(0,B.wA)(),yl=(0,B.d4)((e=>{var l,o;return null===e||void 0===e||null===(l=e.contactCustomFiled)||void 0===l||null===(o=l.data)||void 0===o?void 0:o.data})),[Sl,Cl]=(0,x.useState)([]),[wl,Al]=(0,x.useState)([]),[Il,Dl,kl,zl,Hl,Tl,Bl,Nl]=(0,E.h)(["Contacts","Calls","Emails","Tasks","Meetings","Quotes","Invoices","Account"]),Ol=[{Header:"sender",accessor:"senderName"},{Header:"recipient",accessor:"createByName",cell:e=>{var l,o;return(0,G.jsx)(S.N_,{to:"/Email/".concat(null===e||void 0===e||null===(l=e.row)||void 0===l||null===(o=l.original)||void 0===o?void 0:o._id),children:(0,G.jsx)(d.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e?void 0:e.value)||"-"})})}},{Header:"time stamp",accessor:"timestamp",cell:e=>(0,G.jsx)("div",{className:"selectOpt",children:(0,G.jsx)(d.Text,{color:Ae,fontSize:"sm",fontWeight:"700",children:R()(null===e||void 0===e?void 0:e.value).fromNow()})})},{Header:"Created",accessor:"createBy",cell:e=>{var l;return(0,G.jsx)("div",{className:"selectOpt",children:(0,G.jsx)(d.Text,{color:Ae,fontSize:"sm",fontWeight:"700",children:R()(null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.values.timestamp).format("h:mma (DD/MM)")})})}}],Gl=[{Header:"sender",accessor:"senderName"},{Header:"recipient",accessor:"createByName",cell:e=>{var l,o;return(0,G.jsx)(S.N_,{to:"/phone-call/".concat(null===e||void 0===e||null===(l=e.row)||void 0===l||null===(o=l.original)||void 0===o?void 0:o._id),children:(0,G.jsx)(d.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e?void 0:e.value)||"-"})})}},{Header:"time stamp",accessor:"timestamp",cell:e=>(0,G.jsx)("div",{className:"selectOpt",children:(0,G.jsx)(d.Text,{color:Ae,fontSize:"sm",fontWeight:"700",children:R()(null===e||void 0===e?void 0:e.value).fromNow()})})},{Header:"Created",accessor:"createBy",cell:e=>{var l;return(0,G.jsx)("div",{className:"selectOpt",children:(0,G.jsx)(d.Text,{color:Ae,fontSize:"sm",fontWeight:"700",children:R()(null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.values.timestamp).format("h:mma (DD/MM)")})})}}],Fl=[{Header:"agenda",accessor:"agenda",cell:e=>{var l,o;return(0,G.jsx)(S.N_,{to:"/metting/".concat(null===e||void 0===e||null===(l=e.row)||void 0===l||null===(o=l.original)||void 0===o?void 0:o._id),children:(0,G.jsx)(d.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e?void 0:e.value)||"-"})})}},{Header:"date Time",accessor:"dateTime"},{Header:"times tamp",accessor:"timestamp",cell:e=>(0,G.jsx)("div",{className:"selectOpt",children:(0,G.jsx)(d.Text,{color:Ae,fontSize:"sm",fontWeight:"700",children:R()(null===e||void 0===e?void 0:e.value).fromNow()})})},{Header:"create By",accessor:"createdByName"}],Pl=[{Header:"Quote Number",accessor:"quoteNumber",isSortable:!1,width:10},{Header:"Title",accessor:"title",cell:e=>(0,G.jsx)("div",{className:"selectOpt",children:(0,G.jsx)(d.Text,{onClick:()=>{var l;return gl("/quotesView/".concat(null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.original._id))},me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"},cursor:"pointer"},color:"brand.600",fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value})})},{Header:"Quote Stage",accessor:"quoteStage"},{Header:"Contact",accessor:"contact",cell:e=>{var l,o,i,n;return(0,G.jsx)(d.Text,{children:null!==e&&void 0!==e&&null!==(l=e.row)&&void 0!==l&&null!==(o=l.original)&&void 0!==o&&o.contactName?null===e||void 0===e||null===(i=e.row)||void 0===i||null===(n=i.original)||void 0===n?void 0:n.contactName:"-"})}},{Header:"Account",accessor:"account",cell:e=>{var l,o,i,n,t,a,s,r;return"superAdmin"===Ie.role||null!==Nl&&void 0!==Nl&&Nl.view?(0,G.jsx)("div",{className:"selectOpt",children:(0,G.jsx)(d.Text,{onClick:()=>{var l,o;return gl(null!==(null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.original.account)&&"/accountView/".concat(null===e||void 0===e||null===(o=e.row)||void 0===o?void 0:o.original.account))},me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"},cursor:"pointer"},color:"brand.600",fontSize:"sm",fontWeight:"700",children:null!==e&&void 0!==e&&null!==(l=e.row)&&void 0!==l&&null!==(o=l.original)&&void 0!==o&&o.accountName?null===e||void 0===e||null===(i=e.row)||void 0===i||null===(n=i.original)||void 0===n?void 0:n.accountName:"-"})}):(0,G.jsx)(d.Text,{children:null!==e&&void 0!==e&&null!==(t=e.row)&&void 0!==t&&null!==(a=t.original)&&void 0!==a&&a.accountName?null===e||void 0===e||null===(s=e.row)||void 0===s||null===(r=s.original)||void 0===r?void 0:r.accountName:"-"})}},{Header:"Grand Total",accessor:"grandTotal",cell:e=>{var l,o,i,n;return(0,G.jsx)("div",{className:"selectOpt",children:(0,G.jsx)(d.Text,{children:null!==e&&void 0!==e&&null!==(l=e.row)&&void 0!==l&&null!==(o=l.original)&&void 0!==o&&o.grandTotal?"$".concat(null===e||void 0===e||null===(i=e.row)||void 0===i||null===(n=i.original)||void 0===n?void 0:n.grandTotal):"-"})})}},{Header:"valid Until",accessor:"validUntil"}],El=[{Header:"Invoice Number",accessor:"invoiceNumber",isSortable:!1,width:10},{Header:"Title",accessor:"title",cell:e=>(0,G.jsx)("div",{className:"selectOpt",children:(0,G.jsx)(d.Text,{onClick:()=>{var l;return gl("/invoicesView/".concat(null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.original._id))},me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"},cursor:"pointer"},color:"brand.600",fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value})})},{Header:"Status",accessor:"status"},{Header:"Contact",accessor:"contact",cell:e=>{var l,o,i,n;return(0,G.jsx)(d.Text,{children:null!==e&&void 0!==e&&null!==(l=e.row)&&void 0!==l&&null!==(o=l.original)&&void 0!==o&&o.contactName?null===e||void 0===e||null===(i=e.row)||void 0===i||null===(n=i.original)||void 0===n?void 0:n.contactName:"-"})}},{Header:"Account",accessor:"account",cell:e=>{var l,o,i,n,t,a,s,r;return"superAdmin"===Ie.role||null!==Nl&&void 0!==Nl&&Nl.view?(0,G.jsx)("div",{className:"selectOpt",children:(0,G.jsx)(d.Text,{onClick:()=>{var l,o;return gl(null!==(null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.original.account)&&"/accountView/".concat(null===e||void 0===e||null===(o=e.row)||void 0===o?void 0:o.original.account))},me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"},cursor:"pointer"},color:"brand.600",fontSize:"sm",fontWeight:"700",children:null!==e&&void 0!==e&&null!==(l=e.row)&&void 0!==l&&null!==(o=l.original)&&void 0!==o&&o.accountName?null===e||void 0===e||null===(i=e.row)||void 0===i||null===(n=i.original)||void 0===n?void 0:n.accountName:"-"})}):(0,G.jsx)(d.Text,{children:null!==e&&void 0!==e&&null!==(t=e.row)&&void 0!==t&&null!==(a=t.original)&&void 0!==a&&a.accountName?null===e||void 0===e||null===(s=e.row)||void 0===s||null===(r=s.original)||void 0===r?void 0:r.accountName:"-"})}},{Header:"Grand Total",accessor:"grandTotal",cell:e=>{var l,o,i,n;return(0,G.jsx)("div",{className:"selectOpt",children:(0,G.jsx)(d.Text,{children:null!==e&&void 0!==e&&null!==(l=e.row)&&void 0!==l&&null!==(o=l.original)&&void 0!==o&&o.grandTotal?"$".concat(null===e||void 0===e||null===(i=e.row)||void 0===i||null===(n=i.original)||void 0===n?void 0:n.grandTotal):"-"})})}}],_l=[{Header:"Title",accessor:"title",cell:e=>{var l,o;return(0,G.jsx)(S.N_,{to:"/view/".concat(null===e||void 0===e||null===(l=e.row)||void 0===l||null===(o=l.original)||void 0===o?void 0:o._id),children:(0,G.jsx)(d.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e?void 0:e.value)||"-"})})}},{Header:"Category",accessor:"category"},{Header:"Assign To",accessor:"assignToName"},{Header:"Start Date",accessor:"start"},{Header:"End Date",accessor:"end"}],Ml=async e=>{if(e){let l=await(0,w.x4)("api/document/download/",e);l&&200===l.status?(window.open("".concat(h.d.baseUrl,"api/document/download/").concat(e)),C.oR.success("file Download successful")):l&&404===l.response.status&&C.oR.error("file Not Found")}},Wl=async e=>{var l;Le(!0);let o=await(0,w.x4)("api/contact/view/",we.id);ze(null===(l=o.data)||void 0===l?void 0:l.contact),Te(null===o||void 0===o?void 0:o.data),Le(!1),fl(e)};(0,x.useEffect)((()=>{Wl()}),[Re]),(0,x.useEffect)((()=>{(async()=>{var e,l,o,i,n,t;Le(!0);const d=await bl((0,O.R)());Cl(null===d||void 0===d||null===(e=d.payload)||void 0===e?void 0:e.data);const a=[{Header:"#",accessor:"_id",isSortable:!1,width:10},...null===d||void 0===d||null===(l=d.payload)||void 0===l||null===(o=l.data)||void 0===o||null===(i=o[0])||void 0===i||null===(n=i.fields)||void 0===n||null===(t=n.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||void 0===t?void 0:t.map((e=>({Header:null===e||void 0===e?void 0:e.label,accessor:null===e||void 0===e?void 0:e.name})))];Al(a),Le(!1)})()}),[]),(0,x.useEffect)((()=>{bl((0,q.I)())}),[]);const Ll=null===Object||void 0===Object?void 0:Object.values(we)[0],Rl=null===Ll||void 0===Ll?void 0:Ll.split("/");return(0,G.jsxs)(G.Fragment,{children:[We?(0,G.jsx)(d.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,G.jsx)(m.A,{})}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(d.Heading,{size:"lg",mt:0,m:3,children:(null===ke||void 0===ke?void 0:ke.fullName)||""}),(0,G.jsxs)(a.tU,{onChange:e=>{fl(e)},index:pl,children:[(0,G.jsxs)(d.Grid,{templateColumns:"repeat(12, 1fr)",mb:3,gap:1,children:[(0,G.jsx)(d.GridItem,{colSpan:{base:12,md:6},children:(0,G.jsxs)(a.wb,{sx:{width:"100%",overflowX:"auto",border:"none","& button:focus":{boxShadow:"none"},"& button":{margin:{sm:"0 3px",md:"0 5px"},padding:{sm:"5px",md:"8px"},fontSize:{sm:"12px",md:"16px"},border:"2px solid #8080803d",borderTopLeftRadius:"10px",borderTopRightRadius:"10px",borderBottom:0},'& button[aria-selected="true"]':{border:"2px solid brand.200",borderBottom:0,zIndex:"0"}},children:[(0,G.jsx)(a.oz,{children:"Information"}),((null===kl||void 0===kl?void 0:kl.view)||(null===Dl||void 0===Dl?void 0:Dl.view)||(null===zl||void 0===zl?void 0:zl.view)||(null===Hl||void 0===Hl?void 0:Hl.view))&&(0,G.jsx)(a.oz,{children:" Communication"}),(0,G.jsx)(a.oz,{children:"Document"})]})}),(0,G.jsx)(d.GridItem,{colSpan:{base:12,md:6},mt:{sm:"3px",md:"5px"},children:(0,G.jsxs)(d.Flex,{justifyContent:"right",children:[(0,G.jsxs)(s.W1,{children:[("superAdmin"===Ie.role||(null===Il||void 0===Il?void 0:Il.create)||(null===Il||void 0===Il?void 0:Il.update)||(null===Il||void 0===Il?void 0:Il.delete))&&(0,G.jsx)(s.IU,{size:"sm",variant:"outline",colorScheme:"blackAlpha",va:!0,mr:2.5,as:r.Button,rightIcon:(0,G.jsx)(i.ChevronDownIcon,{}),children:"Actions"}),(0,G.jsx)(s.Nj,{}),(0,G.jsxs)(s.cO,{minWidth:2,zIndex:"99",children:[("superAdmin"===Ie.role||(null===Il||void 0===Il?void 0:Il.create))&&(0,G.jsx)(s.Dr,{alignItems:"start",onClick:()=>Ne(),color:"blue",icon:(0,G.jsx)(i.AddIcon,{}),children:"Add"}),("superAdmin"===Ie.role||(null===Il||void 0===Il?void 0:Il.update))&&(0,G.jsx)(s.Dr,{alignItems:"start",onClick:()=>Fe(!0),icon:(0,G.jsx)(i.EditIcon,{}),children:"Edit"}),(0,G.jsx)(s.Dr,{onClick:()=>{const e=document.getElementById("reports");e?(e.style.display="block",e.style.width="100%",e.style.height="auto",Q()().from(e).set({margin:[0,0,0,0],filename:"Contact_Details_".concat(R()().format("DD-MM-YYYY"),".pdf"),image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,allowTaint:!0},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}}).save().then((()=>{e.style.display=""}))):console.error("Element with ID 'reports' not found.")},alignItems:"start",icon:(0,G.jsx)(f.kl1,{}),display:"flex",style:{alignItems:"center"},children:"Print as PDF"}),("superAdmin"===Ie.role||(null===Il||void 0===Il?void 0:Il.delete))&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(s.Nj,{}),(0,G.jsx)(s.Dr,{alignItems:"start",onClick:()=>Ee(!0),color:"red",icon:(0,G.jsx)(i.DeleteIcon,{}),children:"Delete"})]})]})]}),(0,G.jsx)(S.N_,{to:"/contacts",children:(0,G.jsx)(r.Button,{leftIcon:(0,G.jsx)(g.m6W,{}),size:"sm",variant:"brand",children:"Back"})})]})})]}),(0,G.jsxs)(a.T2,{children:[(0,G.jsxs)(a.Kp,{pt:4,p:0,children:[(0,G.jsx)(_.A,{data:null===yl||void 0===yl?void 0:yl[0],fieldData:ke,toCamelCase:function(e){return null===e||void 0===e?void 0:e.replace(/([a-z])([A-Z])/g,"$1 $2")},moduleId:null===yl||void 0===yl||null===(e=yl[0])||void 0===e?void 0:e._id,fetchData:Wl,id:"reports"}),(0,G.jsx)(d.GridItem,{colSpan:{base:12},mt:4,children:(0,G.jsx)(u.A,{children:(0,G.jsx)(d.Grid,{templateColumns:{base:"1fr"},gap:4,children:(0,G.jsxs)(d.GridItem,{colSpan:2,children:[(0,G.jsx)(d.Box,{children:(0,G.jsxs)(d.Flex,{alignItems:"center",mb:2,justifyContent:"space-between",children:[(0,G.jsxs)(d.Heading,{size:"md",children:["Property of Interest (",null===He||void 0===He||null===(l=He.interestProperty)||void 0===l||null===(o=l.interestProperty)||void 0===o?void 0:o.length,")"]}),(0,G.jsx)(r.Button,{onClick:()=>Me(!0),leftIcon:(0,G.jsx)(b.MbK,{}),size:"sm",colorScheme:"gray",bg:De,children:"Select Interested Property  "})]})}),(0,G.jsx)(d.Grid,{templateColumns:"repeat(2, 1fr)",gap:4,children:(0,G.jsx)(d.GridItem,{colSpan:{base:2},children:(0,G.jsx)(N.A,{isLoding:We,columnData:null!==wl&&void 0!==wl?wl:[],dataColumn:null!==wl&&void 0!==wl?wl:[],allData:(null===He||void 0===He||null===(H=He.interestProperty)||void 0===H?void 0:H.interestProperty)||[],tableData:(null===He||void 0===He||null===(T=He.interestProperty)||void 0===T?void 0:T.interestProperty)||[],tableCustomFields:(null===Sl||void 0===Sl||null===(L=Sl[0])||void 0===L||null===(U=L.fields)||void 0===U?void 0:U.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||[],AdvanceSearch:()=>"",ManageGrid:!1,deleteMany:!1,selectType:"multiple",customSearch:!1,checkBox:!1})})})]})})})})]}),(0,G.jsx)(a.Kp,{pt:4,p:0,children:(0,G.jsx)(d.GridItem,{colSpan:{base:12},children:(0,G.jsx)(d.Grid,{templateColumns:{base:"1fr"},gap:4,children:(0,G.jsxs)(d.Grid,{templateColumns:"repeat(12, 1fr)",gap:4,children:[(null===kl||void 0===kl?void 0:kl.view)&&(0,G.jsx)(d.GridItem,{colSpan:{base:12,md:6},children:(0,G.jsxs)(u.A,{overflow:"scroll",children:[(0,G.jsx)(N.A,{title:"Email",isLoding:We,columnData:null!==Ol&&void 0!==Ol?Ol:[],allData:il?He.EmailHistory:(null===He||void 0===He||null===($=He.EmailHistory)||void 0===$?void 0:$.length)>0?[He.EmailHistory[0]]:[],tableData:il?He.EmailHistory:(null===He||void 0===He||null===(J=He.EmailHistory)||void 0===J?void 0:J.length)>0?[He.EmailHistory[0]]:[],AdvanceSearch:!1,dataLength:null===He||void 0===He||null===(Z=He.EmailHistory)||void 0===Z?void 0:Z.length,tableCustomFields:[],checkBox:!1,deleteMany:!0,ManageGrid:!1,onOpen:()=>Ke(!0),access:kl}),(null===He||void 0===He||null===(X=He.EmailHistory)||void 0===X?void 0:X.length)>1&&(0,G.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:(0,G.jsx)(r.Button,{colorScheme:"brand",variant:"outline",size:"sm",display:"flex",justifyContant:"end",onClick:()=>nl(!il),children:il?"Show less":"Show more"})})]})}),(null===Dl||void 0===Dl?void 0:Dl.view)&&(0,G.jsx)(d.GridItem,{colSpan:{base:12,md:6},children:(0,G.jsxs)(u.A,{overflow:"scroll",children:[(0,G.jsx)(N.A,{title:"Call",isLoding:We,columnData:null!==Gl&&void 0!==Gl?Gl:[],allData:tl?null===He||void 0===He?void 0:He.phoneCallHistory:(null===He||void 0===He||null===(ee=He.phoneCallHistory)||void 0===ee?void 0:ee.length)>0?[null===He||void 0===He?void 0:He.phoneCallHistory[0]]:[],tableData:tl?null===He||void 0===He?void 0:He.phoneCallHistory:(null===He||void 0===He||null===(le=He.phoneCallHistory)||void 0===le?void 0:le.length)>0?[null===He||void 0===He?void 0:He.phoneCallHistory[0]]:[],AdvanceSearch:!1,tableCustomFields:[],dataLength:null===He||void 0===He||null===(oe=He.phoneCallHistory)||void 0===oe?void 0:oe.length,checkBox:!1,deleteMany:!0,ManageGrid:!1,onOpen:()=>$e(!0),access:Dl}),(null===He||void 0===He||null===(ie=He.phoneCallHistory)||void 0===ie?void 0:ie.length)>1&&(0,G.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:(0,G.jsx)(r.Button,{colorScheme:"brand",variant:"outline",size:"sm",display:"flex",justifyContant:"end",onClick:()=>dl(!tl),children:tl?"Show less":"Show more"})})]})}),(null===zl||void 0===zl?void 0:zl.view)&&(0,G.jsx)(d.GridItem,{colSpan:{base:12,md:6},children:(0,G.jsxs)(u.A,{overflow:"scroll",children:[(0,G.jsx)(N.A,{title:"Task",isLoding:We,columnData:null!==_l&&void 0!==_l?_l:[],allData:al?null===He||void 0===He?void 0:He.task:(null===He||void 0===He||null===(ne=He.task)||void 0===ne?void 0:ne.length)>0?[null===He||void 0===He?void 0:He.task[0]]:[],tableData:al?null===He||void 0===He?void 0:He.task:(null===He||void 0===He||null===(te=He.task)||void 0===te?void 0:te.length)>0?[null===He||void 0===He?void 0:He.task[0]]:[],AdvanceSearch:!1,dataLength:null===He||void 0===He||null===(de=He.task)||void 0===de?void 0:de.length,tableCustomFields:[],checkBox:!1,deleteMany:!0,ManageGrid:!1,onOpen:()=>Ue(!0),access:zl}),(null===He||void 0===He||null===(ae=He.task)||void 0===ae?void 0:ae.length)>1&&(0,G.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:(0,G.jsx)(r.Button,{colorScheme:"brand",variant:"outline",size:"sm",display:"flex",justifyContant:"end",onClick:()=>sl(!al),children:al?"Show less":"Show more"})})]})}),(null===Hl||void 0===Hl?void 0:Hl.view)&&(0,G.jsx)(d.GridItem,{colSpan:{base:12,md:6},children:(0,G.jsxs)(u.A,{overflow:"scroll",children:[(0,G.jsx)(N.A,{title:"Meeting",isLoding:We,columnData:null!==Fl&&void 0!==Fl?Fl:[],dataLength:null===He||void 0===He||null===(se=He.meetingHistory)||void 0===se?void 0:se.length,allData:rl?null===He||void 0===He?void 0:He.meetingHistory:(null===He||void 0===He||null===(re=He.meetingHistory)||void 0===re?void 0:re.length)>0?[null===He||void 0===He?void 0:He.meetingHistory[0]]:[],tableData:rl?null===He||void 0===He?void 0:He.meetingHistory:(null===He||void 0===He||null===(ce=He.meetingHistory)||void 0===ce?void 0:ce.length)>0?[null===He||void 0===He?void 0:He.meetingHistory[0]]:[],AdvanceSearch:!1,tableCustomFields:[],checkBox:!1,deleteMany:!0,ManageGrid:!1,onOpen:()=>ol(!0),access:Hl}),(null===He||void 0===He||null===(ue=He.meetingHistory)||void 0===ue?void 0:ue.length)>1&&(0,G.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:(0,G.jsx)(r.Button,{colorScheme:"brand",size:"sm",variant:"outline",display:"flex",justifyContant:"end",onClick:()=>cl(!rl),children:rl?"Show less":"Show more"})})]})}),(null===Tl||void 0===Tl?void 0:Tl.view)&&(0,G.jsx)(d.GridItem,{colSpan:{base:12,md:6},children:(0,G.jsxs)(u.A,{overflow:"scroll",children:[(0,G.jsx)(N.A,{title:"Quotes",isLoding:We,columnData:null!==Pl&&void 0!==Pl?Pl:[],dataLength:null===He||void 0===He||null===(ve=He.quotes)||void 0===ve?void 0:ve.length,allData:ul?null===He||void 0===He?void 0:He.quotes:(null===He||void 0===He||null===(me=He.quotes)||void 0===me?void 0:me.length)>0?[null===He||void 0===He?void 0:He.quotes[0]]:[],tableData:ul?null===He||void 0===He?void 0:He.quotes:(null===He||void 0===He||null===(he=He.quotes)||void 0===he?void 0:he.length)>0?[null===He||void 0===He?void 0:He.quotes[0]]:[],AdvanceSearch:!1,tableCustomFields:[],checkBox:!1,deleteMany:!0,ManageGrid:!1,onOpen:()=>Ze(!0),access:Tl}),(null===He||void 0===He||null===(xe=He.quotes)||void 0===xe?void 0:xe.length)>1&&(0,G.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:(0,G.jsx)(r.Button,{colorScheme:"brand",size:"sm",variant:"outline",display:"flex",justifyContant:"end",onClick:()=>vl(!ul),children:ul?"Show less":"Show more"})})]})}),(null===Bl||void 0===Bl?void 0:Bl.view)&&(0,G.jsx)(d.GridItem,{colSpan:{base:12,md:6},children:(0,G.jsxs)(u.A,{overflow:"scroll",children:[(0,G.jsx)(N.A,{title:"Invoices",isLoding:We,columnData:null!==El&&void 0!==El?El:[],dataLength:null===He||void 0===He||null===(je=He.invoice)||void 0===je?void 0:je.length,allData:ml?null===He||void 0===He?void 0:He.invoice:(null===He||void 0===He||null===(pe=He.invoice)||void 0===pe?void 0:pe.length)>0?[null===He||void 0===He?void 0:He.invoice[0]]:[],tableData:ml?null===He||void 0===He?void 0:He.invoice:(null===He||void 0===He||null===(fe=He.invoice)||void 0===fe?void 0:fe.length)>0?[null===He||void 0===He?void 0:He.invoice[0]]:[],AdvanceSearch:!1,tableCustomFields:[],checkBox:!1,deleteMany:!0,ManageGrid:!1,onOpen:()=>el(!0),access:Bl}),(null===He||void 0===He||null===(ge=He.invoice)||void 0===ge?void 0:ge.length)>1&&(0,G.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:(0,G.jsx)(r.Button,{colorScheme:"brand",size:"sm",variant:"outline",display:"flex",justifyContant:"end",onClick:()=>hl(!ml),children:ml?"Show less":"Show more"})})]})})]})})})}),(0,G.jsx)(a.Kp,{pt:4,p:0,children:(0,G.jsx)(d.GridItem,{colSpan:{base:12},children:(0,G.jsxs)(u.A,{minH:"40vh",children:[(0,G.jsxs)(d.Flex,{alignItems:"center",justifyContent:"space-between",mb:"2",children:[(0,G.jsx)(d.Heading,{size:"md",mb:3,children:"Documents"}),(0,G.jsx)(r.Button,{leftIcon:(0,G.jsx)(i.AddIcon,{}),size:"sm",variant:"brand",onClick:()=>jl(!0),children:"Add Document"})]}),(0,G.jsx)(v.E,{}),(0,G.jsx)(d.VStack,{mt:4,alignItems:"flex-start",children:(null===He||void 0===He||null===(be=He.Document)||void 0===be?void 0:be.length)>0?null===He||void 0===He||null===(ye=He.Document)||void 0===ye?void 0:ye.map((e=>{var l;return(0,G.jsx)(c.A,{name:e.folderName,item:e,children:null===e||void 0===e||null===(l=e.files)||void 0===l?void 0:l.map((e=>(0,G.jsx)(c.A,{download:Ml,data:e,name:e.fileName,isFile:!0,from:"contact"})))})})):(0,G.jsx)(d.Text,{textAlign:"center",width:"100%",color:Ae,fontSize:"sm",fontWeight:"700",children:(0,G.jsx)(P.A,{})})})]})})}),(0,G.jsx)(a.Kp,{pt:4,p:0,children:(0,G.jsx)(d.GridItem,{colSpan:{base:12},children:(0,G.jsx)(u.A,{children:(0,G.jsxs)(d.Grid,{templateColumns:{base:"1fr"},gap:4,children:[(0,G.jsx)(d.GridItem,{colSpan:2,children:(0,G.jsxs)(d.Box,{children:[(0,G.jsx)(d.Heading,{size:"md",mb:3,children:"Social Media Profiles"}),(0,G.jsx)(v.E,{})]})}),null!==ke&&void 0!==ke&&ke.linkedInProfile||null!==ke&&void 0!==ke&&ke.facebookProfile||null!==ke&&void 0!==ke&&ke.twitterHandle||null!==ke&&void 0!==ke&&ke.otherProfiles?(0,G.jsxs)(d.Grid,{templateColumns:"repeat(12, 1fr)",gap:4,my:3,flexWrap:"wrap",display:"flex",justifyContent:"center",children:[(null===ke||void 0===ke?void 0:ke.linkedInProfile)&&(0,G.jsxs)(d.GridItem,{textAlign:"center",colSpan:{base:2,md:1},children:[(0,G.jsx)("a",{target:"_blank",href:null===ke||void 0===ke?void 0:ke.linkedInProfile,children:(0,G.jsx)(r.IconButton,{colorScheme:"brand","aria-label":"Call Fred",borderRadius:"10px",size:"md",icon:(0,G.jsx)(j.LnC,{})})}),(0,G.jsx)(d.Text,{fontSize:"sm",mt:2,fontWeight:"bold",color:"blackAlpha.900",children:" LinkedIn Profile  "})]}),(null===ke||void 0===ke?void 0:ke.facebookProfile)&&(0,G.jsxs)(d.GridItem,{textAlign:"center",colSpan:{base:2,md:1},children:[(0,G.jsx)("a",{target:"_blank",href:"https://www.facebook.com/".concat(ke.facebookProfile),children:(0,G.jsx)(r.IconButton,{colorScheme:"brand","aria-label":"Call Fred",borderRadius:"10px",size:"md",icon:(0,G.jsx)(f.iYk,{})})}),(0,G.jsx)(d.Text,{fontSize:"sm",mt:2,fontWeight:"bold",color:"blackAlpha.900",children:" Facebook Profile  "})]}),(null===ke||void 0===ke?void 0:ke.linkedInProfile)&&(0,G.jsxs)(d.GridItem,{textAlign:"center",colSpan:{base:2,md:1},children:[(0,G.jsx)("a",{target:"_blank",href:"https://www.facebook.com/".concat(ke.facebookProfile),children:(0,G.jsx)(r.IconButton,{colorScheme:"brand","aria-label":"Call Fred",borderRadius:"10px",size:"md",icon:(0,G.jsx)(p.Pj_,{})})}),(0,G.jsx)(d.Text,{fontSize:"sm",mt:2,px:2,fontWeight:"bold",color:"blackAlpha.900",children:"Twitter Handle "})]}),(null===ke||void 0===ke?void 0:ke.linkedInProfile)&&(0,G.jsxs)(d.GridItem,{textAlign:"center",colSpan:{base:2,md:1},children:[(0,G.jsx)("a",{target:"_blank",href:null===ke||void 0===ke?void 0:ke.otherProfiles,children:(0,G.jsx)(r.IconButton,{colorScheme:"brand","aria-label":"Call Fred",borderRadius:"10px",size:"md",icon:(0,G.jsx)(j.o9J,{})})}),(0,G.jsx)(d.Text,{fontSize:"sm",mt:2,fontWeight:"bold",color:"blackAlpha.900",children:" Other Profiles  "})]})]}):(0,G.jsx)(d.Grid,{templateColumns:"repeat(2, 1fr)",gap:4,children:(0,G.jsx)(d.GridItem,{colSpan:{base:2},textAlign:"center",children:(0,G.jsxs)(d.Text,{textAlign:"center",width:"100%",color:Ae,fontSize:"sm",fontWeight:"700",children:[" ",(0,G.jsx)(P.A,{})]})})})]})})})})]})]}),("superAdmin"===Ie.role||(null===Il||void 0===Il?void 0:Il.update)||(null===Il||void 0===Il?void 0:Il.delete))&&(0,G.jsx)(u.A,{mt:3,children:(0,G.jsx)(d.Grid,{templateColumns:"repeat(6, 1fr)",gap:1,children:(0,G.jsx)(d.GridItem,{colStart:6,children:(0,G.jsxs)(d.Flex,{justifyContent:"right",children:[(null===Il||void 0===Il?void 0:Il.update)&&(0,G.jsx)(r.Button,{size:"sm",onClick:()=>Fe(!0),leftIcon:(0,G.jsx)(i.EditIcon,{}),mr:2.5,variant:"outline",colorScheme:"green",children:"Edit"}),(null===Il||void 0===Il?void 0:Il.delete)&&(0,G.jsx)(r.Button,{size:"sm",style:{background:"red.800"},onClick:()=>Ee(!0),leftIcon:(0,G.jsx)(i.DeleteIcon,{}),colorScheme:"red",children:"Delete"})]})})})})]}),Be&&(0,G.jsx)(k.A,{isOpen:Be,size:"lg",onClose:Oe,contactData:null===yl||void 0===yl?void 0:yl[0]}),(0,G.jsx)(z.A,{isOpen:Ge,contactData:null===yl||void 0===yl?void 0:yl[0],size:"lg",onClose:Fe,setAction:Ve,moduleId:null===yl||void 0===yl||null===(Se=yl[0])||void 0===Se?void 0:Se._id,data:ke}),(0,G.jsx)(W.A,{isOpen:Pe,onClose:()=>Ee(!1),type:"Contact",handleDeleteData:async e=>{try{Le(!0),200===(await(0,w.Gx)("api/contact/delete/",e)).status&&(Ee(!1),Ve((e=>!e)),gl("/contacts"))}catch(l){console.log(l)}finally{Le(!1)}},ids:we.id}),(0,G.jsx)(A.A,{lead:"false",contactEmail:null===He||void 0===He||null===(Ce=He.contact)||void 0===Ce?void 0:Ce.email,fetchData:Wl,isOpen:Qe,onClose:Ke,id:we.id}),(0,G.jsx)(M.A,{addDocument:xl,setAddDocument:jl,linkId:we.id,from:"contact",setAction:Ve,fetchData:Wl}),(0,G.jsx)(I.A,{fetchData:Wl,leadContect:Rl[0],isOpen:ll,onClose:ol,from:"contact",id:we.id,setAction:Ve,view:!0}),(0,G.jsx)(V.A,{isOpen:qe,fetchData:Wl,leadContect:Rl[0],onClose:Ue,id:we.id,userAction:"add",view:!0}),(0,G.jsx)(D.A,{viewData:He,fetchData:Wl,setAction:Ve,isOpen:Ye,onClose:$e,data:null===ke||void 0===ke?void 0:ke.contact,id:we.id,cData:ke}),(0,G.jsx)(K.A,{isOpen:Je,size:"lg",onClose:()=>Ze(!1),setAction:Ve,type:"add",contactId:we.id}),(0,G.jsx)(Y.A,{isOpen:Xe,size:"lg",onClose:()=>el(!1),setAction:Ve,type:"add",contactId:we.id}),(0,G.jsx)(F,{fetchData:Wl,isOpen:_e,onClose:Me,id:we.id,interestProperty:null===ke||void 0===ke?void 0:ke.interestProperty})]})}}}]);
//# sourceMappingURL=8195.10347c2a.chunk.js.map