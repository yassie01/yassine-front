"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[2958],{92958:(e,l,t)=>{t.r(l),t.d(l,{default:()=>S});var n=t(4450),i=t(22554),d=t(10216),o=t(63994),s=t(19488),a=t(86178),r=t.n(a),c=t(65043),m=t(34960),h=t(73216),x=t(95574),u=t(66305),v=t(14034),j=t(48177),p=t(85369),g=t(90074),f=t.n(g),b=t(70579);const S=()=>{var e,l,t,a;const g=(0,h.g)(),[S,T]=(0,c.useState)(),[y,I]=(0,c.useState)(!1),k=JSON.parse(localStorage.getItem("user")),[A,D]=(0,c.useState)(!1),[w,G]=(0,c.useState)(!1),C=(0,h.Zp)(),z=(0,h.g)();(0,c.useEffect)((()=>{(async()=>{D(!0);let e=await(0,u.x4)("api/meeting/view/",g.id);T(null===e||void 0===e?void 0:e.data),D(!1)})()}),[]);const[B,Y,M]=(0,x.h)(["Meetings","Contacts","Leads"]);return(0,b.jsxs)(b.Fragment,{children:[A?(0,b.jsx)(n.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,b.jsx)(s.A,{})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(n.Grid,{templateColumns:"repeat(4, 1fr)",gap:3,id:"reports",children:[(0,b.jsx)(n.GridItem,{colSpan:{base:4},children:(0,b.jsx)(n.Heading,{size:"lg",m:3,children:(null===S||void 0===S?void 0:S.agenda)||""})}),(0,b.jsx)(n.GridItem,{colSpan:{base:4},children:(0,b.jsx)(d.A,{children:(0,b.jsxs)(n.Grid,{gap:4,children:[(0,b.jsx)(n.GridItem,{colSpan:2,children:(0,b.jsxs)(n.Box,{children:[(0,b.jsxs)(n.Flex,{justifyContent:"space-between",children:[(0,b.jsx)(n.Heading,{size:"md",mb:3,children:"Meeting Details"}),(0,b.jsxs)(n.Box,{id:"hide-btn",children:[(0,b.jsx)(i.Button,{leftIcon:(0,b.jsx)(p.kl1,{}),size:"sm",variant:"brand",onClick:()=>{G(!0);const e=document.getElementById("reports"),l=document.getElementById("hide-btn");e?(l.style.display="none",f()().from(e).set({margin:[0,0,0,0],filename:"Meeting_Details_".concat(r()().format("DD-MM-YYYY"),".pdf"),image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,allowTaint:!0},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}}).save().then((()=>{G(!1),l.style.display=""}))):(console.error("Element with ID 'reports' not found."),G(!1))},disabled:w,children:w?"Please Wait...":"Print as PDF"}),(0,b.jsx)(i.Button,{leftIcon:(0,b.jsx)(m.m6W,{}),size:"sm",variant:"brand",onClick:()=>C(-1),style:{marginLeft:10},children:"Back"})]})]}),(0,b.jsx)(o.E,{})]})}),(0,b.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,b.jsxs)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Agenda"," "]}),(0,b.jsx)(n.Text,{children:null!==S&&void 0!==S&&S.agenda?null===S||void 0===S?void 0:S.agenda:" - "})]}),(0,b.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,b.jsxs)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Created By"]}),null!==S&&void 0!==S&&S.createBy?(null===S||void 0===S?void 0:S.createBy.firstName)+" "+(null===S||void 0===S?void 0:S.createBy.lastName):" - "]}),(0,b.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,b.jsxs)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","DateTime"," "]}),(0,b.jsxs)(n.Text,{children:[" ",null!==S&&void 0!==S&&S.dateTime?r()(null===S||void 0===S?void 0:S.dateTime).format("DD-MM-YYYY  h:mma "):" - "," ","[",null!==S&&void 0!==S&&S.dateTime?r()(null===S||void 0===S?void 0:S.dateTime).toNow():" - ","]"]})]}),(0,b.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,b.jsxs)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Timestamp"," "]}),(0,b.jsxs)(n.Text,{children:[" ",null!==S&&void 0!==S&&S.timestamp?r()(null===S||void 0===S?void 0:S.timestamp).format("DD-MM-YYYY  h:mma "):" - "," ","[",null!==S&&void 0!==S&&S.timestamp?r()(null===S||void 0===S?void 0:S.timestamp).toNow():" - ","]"]})]}),(0,b.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,b.jsxs)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Location"," "]}),(0,b.jsx)(n.Text,{children:null!==S&&void 0!==S&&S.location?null===S||void 0===S?void 0:S.location:" - "})]}),(0,b.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,b.jsxs)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Notes"," "]}),(0,b.jsx)(n.Text,{children:null!==S&&void 0!==S&&S.notes?null===S||void 0===S?void 0:S.notes:" - "})]}),(0,b.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,b.jsx)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:"Attendes"}),(null===Y||void 0===Y?void 0:Y.view)&&(null===S||void 0===S||null===(e=S.attendes)||void 0===e?void 0:e.length)>0&&S.attendes.map(((e,l)=>(0,b.jsx)(n.Text,{color:"blackAlpha.900",children:e.fullName},"contact-".concat(l)))),(0,b.jsx)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:"Lead"}),(null===M||void 0===M?void 0:M.view)&&(null===S||void 0===S||null===(l=S.attendesLead)||void 0===l?void 0:l.length)>0&&S.attendesLead.map(((e,l)=>(0,b.jsx)(n.Text,{children:e.leadName},"lead-".concat(l)))),!(null!==Y&&void 0!==Y&&Y.view&&null!==S&&void 0!==S&&null!==(t=S.attendes)&&void 0!==t&&t.length||null!==M&&void 0!==M&&M.view&&null!==S&&void 0!==S&&null!==(a=S.attendesLead)&&void 0!==a&&a.length)&&(0,b.jsx)(n.Text,{children:"-"})]})]})})})]}),("superAdmin"===k.role||(null===B||void 0===B?void 0:B.update)||(null===B||void 0===B?void 0:B.delete))&&(0,b.jsx)(d.A,{mt:3,children:(0,b.jsx)(n.Grid,{templateColumns:"repeat(6, 1fr)",gap:1,children:(0,b.jsx)(n.GridItem,{colStart:6,children:(0,b.jsx)(n.Flex,{justifyContent:"right",children:"superAdmin"===k.role||null!==B&&void 0!==B&&B.delete?(0,b.jsx)(i.Button,{size:"sm",style:{background:"red.800"},onClick:()=>I(!0),leftIcon:(0,b.jsx)(v.DeleteIcon,{}),colorScheme:"red",children:"Delete"}):""})})})})]}),(0,b.jsx)(j.A,{isOpen:y,onClose:()=>I(!1),type:"Meetings",handleDeleteData:async e=>{try{D(!0),200===(await(0,u.Gx)("api/meeting/delete/",z.id)).status&&(I(!1),C(-1))}catch(l){console.log(l)}finally{D(!1)}},ids:z.id})]})}}}]);
//# sourceMappingURL=2958.8267cbf1.chunk.js.map