(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[8471],{38471:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>G});var n=a(89379),i=a(65043),r=a(73216),l=a(35475),o=a(14034),s=a(19754),d=a(4450),c=a(85376),u=a(22554),h=a(66305),m=a(95574),v=a(88031),x=a(17368),f=a(63516),p=a(80899),g=a(40848),j=a(78510),y=a(67682),S=a(84626),b=a(19488),C=a(43017),w=a(97508),B=a(70579);const $=e=>{const{state:t,allData:a,advanceSearch:n,setAdvanceSearch:i,isLoding:r,setSearchedData:l,setDisplaySearchData:o,setSearchClear:s,setSearchbox:c}=e,h=(0,w.wA)(),m=p.Ik({senderName:p.Yj(),realetedTo:p.Yj(),createByName:p.Yj()}),v=(0,f.Wx)({initialValues:{senderName:"",realetedTo:"",createByName:""},validationSchema:m,onSubmit:(e,t)=>{let{resetForm:n}=t;h((0,C.gB)(e)),h((0,C.DW)({values:e,allData:a,type:"Email"}));const r=[{name:["senderName"],value:e.senderName},{name:["realetedTo"],value:e.realetedTo},{name:["createByName"],value:e.createByName}];h((0,C.Tr)(r.filter((e=>e.value)))),o(!0),i(!1),n(),c("")}}),{errors:x,touched:$,values:D,handleBlur:T,handleChange:z,handleSubmit:N,setFieldValue:A,resetForm:L,dirty:M}=v;return(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(g.aF,{onClose:()=>{i(!1),L()},isOpen:n,isCentered:!0,children:[(0,B.jsx)(g.mH,{}),(0,B.jsxs)(g.$m,{children:[(0,B.jsx)(g.rQ,{children:"Advance Search"}),(0,B.jsx)(g.s_,{onClick:()=>{i(!1),L()}}),(0,B.jsx)(g.cw,{children:(0,B.jsxs)(d.Grid,{templateColumns:"repeat(12, 1fr)",mb:3,gap:2,children:[(0,B.jsxs)(d.GridItem,{colSpan:{base:12},children:[(0,B.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Sender Name"}),(0,B.jsx)(y.Input,{fontSize:"sm",onChange:z,onBlur:T,value:null===D||void 0===D?void 0:D.senderName,name:"senderName",placeholder:"Enter Sender Name",fontWeight:"500"}),(0,B.jsxs)(d.Text,{mb:"10px",color:"red",children:[" ",x.senderName&&$.senderName&&x.senderName]})]}),(0,B.jsxs)(d.GridItem,{colSpan:{base:12},children:[(0,B.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Realeted To"}),(0,B.jsxs)(S.l6,{value:null===D||void 0===D?void 0:D.realetedTo,fontSize:"sm",name:"realetedTo",onChange:z,fontWeight:"500",placeholder:"Select Realeted To",children:[(0,B.jsx)("option",{value:"contact",children:"Contact"}),(0,B.jsx)("option",{value:"lead",children:"Lead"})]}),(0,B.jsxs)(d.Text,{mb:"10px",color:"red",children:[" ",x.realetedTo&&$.realetedTo&&x.realetedTo]})]}),(0,B.jsxs)(d.GridItem,{colSpan:{base:12},children:[(0,B.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"CreateBy Name"}),(0,B.jsx)(y.Input,{fontSize:"sm",onChange:z,onBlur:T,value:null===D||void 0===D?void 0:D.createByName,name:"createByName",placeholder:"Enter CreateBy Name",fontWeight:"500"}),(0,B.jsxs)(d.Text,{mb:"10px",color:"red",children:[" ",x.createByName&&$.createByName&&x.createByName]})]})]})}),(0,B.jsxs)(g.jl,{children:[(0,B.jsx)(u.Button,{size:"sm",variant:"brand",mr:2,onClick:N,disabled:!(!r&&M),children:r?(0,B.jsx)(b.A,{}):"Search"}),(0,B.jsx)(u.Button,{size:"sm",variant:"outline",colorScheme:"red",onClick:()=>L(),children:"Clear"})]})]})]})})};var D=a(86178),T=a.n(D),z=a(27149),N=a(34960),A=a(95104),L=a(53186),M=a(49565),O=a(91125),F=a(3388),W=a(89849),k=a(60446),_=a.n(k),H=a(42101),I=a(42145);const V=e=>{const{onClose:t,isOpen:a}=e,[n,r]=(0,i.useState)(!1),[l,o]=(0,i.useState)([]),[s,c]=(0,i.useState)([]),[m,v]=(0,i.useState)(!1),[x,p]=(0,i.useState)(!1),[C,$]=(0,i.useState)([]),D=(0,w.wA)(),T=JSON.parse(localStorage.getItem("user")),z=(new Date).toISOString().split(".")[0],N={sender:null===T||void 0===T?void 0:T._id,recipient:"",subject:"",callNotes:"",createByContact:"",createByLead:"",startDate:"",type:"message",html:"",category:"contact",createBy:null===T||void 0===T?void 0:T._id},k=(0,f.Wx)({initialValues:N,validationSchema:W.y4,onSubmit:(e,t)=>{let{resetForm:a}=t;U(),a()}}),{errors:V,touched:E,values:G,handleBlur:P,handleChange:Y,handleSubmit:R,setFieldValue:J}=k,U=async()=>{try{r(!0),200===(await(0,h.d_)("api/email/add",G)).status&&(e.onClose(),e.setAction((e=>!e)))}catch(t){console.log(t)}finally{r(!1)}};(0,i.useEffect)((async()=>{G.start=null===e||void 0===e?void 0:e.date;try{let e;var t;if("Contact"===G.category&&s.length<=0)e=await(0,h.x4)("superAdmin"===T.role?"api/contact/":"api/contact/?createBy=".concat(T._id)),c(null===(t=e)||void 0===t?void 0:t.data);else if("Lead"===G.category&&l<=0){var a;e=await(0,h.x4)("superAdmin"===T.role?"api/lead/":"api/lead/?createBy=".concat(T._id)),o(null===(a=e)||void 0===a?void 0:a.data)}}catch(n){console.log(n)}}),[e,G.category]);return(0,i.useEffect)((()=>{"template"===(null===G||void 0===G?void 0:G.type)&&(async()=>{r(!0);const e=await D((0,H.t)());var t;200===e.payload.status?$(null===e||void 0===e||null===(t=e.payload)||void 0===t?void 0:t.data):I.oR.error("Failed to fetch data","error"),r(!1)})()}),[null===G||void 0===G?void 0:G.type]),(0,i.useEffect)((()=>{(async()=>{if(G.createByContact){let e=s.find((e=>e._id===G.createByContact));e&&J("recipient",e.email)}else if(G.createByLead){let e=l.find((e=>e._id===G.createByLead));e&&J("recipient",e.leadEmail)}else J("recipient","")})()}),[G.createByContact,G.createByLead]),(0,B.jsxs)(g.aF,{onClose:t,isOpen:a,isCentered:!0,children:[(0,B.jsx)(g.mH,{}),(0,B.jsxs)(g.$m,{height:"580px",children:[(0,B.jsx)(g.rQ,{children:"Add Email "}),(0,B.jsx)(g.s_,{}),(0,B.jsxs)(g.cw,{overflowY:"auto",height:"400px",children:[(0,B.jsx)(M.A,{isOpen:m,data:s,onClose:v,fieldName:"createByContact",setFieldValue:J}),(0,B.jsx)(O.A,{isOpen:x,data:l,onClose:p,fieldName:"createByLead",setFieldValue:J}),(0,B.jsxs)(d.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,B.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,B.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Related"}),(0,B.jsx)(A.z6,{onChange:e=>{J("category",e),J("createByContact",""),J("createByLead","")},value:G.category,children:(0,B.jsxs)(d.Stack,{direction:"row",children:[(0,B.jsx)(A.sx,{value:"Contact",children:"Contact"}),(0,B.jsx)(A.sx,{value:"Lead",children:"Lead"})]})})]}),(0,B.jsx)(d.GridItem,{colSpan:{base:12},children:"Contact"===G.category?(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,B.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Recipient  (Contact)"}),(0,B.jsxs)(d.Flex,{justifyContent:"space-between",children:[(0,B.jsx)(S.l6,{value:G.createByContact,name:"createByContact",onChange:Y,mb:V.createByContact&&E.createByContact?void 0:"10px",fontWeight:"500",placeholder:"Assign To",borderColor:V.createByContact&&E.createByContact?"red.300":null,children:null===s||void 0===s?void 0:s.map((e=>(0,B.jsx)("option",{value:e._id,children:"Contact"===G.category?"".concat(e.firstName," ").concat(e.lastName):e.leadName},e._id)))}),(0,B.jsx)(u.IconButton,{onClick:()=>v(!0),ml:2,fontSize:"25px",icon:(0,B.jsx)(F.G2h,{})})]})]})}):"Lead"===G.category?(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,B.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Recipient (Lead)"}),(0,B.jsxs)(d.Flex,{justifyContent:"space-between",children:[(0,B.jsx)(S.l6,{value:G.createByLead,name:"createByLead",onChange:Y,mb:V.createByLead&&E.createByLead?void 0:"10px",fontWeight:"500",placeholder:"Assign To",borderColor:V.createByLead&&E.createByLead?"red.300":null,children:null===l||void 0===l?void 0:l.map((e=>(0,B.jsx)("option",{value:e._id,children:"Contact"===G.category?"".concat(e.firstName," ").concat(e.lastName):e.leadName},e._id)))}),(0,B.jsx)(u.IconButton,{onClick:()=>p(!0),ml:2,fontSize:"25px",icon:(0,B.jsx)(F.G2h,{})})]})]})}):""}),(0,B.jsxs)(d.GridItem,{colSpan:{base:12},children:[(0,B.jsxs)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Recipient",(0,B.jsx)(d.Text,{color:"red",children:"*"})]}),(0,B.jsx)(y.Input,{fontSize:"sm",disabled:!0,value:G.recipient,name:"recipient",placeholder:"Recipient",fontWeight:"500",borderColor:V.recipient&&E.recipient?"red.300":null}),(0,B.jsxs)(d.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",V.recipient&&E.recipient&&V.recipient]})]}),(0,B.jsxs)(d.GridItem,{colSpan:{base:12},children:[(0,B.jsxs)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Start Date",(0,B.jsx)(d.Text,{color:"red",children:"*"})]}),(0,B.jsx)(y.Input,{type:"datetime-local",fontSize:"sm",onChange:Y,onBlur:P,min:_()(z).format("YYYY-MM-DD HH:mm"),value:G.startDate,name:"startDate",fontWeight:"500",borderColor:null!==V&&void 0!==V&&V.startDate&&null!==E&&void 0!==E&&E.startDate?"red.300":null}),(0,B.jsxs)(d.Text,{fontSize:"sm",mb:"10px",color:"red",children:[" ",V.startDate&&E.startDate&&V.startDate]})]}),(0,B.jsxs)(d.GridItem,{colSpan:{base:12},children:[(0,B.jsxs)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Subject",(0,B.jsx)(d.Text,{color:"red",children:"*"})]}),(0,B.jsx)(y.Input,{fontSize:"sm",onChange:Y,onBlur:P,value:G.subject,name:"subject",placeholder:"subject",fontWeight:"500",borderColor:V.subject&&E.subject?"red.300":null}),(0,B.jsxs)(d.Text,{fontSize:"sm",mb:"10px",color:"red",children:[" ",V.subject&&E.subject&&V.subject]})]}),(0,B.jsxs)(d.GridItem,{colSpan:{base:12},children:[(0,B.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Message"}),(0,B.jsx)(A.z6,{onChange:e=>{J("type",e)},value:G.type,children:(0,B.jsxs)(d.Stack,{direction:"row",children:[(0,B.jsx)(A.sx,{value:"message",children:"Message"}),(0,B.jsx)(A.sx,{value:"template",children:"Template"})]})})]}),(0,B.jsx)(d.GridItem,{colSpan:{base:12},children:"message"===(null===G||void 0===G?void 0:G.type)?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(L.T,{resize:"none",fontSize:"sm",placeholder:"Enter Message",onChange:Y,onBlur:P,value:G.message,name:"message",fontWeight:"500",borderColor:V.message&&E.message?"red.300":null}),(0,B.jsxs)(d.Text,{fontSize:"sm",mb:"10px",color:"red",children:[" ",V.message&&E.message&&V.message]})]}):(0,B.jsx)(S.l6,{name:"html",onChange:Y,onBlur:P,value:G.html,fontWeight:"500",placeholder:"Select Template",children:null===C||void 0===C?void 0:C.map((e=>(0,B.jsx)("option",{value:null===e||void 0===e?void 0:e.html,children:null===e||void 0===e?void 0:e.templateName},e._id)))})})]})]}),(0,B.jsxs)(g.jl,{children:[(0,B.jsx)(u.Button,{variant:"brand",size:"sm",disabled:!!n,onClick:R,children:n?(0,B.jsx)(b.A,{}):"Save"}),(0,B.jsx)(u.Button,{sx:{marginLeft:2,textTransform:"capitalize"},variant:"outline",colorScheme:"red",onClick:()=>{k.resetForm(),t()},size:"sm",children:"Close"})]})]})]})};var E=a(27560);const G=e=>{const[t,a]=(0,i.useState)(!1),{isOpen:h,onOpen:f,onClose:p}=(0,s.j1)(),[g,j]=(0,i.useState)(!1),[y,S]=(0,i.useState)([]),[b,C]=(0,i.useState)(!1),[D,A]=(0,i.useState)([]),[L,M]=(0,i.useState)(""),O=(JSON.parse(localStorage.getItem("user")),(0,r.Zp)()),F=(0,w.wA)(),[W,k]=(0,i.useState)(!1),[_,H]=(0,i.useState)([]),[G,P]=(0,i.useState)(!1),[Y,R]=(0,i.useState)([]),[J,U,Q]=(0,m.h)(["Emails","Leads","Contacts"]),Z={Header:"Action",accessor:"action",isSortable:!1,center:!0,cell:e=>{var t;let{row:a}=e;return(0,B.jsx)(d.Text,{fontSize:"md",fontWeight:"900",textAlign:"center",children:(0,B.jsxs)(c.W1,{isLazy:!0,children:[(0,B.jsx)(c.IU,{children:(0,B.jsx)(x.txp,{})}),(0,B.jsxs)(c.cO,{minW:"fit-content",transform:"translate(1520px, 173px);",children:[(null===J||void 0===J?void 0:J.view)&&(0,B.jsx)(c.Dr,{py:2.5,color:"green",onClick:()=>O("/Email/".concat(null===a||void 0===a?void 0:a.values._id)),icon:(0,B.jsx)(o.ViewIcon,{mb:"2px",fontSize:15}),children:"View"}),null!==a&&void 0!==a&&null!==(t=a.original)&&void 0!==t&&t.createByContact&&null!==Q&&void 0!==Q&&Q.view?(0,B.jsxs)(c.Dr,{width:"165px",py:2.5,color:"black",onClick:()=>{var e;return O((null===a||void 0===a||null===(e=a.original)||void 0===e?void 0:e.createByContact)&&"/contactView/".concat(null===a||void 0===a?void 0:a.original.createByContact))},icon:(null===a||void 0===a?void 0:a.original.createByContact)&&(0,B.jsx)(N.oau,{fontSize:15}),children:["  ",(null===a||void 0===a?void 0:a.original.createByContact)&&(null===Q||void 0===Q?void 0:Q.view)&&"contact"]}):"",null!==a&&void 0!==a&&a.original.createByLead&&null!==U&&void 0!==U&&U.view?(0,B.jsx)(c.Dr,{width:"165px",py:2.5,color:"black",onClick:()=>O("/leadView/".concat(null===a||void 0===a?void 0:a.original.createByLead)),icon:(null===a||void 0===a?void 0:a.original.createByLead)&&(null===U||void 0===U?void 0:U.view)&&(0,B.jsx)(z.ju$,{style:{marginBottom:"4px"},fontSize:15}),children:(null===a||void 0===a?void 0:a.original.createByLead)&&(null===U||void 0===U?void 0:U.view)&&"lead"}):""]})]})})}},X=[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"recipient",accessor:"createByName",cell:e=>{var t;return(0,B.jsx)(l.N_,{to:"/Email/".concat(null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.values._id),children:(0,B.jsx)(d.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e?void 0:e.value)||"-"})})}},{Header:"sender Name",accessor:"senderName"},{Header:"Realeted To",accessor:"realeted",cell:e=>{let{row:t}=e;return(0,B.jsxs)(d.Text,{children:[null!==t&&void 0!==t&&t.original.createByContact&&null!==Q&&void 0!==Q&&Q.view?(0,B.jsx)(l.N_,{to:"/contactView/".concat(null===t||void 0===t?void 0:t.original.createByContact),children:(0,B.jsx)(d.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:(null===t||void 0===t?void 0:t.original.createByContact)&&"Contact"})}):(0,B.jsx)(d.Text,{me:"10px",fontSize:"sm",fontWeight:"700",children:(null===t||void 0===t?void 0:t.original.createByContact)&&"Contact"}),null!==U&&void 0!==U&&U.view&&null!==t&&void 0!==t&&t.original.createByLead?(0,B.jsx)(l.N_,{to:"/leadView/".concat(null===t||void 0===t?void 0:t.original.createByLead),children:(0,B.jsx)(d.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:(null===t||void 0===t?void 0:t.original.createByLead)&&"Lead"})}):(0,B.jsx)(d.Text,{me:"10px",fontSize:"sm",fontWeight:"700",children:(null===t||void 0===t?void 0:t.original.createByLead)&&"Lead"})]})}},{Header:"timestamp",accessor:"timestamp"},{Header:"Created",accessor:"created",cell:e=>{let{row:t}=e;return(0,B.jsx)(d.Text,{fontSize:"sm",fontWeight:"700",children:T()(null===t||void 0===t?void 0:t.values.timestamp).format("(DD/MM) h:mma")})}},...null!==J&&void 0!==J&&J.update||null!==J&&void 0!==J&&J.view||null!==J&&void 0!==J&&J.delete?[Z]:[]];return(0,i.useEffect)((()=>{(async()=>{var e;k(!0);const t=await F((0,E.q)());let a=[...null===t||void 0===t||null===(e=t.payload)||void 0===e?void 0:e.data];a&&(null===a||void 0===a?void 0:a.length)>0&&(null===a||void 0===a||a.forEach((e=>{if(Object.isExtensible(e))e.createByLead&&(e.realeted="Lead"),e.createBy&&(e.realeted="Contact");else{const t=(0,n.A)({},e);e.createByLead&&(t.realeted="Lead"),e.createBy&&(t.realeted="Contact"),e=t}}))),200===t.payload.status?H(a):I.oR.error("Failed to fetch data","error"),k(!1)})()}),[t]),(0,B.jsxs)("div",{children:[(0,B.jsx)(v.A,{title:"Email",isLoding:W,columnData:null!==X&&void 0!==X?X:[],allData:null!==_&&void 0!==_?_:[],tableData:_,searchDisplay:G,setSearchDisplay:P,searchedDataOut:Y,setSearchedDataOut:R,tableCustomFields:[],access:J,onOpen:f,selectedValues:y,setSelectedValues:S,setDelete:j,deleteMany:!0,AdvanceSearch:(0,B.jsx)(u.Button,{variant:"outline",colorScheme:"brand",leftIcon:(0,B.jsx)(o.SearchIcon,{}),mt:{sm:"5px",md:"0"},size:"sm",onClick:()=>C(!0),children:"Advance Search"}),getTagValuesOutSide:D,searchboxOutside:L,setGetTagValuesOutside:A,setSearchboxOutside:M,handleSearchType:"EmailSearch"}),(0,B.jsx)($,{advanceSearch:b,setAdvanceSearch:C,setSearchedData:R,setDisplaySearchData:P,allData:null!==_&&void 0!==_?_:[],setAction:a,setGetTagValues:A,setSearchbox:M}),(0,B.jsx)(V,{isOpen:h,size:"sm",onClose:p,setAction:a})]})}},41046:(e,t,a)=>{"use strict";a.d(t,{A:()=>x});var n=a(89379),i=a(31206),r=a(4450),l=a(71778),o=a(35066),s=a(65043),d=a(71094),c=a(10216),u=a(76914),h=a(78152),m=a(85369),v=a(70579);function x(e){const{columnsData:t,tableData:a,title:x,type:f,selectedValues:p,setSelectedValues:g}=e,j=(0,s.useMemo)((()=>t),[t]),y=(0,s.useMemo)((()=>a),[a]),[S,b]=(JSON.parse(localStorage.getItem("user")),(0,s.useState)()),C=(0,d.useTable)({columns:j,data:y,initialState:{pageIndex:0}},d.useGlobalFilter,d.useSortBy,d.usePagination),{getTableProps:w,getTableBodyProps:B,headerGroups:$,prepareRow:D,page:T,canPreviousPage:z,canNextPage:N,pageOptions:A,pageCount:L,gotoPage:M,nextPage:O,previousPage:F,setPageSize:W,state:{pageIndex:k,pageSize:_}}=C;A.length<S&&b(A.length);const H=(0,i.dU)("gray.500","white"),I=(0,i.dU)("gray.200","whiteAlpha.100"),V=(e,t)=>{"multi"===f?e.target.checked?g((e=>[...e,t])):g((e=>e.filter((e=>e!==t)))):e.target.checked?g(t):g(null)};return(0,v.jsxs)(c.A,{direction:"column",w:"100%",px:"0px",style:{border:"1px solid gray.200"},overflowX:{sm:"scroll",lg:"hidden"},children:[(0,v.jsx)(r.Flex,{px:"25px",justify:"space-between",mb:"20px",align:"center",children:(0,v.jsxs)(r.Text,{color:H,fontSize:"22px",fontWeight:"700",lineHeight:"100%",children:[x,"  (",(0,v.jsx)(u.A,{targetNumber:null===y||void 0===y?void 0:y.length},null===y||void 0===y?void 0:y.length),")"]})}),(0,v.jsx)(r.Box,{overflowY:"auto",className:"table-container-property",children:(0,v.jsxs)(l.XI,(0,n.A)((0,n.A)({},w()),{},{variant:"simple",color:"gray.500",mb:"24px",children:[(0,v.jsx)(l.d8,{zIndex:1,children:null===$||void 0===$?void 0:$.map(((e,t)=>(0,s.createElement)(l.Tr,(0,n.A)((0,n.A)({},e.getHeaderGroupProps()),{},{key:t}),e.headers.map(((e,t)=>(0,s.createElement)(l.Th,(0,n.A)((0,n.A)({},e.getHeaderProps(!1!==e.isSortable&&e.getSortByToggleProps())),{},{pe:"10px",key:t,borderColor:I}),(0,v.jsxs)(r.Flex,{align:"center",justifyContent:e.center?"center":"start",fontSize:{sm:"14px",lg:"16px"},color:" secondaryGray.900",children:[(0,v.jsx)("span",{style:{textTransform:"capitalize",marginRight:"8px"},children:e.render("Header")}),!1!==e.isSortable&&(0,v.jsx)("span",{children:e.isSorted?e.isSortedDesc?(0,v.jsx)(m.GOR,{}):(0,v.jsx)(m.XhJ,{}):(0,v.jsx)(m.MjW,{})})]})))))))}),(0,v.jsxs)(l.NN,(0,n.A)((0,n.A)({},B()),{},{children:[0===(null===y||void 0===y?void 0:y.length)&&(0,v.jsx)(l.Tr,{children:(0,v.jsx)(l.Td,{colSpan:j.length,children:(0,v.jsx)(r.Text,{textAlign:"center",width:"100%",color:H,fontSize:"sm",fontWeight:"700",children:"-- No Data Found --"})})}),null===T||void 0===T?void 0:T.map(((e,t)=>{var a;return D(e),(0,s.createElement)(l.Tr,(0,n.A)((0,n.A)({},null===e||void 0===e?void 0:e.getRowProps()),{},{key:t}),null===e||void 0===e||null===(a=e.cells)||void 0===a?void 0:a.map(((e,t)=>{let a="";var i;"#"===(null===e||void 0===e?void 0:e.column.Header)?a=(0,v.jsxs)(r.Flex,{align:"center",children:["multi"===f?(0,v.jsx)(o.Sc,{colorScheme:"brandScheme",value:p,isChecked:p.includes(null===e||void 0===e?void 0:e.value),onChange:t=>V(t,null===e||void 0===e?void 0:e.value),me:"10px"}):(0,v.jsx)(o.Sc,{colorScheme:"brandScheme",value:p,isChecked:p===(null===e||void 0===e?void 0:e.value),onChange:t=>V(t,null===e||void 0===e?void 0:e.value),me:"10px"}),(0,v.jsx)(r.Text,{color:H,fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e||null===(i=e.row)||void 0===i?void 0:i.index)+1})]}):"title"===(null===e||void 0===e?void 0:e.column.Header)||"first Name"===(null===e||void 0===e?void 0:e.column.Header)||"last Name"===(null===e||void 0===e?void 0:e.column.Header)?a=(0,v.jsx)(r.Text,{me:"10px",color:H,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}):"phone Number"===(null===e||void 0===e?void 0:e.column.Header)||"Email Address"===(null===e||void 0===e?void 0:e.column.Header)?a=(0,v.jsx)(r.Text,{fontSize:"sm",fontWeight:"700",color:H,children:null===e||void 0===e?void 0:e.value}):("physical Address"===(null===e||void 0===e?void 0:e.column.Header)||"mailing Address"===(null===e||void 0===e?void 0:e.column.Header)||"Contact Method"===(null===e||void 0===e?void 0:e.column.Header))&&(a=(0,v.jsx)(r.Text,{color:H,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}));return(0,s.createElement)(l.Td,(0,n.A)((0,n.A)({},null===e||void 0===e?void 0:e.getCellProps()),{},{key:t,fontSize:{sm:"14px"},minW:{sm:"150px",md:"200px",lg:"auto"},borderColor:"transparent"}),a)})))}))]}))]}))}),(null===y||void 0===y?void 0:y.length)>5&&(0,v.jsx)(h.A,{gotoPage:M,gopageValue:S,setGopageValue:b,pageCount:L,canPreviousPage:z,previousPage:F,canNextPage:N,pageOptions:A,setPageSize:W,nextPage:O,pageSize:_,pageIndex:k})]})}},49565:(e,t,a)=>{"use strict";a.d(t,{A:()=>v});var n=a(40848),i=a(4450),r=a(22554),l=a(65043),o=(a(41046),a(19488)),s=a(8860),d=a(88031),c=a(20850),u=a(26547),h=a(97508),m=a(70579);const v=e=>{var t,a;const{onClose:v,isOpen:x,fieldName:f,setFieldValue:p,data:g}=e,[j,y]=(0,l.useState)(),[S,b]=(0,l.useState)([]),[C,w]=(0,l.useState)(!1),[B,$]=(0,l.useState)([]),D=(0,h.wA)();return(0,l.useEffect)((async()=>{await D((0,u.h)()),(async()=>{var e,t,a,n;w(!0);const i=await D((0,c.I)());b(null===i||void 0===i||null===(e=i.payload)||void 0===e?void 0:e.data);const r=[{Header:"#",accessor:"_id",isSortable:!1,width:10},...((null===i||void 0===i||null===(t=i.payload)||void 0===t||null===(a=t.data)||void 0===a||null===(n=a[0])||void 0===n?void 0:n.fields)||[]).filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))).map((e=>({Header:null===e||void 0===e?void 0:e.label,accessor:null===e||void 0===e?void 0:e.name})))];$(r),w(!1)})()}),[]),(0,m.jsxs)(n.aF,{onClose:v,size:"full",isOpen:x,children:[(0,m.jsx)(n.mH,{}),(0,m.jsxs)(n.$m,{children:[(0,m.jsx)(n.rQ,{children:"Select Contact"}),(0,m.jsx)(n.s_,{}),(0,m.jsx)(n.cw,{children:C?(0,m.jsx)(i.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,m.jsx)(o.A,{})}):(0,m.jsx)(d.A,{title:"Contacts",isLoding:C,columnData:null!==B&&void 0!==B?B:[],allData:null!==g&&void 0!==g?g:[],tableData:g,tableCustomFields:(null===S||void 0===S||null===(t=S[0])||void 0===t||null===(a=t.fields)||void 0===a?void 0:a.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||[],AdvanceSearch:()=>"",ManageGrid:!1,deleteMany:!1,selectedValues:j,setSelectedValues:y,selectType:"single",customSearch:!1})}),(0,m.jsxs)(n.jl,{children:[(0,m.jsxs)(r.Button,{variant:"brand",size:"sm",me:2,onClick:async()=>{try{w(!0),p(f,j),v()}catch(e){console.log(e)}finally{w(!1)}},disabled:!!C,leftIcon:(0,m.jsx)(s.NLY,{}),children:[" ",C?(0,m.jsx)(o.A,{}):"Select"]}),(0,m.jsx)(r.Button,{variant:"outline",size:"sm",colorScheme:"red",onClick:()=>v(),children:"Close"})]})]})]})}},53186:(e,t,a)=>{"use strict";a.d(t,{T:()=>d});var n=a(78510),i=a(59522),r=a(23216),l=a(65043);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o.apply(this,arguments)}var s=["className","rows"],d=(0,i.Rf)((function(e,t){var a=(0,i.Vl)("Textarea",e),d=(0,i.MN)(e),c=d.className,u=d.rows,h=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(d,s),m=(0,n.useFormControl)(h),v=u?(0,r.cJ)(a,["h","minH","height","minHeight"]):a;return l.createElement(i.Bv.textarea,o({ref:t,rows:u},m,{className:(0,r.cx)("chakra-textarea",c),__css:v}))}));r.gt&&(d.displayName="Textarea")},60446:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,a=36e5,n="millisecond",i="second",r="minute",l="hour",o="day",s="week",d="month",c="quarter",u="year",h="date",m="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],a=e%100;return"["+e+(t[(a-20)%10]||t[a]||t[0])+"]"}},p=function(e,t,a){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(a)+e},g={s:p,z:function(e){var t=-e.utcOffset(),a=Math.abs(t),n=Math.floor(a/60),i=a%60;return(t<=0?"+":"-")+p(n,2,"0")+":"+p(i,2,"0")},m:function e(t,a){if(t.date()<a.date())return-e(a,t);var n=12*(a.year()-t.year())+(a.month()-t.month()),i=t.clone().add(n,d),r=a-i<0,l=t.clone().add(n+(r?-1:1),d);return+(-(n+(a-i)/(r?i-l:l-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:d,y:u,w:s,d:o,D:h,h:l,m:r,s:i,ms:n,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},j="en",y={};y[j]=f;var S="$isDayjsObject",b=function(e){return e instanceof $||!(!e||!e[S])},C=function e(t,a,n){var i;if(!t)return j;if("string"==typeof t){var r=t.toLowerCase();y[r]&&(i=r),a&&(y[r]=a,i=r);var l=t.split("-");if(!i&&l.length>1)return e(l[0])}else{var o=t.name;y[o]=t,i=o}return!n&&i&&(j=i),i||!n&&j},w=function(e,t){if(b(e))return e.clone();var a="object"==typeof t?t:{};return a.date=e,a.args=arguments,new $(a)},B=g;B.l=C,B.i=b,B.w=function(e,t){return w(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var $=function(){function f(e){this.$L=C(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[S]=!0}var p=f.prototype;return p.parse=function(e){this.$d=function(e){var t=e.date,a=e.utc;if(null===t)return new Date(NaN);if(B.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(v);if(n){var i=n[2]-1||0,r=(n[7]||"0").substring(0,3);return a?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,r)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,r)}}return new Date(t)}(e),this.init()},p.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},p.$utils=function(){return B},p.isValid=function(){return!(this.$d.toString()===m)},p.isSame=function(e,t){var a=w(e);return this.startOf(t)<=a&&a<=this.endOf(t)},p.isAfter=function(e,t){return w(e)<this.startOf(t)},p.isBefore=function(e,t){return this.endOf(t)<w(e)},p.$g=function(e,t,a){return B.u(e)?this[t]:this.set(a,e)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(e,t){var a=this,n=!!B.u(t)||t,c=B.p(e),m=function(e,t){var i=B.w(a.$u?Date.UTC(a.$y,t,e):new Date(a.$y,t,e),a);return n?i:i.endOf(o)},v=function(e,t){return B.w(a.toDate()[e].apply(a.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(t)),a)},x=this.$W,f=this.$M,p=this.$D,g="set"+(this.$u?"UTC":"");switch(c){case u:return n?m(1,0):m(31,11);case d:return n?m(1,f):m(0,f+1);case s:var j=this.$locale().weekStart||0,y=(x<j?x+7:x)-j;return m(n?p-y:p+(6-y),f);case o:case h:return v(g+"Hours",0);case l:return v(g+"Minutes",1);case r:return v(g+"Seconds",2);case i:return v(g+"Milliseconds",3);default:return this.clone()}},p.endOf=function(e){return this.startOf(e,!1)},p.$set=function(e,t){var a,s=B.p(e),c="set"+(this.$u?"UTC":""),m=(a={},a[o]=c+"Date",a[h]=c+"Date",a[d]=c+"Month",a[u]=c+"FullYear",a[l]=c+"Hours",a[r]=c+"Minutes",a[i]=c+"Seconds",a[n]=c+"Milliseconds",a)[s],v=s===o?this.$D+(t-this.$W):t;if(s===d||s===u){var x=this.clone().set(h,1);x.$d[m](v),x.init(),this.$d=x.set(h,Math.min(this.$D,x.daysInMonth())).$d}else m&&this.$d[m](v);return this.init(),this},p.set=function(e,t){return this.clone().$set(e,t)},p.get=function(e){return this[B.p(e)]()},p.add=function(n,c){var h,m=this;n=Number(n);var v=B.p(c),x=function(e){var t=w(m);return B.w(t.date(t.date()+Math.round(e*n)),m)};if(v===d)return this.set(d,this.$M+n);if(v===u)return this.set(u,this.$y+n);if(v===o)return x(1);if(v===s)return x(7);var f=(h={},h[r]=t,h[l]=a,h[i]=e,h)[v]||1,p=this.$d.getTime()+n*f;return B.w(p,this)},p.subtract=function(e,t){return this.add(-1*e,t)},p.format=function(e){var t=this,a=this.$locale();if(!this.isValid())return a.invalidDate||m;var n=e||"YYYY-MM-DDTHH:mm:ssZ",i=B.z(this),r=this.$H,l=this.$m,o=this.$M,s=a.weekdays,d=a.months,c=a.meridiem,u=function(e,a,i,r){return e&&(e[a]||e(t,n))||i[a].slice(0,r)},h=function(e){return B.s(r%12||12,e,"0")},v=c||function(e,t,a){var n=e<12?"AM":"PM";return a?n.toLowerCase():n};return n.replace(x,(function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return B.s(t.$y,4,"0");case"M":return o+1;case"MM":return B.s(o+1,2,"0");case"MMM":return u(a.monthsShort,o,d,3);case"MMMM":return u(d,o);case"D":return t.$D;case"DD":return B.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return u(a.weekdaysMin,t.$W,s,2);case"ddd":return u(a.weekdaysShort,t.$W,s,3);case"dddd":return s[t.$W];case"H":return String(r);case"HH":return B.s(r,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return v(r,l,!0);case"A":return v(r,l,!1);case"m":return String(l);case"mm":return B.s(l,2,"0");case"s":return String(t.$s);case"ss":return B.s(t.$s,2,"0");case"SSS":return B.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(n,h,m){var v,x=this,f=B.p(h),p=w(n),g=(p.utcOffset()-this.utcOffset())*t,j=this-p,y=function(){return B.m(x,p)};switch(f){case u:v=y()/12;break;case d:v=y();break;case c:v=y()/3;break;case s:v=(j-g)/6048e5;break;case o:v=(j-g)/864e5;break;case l:v=j/a;break;case r:v=j/t;break;case i:v=j/e;break;default:v=j}return m?v:B.a(v)},p.daysInMonth=function(){return this.endOf(d).$D},p.$locale=function(){return y[this.$L]},p.locale=function(e,t){if(!e)return this.$L;var a=this.clone(),n=C(e,t,!0);return n&&(a.$L=n),a},p.clone=function(){return B.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},f}(),D=$.prototype;return w.prototype=D,[["$ms",n],["$s",i],["$m",r],["$H",l],["$W",o],["$M",d],["$y",u],["$D",h]].forEach((function(e){D[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),w.extend=function(e,t){return e.$i||(e(t,$,w),e.$i=!0),w},w.locale=C,w.isDayjs=b,w.unix=function(e){return w(1e3*e)},w.en=y[j],w.Ls=y,w.p={},w}()},91125:(e,t,a)=>{"use strict";a.d(t,{A:()=>v});var n=a(40848),i=a(4450),r=a(22554),l=a(65043),o=a(19488),s=a(8860),d=a(88031),c=a(87892),u=a(97508),h=a(37801),m=a(70579);const v=e=>{var t,a;const{onClose:v,isOpen:x,fieldName:f,setFieldValue:p,data:g}=e,j=(0,u.wA)(),[y,S]=(0,l.useState)(!1),[b,C]=(0,l.useState)([]),[w,B]=(0,l.useState)([]),[$,D]=(0,l.useState)([]);return(0,l.useEffect)((()=>{j((0,h.T)()),(async()=>{var e,t,a,n,i,r;S(!0);const l=await j((0,c.y)());B(null===l||void 0===l||null===(e=l.payload)||void 0===e?void 0:e.data);const o=[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"Status",accessor:"leadStatus",isSortable:!0,center:!0,cell:e=>{let{row:t}=e;return t.original.leadStatus}},...(null===l||void 0===l||null===(t=l.payload)||void 0===t||null===(a=t.data)||void 0===a||null===(n=a[0])||void 0===n||null===(i=n.fields)||void 0===i||null===(r=i.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||void 0===r?void 0:r.map((e=>"leadStatus"!==(null===e||void 0===e?void 0:e.name)&&{Header:null===e||void 0===e?void 0:e.label,accessor:null===e||void 0===e?void 0:e.name})))||[]];C(o),S(!1)})()}),[]),(0,m.jsxs)(n.aF,{onClose:v,size:"full",isOpen:x,children:[(0,m.jsx)(n.mH,{}),(0,m.jsxs)(n.$m,{children:[(0,m.jsx)(n.rQ,{children:"Select Lead"}),(0,m.jsx)(n.s_,{}),(0,m.jsx)(n.cw,{children:y?(0,m.jsx)(i.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,m.jsx)(o.A,{})}):(0,m.jsx)(d.A,{title:"Leads",isLoding:y,columnData:null!==b&&void 0!==b?b:[],allData:null!==g&&void 0!==g?g:[],tableData:g,tableCustomFields:(null===w||void 0===w||null===(t=w[0])||void 0===t||null===(a=t.fields)||void 0===a?void 0:a.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||[],AdvanceSearch:()=>"",ManageGrid:!1,deleteMany:!1,selectedValues:$,setSelectedValues:D,selectType:"single",customSearch:!1})}),(0,m.jsxs)(n.jl,{children:[(0,m.jsxs)(r.Button,{variant:"brand",size:"sm",me:2,disabled:!!y,leftIcon:(0,m.jsx)(s.NLY,{}),onClick:async()=>{try{S(!0),p(f,$),v()}catch(e){console.log(e)}finally{S(!1)}},children:[" ",y?(0,m.jsx)(o.A,{}):"Select"]}),(0,m.jsx)(r.Button,{variant:"outline",size:"sm",colorScheme:"red",onClick:()=>v(),children:"Close"})]})]})]})}}}]);
//# sourceMappingURL=8471.83629965.chunk.js.map